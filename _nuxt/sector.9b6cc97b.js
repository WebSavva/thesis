import{s as I,g as B,b as C}from"./index.7a919e48.js";import{f as S,_ as f,o as _,c as p,a as t,t as s,F as L,r as V,n as k,q as T,s as R,k as g,l as P,x as w,y as M,z as D,d as H,p as z,e as F,j as b,b as $,m as O}from"./entry.3f7ae044.js";import{u as Q}from"./globals.09885e61.js";const q={entertainment:{en:"entertainment",ru:"Отрасль развлечений"},food:{en:"catering",ru:"отрасль общественного питания"},finance:{en:"finance",ru:"финансовая отрасль"}},Y={en:{apply:"Apply",heading:"Economic sector"},ru:{apply:"Применить",heading:"Отрасль экономики"}},G=S({name:"SectorList",props:{activeSectorId:{type:String,default:null}},emits:["update:activeSectorId"],data(){return{selectedSectorId:this.activeSectorId}},computed:{sectorItems(){return I.map(e=>({id:e,name:q[e][this.$int.lang]}))},interfaceLabels(){return Y[this.$int.lang]}},methods:{onSelect(e){this.selectedSectorId=e},onSubmit(){this.$emit("update:activeSectorId",this.selectedSectorId)}}});const U={class:"sector-list__head"},j={class:"sector-list__body"},J={class:"sector-list__body__items"},K=["onClick"],W={class:"sector-list__footer"},X={type:"submit",class:"sector-list__footer__btn"};function Z(e,o,n,l,d,m){return _(),p("form",{class:"sector-list",onSubmit:o[0]||(o[0]=T((...a)=>e.onSubmit&&e.onSubmit(...a),["prevent"]))},[t("div",U,s(e.interfaceLabels.heading),1),t("div",j,[t("ul",J,[(_(!0),p(L,null,V(e.sectorItems,({id:a,name:c})=>(_(),p("li",{key:a,class:k(["sector-list__body__items__item",{"sector-list__body__items__item_selected":e.selectedSectorId===a}]),onClick:r=>e.onSelect(a)},s(c),11,K))),128))])]),t("div",W,[t("button",X,s(e.interfaceLabels.apply),1)])],32)}const x=f(G,[["render",Z],["__scopeId","data-v-3a16e32e"]]);let h=null;const ee=()=>{async function e(){h=await R(()=>import("./chart.esm.916a201a.js"),[],import.meta.url);const{Chart:n,LineElement:l,LinearScale:d,Legend:m,Title:a,CategoryScale:c,LineController:r,PointElement:i,Tooltip:u}=h;return n.register(l,d,m,a,c,r,i,u),h}async function o(){return h||e()}return{ChartPackage:h,yieldChartPackage:o}},te={en:{gdp:"Real GDP",prediction:"Prediction",measurement:"Bn. ₽"},ru:{gdp:"Реальный валовый продукт",prediction:"Прогноз",measurement:"Млрд. ₽"}},se=S({name:"SectorChart",props:{activeSectorId:{type:String,default:null}},setup(e){const{lang:o}=Q(),n=g(()=>te[o]),l=P(null),d=g(()=>{const c=B[e.activeSectorId].slice(4),r=c.map(({date:v})=>`${v.getFullYear()}-Q${Math.ceil((v.getMonth()+1)/3)}`),i=c.map(({realValue:v})=>v),u=c.map(({predictedValue:v})=>v);return{labels:r,realValues:i,predictedValues:u}}),{yieldChartPackage:m}=ee(),a=w(null);return M(async()=>{if(!l.value)return;const{Chart:c}=await m(),{labels:r,predictedValues:i,realValues:u}=d.value,A={type:"line",data:{labels:r,datasets:[{label:n.value.gdp,data:u,borderColor:"#fd4747",backgroundColor:"#ff9a9a"},{label:n.value.prediction,data:i,borderColor:"#28A745",backgroundColor:"#80c590"}]},options:{elements:{point:{hoverRadius:10,radius:3},line:{tension:.15}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},font:{family:"Open Sans",size:16},scales:{x:{ticks:{callback(E,N){return N%2===0?this.getLabelForValue(E):""}}},y:{title:{display:!0,text:n.value.measurement,font:{family:"Open Sans",size:16}}}}}};a.value=new c(l.value,A)}),D(()=>d.value,({labels:c,predictedValues:r,realValues:i})=>{a.value&&(a.value.data.datasets[0].data=i,a.value.data.datasets[1].data=r,a.value.update())}),{canvasRef:l}}});const ae={ref:"canvasRef",class:"sector-chart"};function oe(e,o,n,l,d,m){return _(),p("canvas",ae,null,512)}const ce=f(se,[["render",oe],["__scopeId","data-v-0cb85f02"]]),re={quarter:{ru:"Квартал",en:"Quarter"},total:{ru:"Итого",en:"Total"},realValue:{ru:"Реальные значения, млрд.",en:"Real values, bn."},predictedValue:{ru:"Прогноз,млрд.",en:"Prediction, bn."},loss:{ru:"Совокупное превышение, млрд.",en:"Aggregate excess, bn."},quarterlyMeanValue:{ru:"Средние значения до 2019, млрд.",en:"Average values before 2019, bn."},meanShare:{ru:"Доля в среднем значении, %",en:"Share of average value, %"}},ne=S({name:"SectorList",props:{activeSectorId:{type:String,default:null}},computed:{columnNames:()=>re,rows(){const{summaryByQuarters:e,totalSummaryByQuarter:o}=C[this.activeSectorId];return[...e,o]}}});const ie={class:"sector-table"},le={class:"sector-table__tr sector-table__thead"},_e={class:"sector-table__th"},de={class:"sector-table__th"},ue={class:"sector-table__th"},pe={class:"sector-table__th"},me={class:"sector-table__th"},ve={class:"sector-table__td sector-table__td_name"},he={class:"sector-table__td"},Se={class:"sector-table__td"},fe={class:"sector-table__td"},be={class:"sector-table__td"};function $e(e,o,n,l,d,m){return _(),p("div",ie,[t("div",le,[t("div",_e,s(e.columnNames.quarter[e.$int.lang]),1),t("div",de,s(e.columnNames.realValue[e.$int.lang]),1),t("div",ue,s(e.columnNames.predictedValue[e.$int.lang]),1),t("div",pe,s(e.columnNames.loss[e.$int.lang]),1),t("div",me,s(e.columnNames.quarterlyMeanValue[e.$int.lang]),1)]),(_(!0),p(L,null,V(e.rows,({quarter:a,realValue:c,predictedValue:r,loss:i,quarterlyMeanValue:u})=>(_(),p("div",{key:a,class:"sector-table__tr"},[t("div",ve,s(e.columnNames[a]?e.columnNames[a][e.$int.lang]:a),1),t("div",he,s(c),1),t("div",Se,s(r),1),t("div",fe,s(i),1),t("div",be,s(u),1)]))),128))])}const ye=f(ne,[["render",$e],["__scopeId","data-v-c7b0ef61"]]),ge={ru:{title:"Величина",lossHint:"потерь",profitHint:"доходов",period:"Период: II-IV кварталы 2020 года",absolute:"Абсолютное значение",share:"Доля от ВВП 2019 года"},en:{title:"",lossHint:"Losses",profitHint:"Profits",period:"Period: II-IV quarters of 2020",absolute:"Absolute value",share:"Share of GDP in 2019"}},Ie=S({name:"SectorCard",props:{activeSectorId:{type:String,default:null}},computed:{labels(){return ge[this.$int.lang]},summary(){const{totalSummaryByQuarter:{loss:e},prevYearShare:o}=C[this.activeSectorId];return{prevYearShare:o,losses:e}},areLossesPositive(){return this.summary.losses>0}}});const y=e=>(z("data-v-59fcc75b"),e=e(),F(),e),Ce={class:"sector-card__head"},Le={class:"sector-card__head__details"},Ve={class:"sector-card__head__label"},ke={class:"sector-card__details"},Pe={class:"sector-card__details__item"},Ae=y(()=>t("div",{class:"sector-card__details__item__icon"},[t("i",{class:"fas fa-coins"})],-1)),Ee={class:"sector-card__details__item__text"},Ne={class:"sector-card__details__item__text__name"},Be={class:"sector-card__details__item__text__value"},Te=y(()=>t("i",{class:"fas fa-ruble-sign"},null,-1)),Re={class:"sector-card__details__item"},we=y(()=>t("div",{class:"sector-card__details__item__icon"},[t("i",{class:"fas fa-chart-pie"})],-1)),Me={class:"sector-card__details__item__text"},De={class:"sector-card__details__item__text__name"},He={class:"sector-card__details__item__text__value"},ze=y(()=>t("i",{class:"fas fa-percent"},null,-1));function Fe(e,o,n,l,d,m){return _(),p("div",{class:k(["sector-card",{"sector-card_income":e.areLossesPositive}])},[t("div",Ce,[t("div",Le,s(e.labels.title)+" "+s(e.areLossesPositive?e.labels.profitHint:e.labels.lossHint),1),t("div",Ve,s(e.labels.period),1)]),t("div",ke,[t("div",Pe,[Ae,t("div",Ee,[t("div",Ne,s(e.labels.absolute),1),t("span",Be,[t("span",null,s(e.summary.losses),1),H(" "+s(e.$int.dict.measurement.billion)+" ",1),Te])])]),t("div",Re,[we,t("div",Me,[t("div",De,s(e.labels.share),1),t("span",He,[t("span",null,s(e.summary.prevYearShare*100),1),ze])])])])],2)}const Oe=f(Ie,[["render",Fe],["__scopeId","data-v-59fcc75b"]]),Qe=S({name:"SectorSection",components:{SectorList:x,SectorChart:ce,SectorTable:ye,SectorCard:Oe},setup(){return{activeSectorId:P(I[0])}}});const qe={class:"sector-section"},Ye={class:"sector-section__chart"};function Ge(e,o,n,l,d,m){const a=b("SectorChart"),c=b("SectorList"),r=b("SectorTable"),i=b("SectorCard");return _(),p("div",qe,[t("div",Ye,[$(a,{activeSectorId:e.activeSectorId},null,8,["activeSectorId"])]),$(c,{activeSectorId:e.activeSectorId,"onUpdate:activeSectorId":o[0]||(o[0]=u=>e.activeSectorId=u),class:"sector-section__list"},null,8,["activeSectorId"]),$(r,{activeSectorId:e.activeSectorId,class:"sector-section__table"},null,8,["activeSectorId"]),$(i,{activeSectorId:e.activeSectorId,class:"sector-section__card"},null,8,["activeSectorId"])])}const Ue=f(Qe,[["render",Ge],["__scopeId","data-v-1432ce28"]]),We=S({__name:"sector",setup(e){return(o,n)=>(_(),O(Ue))}});export{We as default};

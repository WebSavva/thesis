import{s as I,g as B,b as C}from"./index.7a919e48.js";import{f as S,_ as f,o as _,c as p,a as t,t as s,F as L,r as V,n as k,q as T,s as R,k as g,l as P,x as w,y as M,z as D,d as H,p as z,e as F,j as b,b as $,m as O}from"./entry.4478c12f.js";import{u as Q}from"./use-internalization.1d170f5d.js";const q={entertainment:{en:"entertainment",ru:"Отрасль развлечений"},food:{en:"catering",ru:"отрасль общественного питания"},finance:{en:"finance",ru:"финансовая отрасль"}},Y={en:{apply:"Apply",heading:"Economic sector"},ru:{apply:"Применить",heading:"Отрасль экономики"}},G=S({name:"SectorList",props:{activeSectorId:{type:String,default:null}},emits:["update:activeSectorId"],data(){return{selectedSectorId:this.activeSectorId}},computed:{sectorItems(){return I.map(e=>({id:e,name:q[e][this.$int.lang]}))},interfaceLabels(){return Y[this.$int.lang]}},methods:{onSelect(e){this.selectedSectorId=e},onSubmit(){this.$emit("update:activeSectorId",this.selectedSectorId)}}});const J={class:"sector-list__head"},U={class:"sector-list__body"},j={class:"sector-list__body__items"},K=["onClick"],W={class:"sector-list__footer"},X={type:"submit",class:"sector-list__footer__btn"};function Z(e,o,n,l,d,m){return _(),p("form",{class:"sector-list",onSubmit:o[0]||(o[0]=T((...a)=>e.onSubmit&&e.onSubmit(...a),["prevent"]))},[t("div",J,s(e.interfaceLabels.heading),1),t("div",U,[t("ul",j,[(_(!0),p(L,null,V(e.sectorItems,({id:a,name:c})=>(_(),p("li",{key:a,class:k(["sector-list__body__items__item",{"sector-list__body__items__item_selected":e.selectedSectorId===a}]),onClick:r=>e.onSelect(a)},s(c),11,K))),128))])]),t("div",W,[t("button",X,s(e.interfaceLabels.apply),1)])],32)}const x=f(G,[["render",Z],["__scopeId","data-v-3a16e32e"]]);let h=null;const ee=()=>{async function e(){h=await R(()=>import("./chart.esm.916a201a.js"),[],import.meta.url);const{Chart:n,LineElement:l,LinearScale:d,Legend:m,Title:a,CategoryScale:c,LineController:r,PointElement:i,Tooltip:u}=h;return n.register(l,d,m,a,c,r,i,u),h}async function o(){return h||e()}return{ChartPackage:h,yieldChartPackage:o}},te=ee,se={en:{gdp:"Real GDP",prediction:"Prediction",measurement:"Bn. ₽"},ru:{gdp:"Реальный валовый продукт",prediction:"Прогноз",measurement:"Млрд. ₽"}},ae=S({name:"SectorChart",props:{activeSectorId:{type:String,default:null}},setup(e){const{lang:o}=Q(),n=g(()=>se[o]),l=P(null),d=g(()=>{const c=B[e.activeSectorId].slice(4),r=c.map(({date:v})=>`${v.getFullYear()}-Q${Math.ceil((v.getMonth()+1)/3)}`),i=c.map(({realValue:v})=>v),u=c.map(({predictedValue:v})=>v);return{labels:r,realValues:i,predictedValues:u}}),{yieldChartPackage:m}=te(),a=w(null);return M(async()=>{if(!l.value)return;const{Chart:c}=await m(),{labels:r,predictedValues:i,realValues:u}=d.value,A={type:"line",data:{labels:r,datasets:[{label:n.value.gdp,data:u,borderColor:"#fd4747",backgroundColor:"#ff9a9a"},{label:n.value.prediction,data:i,borderColor:"#28A745",backgroundColor:"#80c590"}]},options:{elements:{point:{hoverRadius:10,radius:3},line:{tension:.15}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},font:{family:"Open Sans",size:16},scales:{x:{ticks:{callback(E,N){return N%2===0?this.getLabelForValue(E):""}}},y:{title:{display:!0,text:n.value.measurement,font:{family:"Open Sans",size:16}}}}}};a.value=new c(l.value,A)}),D(()=>d.value,({labels:c,predictedValues:r,realValues:i})=>{a.value&&(a.value.data.datasets[0].data=i,a.value.data.datasets[1].data=r,a.value.update())}),{canvasRef:l}}});const oe={ref:"canvasRef",class:"sector-chart"};function ce(e,o,n,l,d,m){return _(),p("canvas",oe,null,512)}const re=f(ae,[["render",ce],["__scopeId","data-v-0cb85f02"]]),ne={quarter:{ru:"Квартал",en:"Quarter"},total:{ru:"Итого",en:"Total"},realValue:{ru:"Реальные значения, млрд.",en:"Real values, bn."},predictedValue:{ru:"Прогноз,млрд.",en:"Prediction, bn."},loss:{ru:"Совокупное превышение, млрд.",en:"Aggregate excess, bn."},quarterlyMeanValue:{ru:"Средние значения до 2019, млрд.",en:"Average values before 2019, bn."},meanShare:{ru:"Доля в среднем значении, %",en:"Share of average value, %"}},ie=S({name:"SectorList",props:{activeSectorId:{type:String,default:null}},computed:{columnNames:()=>ne,rows(){const{summaryByQuarters:e,totalSummaryByQuarter:o}=C[this.activeSectorId];return[...e,o]}}});const le={class:"sector-table"},_e={class:"sector-table__tr sector-table__thead"},de={class:"sector-table__th"},ue={class:"sector-table__th"},pe={class:"sector-table__th"},me={class:"sector-table__th"},ve={class:"sector-table__th"},he={class:"sector-table__td sector-table__td_name"},Se={class:"sector-table__td"},fe={class:"sector-table__td"},be={class:"sector-table__td"},$e={class:"sector-table__td"};function ye(e,o,n,l,d,m){return _(),p("div",le,[t("div",_e,[t("div",de,s(e.columnNames.quarter[e.$int.lang]),1),t("div",ue,s(e.columnNames.realValue[e.$int.lang]),1),t("div",pe,s(e.columnNames.predictedValue[e.$int.lang]),1),t("div",me,s(e.columnNames.loss[e.$int.lang]),1),t("div",ve,s(e.columnNames.quarterlyMeanValue[e.$int.lang]),1)]),(_(!0),p(L,null,V(e.rows,({quarter:a,realValue:c,predictedValue:r,loss:i,quarterlyMeanValue:u})=>(_(),p("div",{key:a,class:"sector-table__tr"},[t("div",he,s(e.columnNames[a]?e.columnNames[a][e.$int.lang]:a),1),t("div",Se,s(c),1),t("div",fe,s(r),1),t("div",be,s(i),1),t("div",$e,s(u),1)]))),128))])}const ge=f(ie,[["render",ye],["__scopeId","data-v-c7b0ef61"]]),Ie={ru:{title:"Величина",lossHint:"потерь",profitHint:"доходов",period:"Период: II-IV кварталы 2020 года",absolute:"Абсолютное значение",share:"Доля от ВВП 2019 года"},en:{title:"",lossHint:"Losses",profitHint:"Profits",period:"Period: II-IV quarters of 2020",absolute:"Absolute value",share:"Share of GDP in 2019"}},Ce=S({name:"SectorCard",props:{activeSectorId:{type:String,default:null}},computed:{labels(){return Ie[this.$int.lang]},summary(){const{totalSummaryByQuarter:{loss:e},prevYearShare:o}=C[this.activeSectorId];return{prevYearShare:o,losses:e}},areLossesPositive(){return this.summary.losses>0}}});const y=e=>(z("data-v-59fcc75b"),e=e(),F(),e),Le={class:"sector-card__head"},Ve={class:"sector-card__head__details"},ke={class:"sector-card__head__label"},Pe={class:"sector-card__details"},Ae={class:"sector-card__details__item"},Ee=y(()=>t("div",{class:"sector-card__details__item__icon"},[t("i",{class:"fas fa-coins"})],-1)),Ne={class:"sector-card__details__item__text"},Be={class:"sector-card__details__item__text__name"},Te={class:"sector-card__details__item__text__value"},Re=y(()=>t("i",{class:"fas fa-ruble-sign"},null,-1)),we={class:"sector-card__details__item"},Me=y(()=>t("div",{class:"sector-card__details__item__icon"},[t("i",{class:"fas fa-chart-pie"})],-1)),De={class:"sector-card__details__item__text"},He={class:"sector-card__details__item__text__name"},ze={class:"sector-card__details__item__text__value"},Fe=y(()=>t("i",{class:"fas fa-percent"},null,-1));function Oe(e,o,n,l,d,m){return _(),p("div",{class:k(["sector-card",{"sector-card_income":e.areLossesPositive}])},[t("div",Le,[t("div",Ve,s(e.labels.title)+" "+s(e.areLossesPositive?e.labels.profitHint:e.labels.lossHint),1),t("div",ke,s(e.labels.period),1)]),t("div",Pe,[t("div",Ae,[Ee,t("div",Ne,[t("div",Be,s(e.labels.absolute),1),t("span",Te,[t("span",null,s(e.summary.losses),1),H(" "+s(e.$int.dict.measurement.billion)+" ",1),Re])])]),t("div",we,[Me,t("div",De,[t("div",He,s(e.labels.share),1),t("span",ze,[t("span",null,s(e.summary.prevYearShare*100),1),Fe])])])])],2)}const Qe=f(Ce,[["render",Oe],["__scopeId","data-v-59fcc75b"]]),qe=S({name:"SectorSection",components:{SectorList:x,SectorChart:re,SectorTable:ge,SectorCard:Qe},setup(){return{activeSectorId:P(I[0])}}});const Ye={class:"sector-section"},Ge={class:"sector-section__chart"};function Je(e,o,n,l,d,m){const a=b("SectorChart"),c=b("SectorList"),r=b("SectorTable"),i=b("SectorCard");return _(),p("div",Ye,[t("div",Ge,[$(a,{activeSectorId:e.activeSectorId},null,8,["activeSectorId"])]),$(c,{activeSectorId:e.activeSectorId,"onUpdate:activeSectorId":o[0]||(o[0]=u=>e.activeSectorId=u),class:"sector-section__list"},null,8,["activeSectorId"]),$(r,{activeSectorId:e.activeSectorId,class:"sector-section__table"},null,8,["activeSectorId"]),$(i,{activeSectorId:e.activeSectorId,class:"sector-section__card"},null,8,["activeSectorId"])])}const Ue=f(qe,[["render",Je],["__scopeId","data-v-1432ce28"]]),Xe=S({__name:"sector",setup(e){return(o,n)=>(_(),O(Ue))}});export{Xe as default};

import{s as I,g as B,b as y}from"./index.7a919e48.js";import{f as $,_ as b,o as r,c as l,a as t,t as c,F as C,r as L,n as V,s as A,x as k,m as g,q as z,y as E,z as R,A as N,l as h,b as v,j as H}from"./entry.f0d13c7a.js";import{a as T}from"./globals.140eb1b7.js";const D={entertainment:{en:"entertainment",ru:"Отрасль развлечений"},food:{en:"catering",ru:"отрасль общественного питания"},finance:{en:"finance",ru:"финансовая отрасль"}},F={en:{apply:"Apply",heading:"Economic sector"},ru:{apply:"Применить",heading:"Отрасль экономики"}},O=$({name:"SectorList",props:{activeSectorId:{type:String,default:null}},emits:["update:activeSectorId"],data(){return{selectedSectorId:this.activeSectorId}},computed:{sectorItems(){return I.map(e=>({id:e,name:D[e][this.$int.lang]}))},interfaceLabels(){return F[this.$int.lang]}},methods:{onSelect(e){this.selectedSectorId=e},onSubmit(){this.$emit("update:activeSectorId",this.selectedSectorId)}}});const Q={class:"sector-list__head"},q={class:"sector-list__body"},Y={class:"sector-list__body__items"},G=["onClick"],U={class:"sector-list__footer"},j={type:"submit",class:"sector-list__footer__btn"};function J(e,o,_,d,u,p){return r(),l("form",{class:"sector-list",onSubmit:o[0]||(o[0]=A((...s)=>e.onSubmit&&e.onSubmit(...s),["prevent"]))},[t("div",Q,c(e.interfaceLabels.heading),1),t("div",q,[t("ul",Y,[(r(!0),l(C,null,L(e.sectorItems,({id:s,name:a})=>(r(),l("li",{key:s,class:V(["sector-list__body__items__item",{"sector-list__body__items__item_selected":e.selectedSectorId===s}]),onClick:n=>e.onSelect(s)},c(a),11,G))),128))])]),t("div",U,[t("button",j,c(e.interfaceLabels.apply),1)])],32)}const K=b(O,[["render",J],["__scopeId","data-v-3a16e32e"]]);let f=null;const W=()=>{async function e(){f=await k(()=>import("./chart.esm.916a201a.js"),[],import.meta.url);const{Chart:_,LineElement:d,LinearScale:u,Legend:p,Title:s,CategoryScale:a,LineController:n,PointElement:i,Tooltip:m}=f;return _.register(d,u,p,s,a,n,i,m),f}async function o(){return f||e()}return{ChartPackage:f,yieldChartPackage:o}},X={en:{gdp:"Real GDP",prediction:"Prediction",measurement:"Bn. ₽"},ru:{gdp:"Реальный валовый продукт",prediction:"Прогноз",measurement:"Млрд. ₽"}},Z=$({name:"SectorChart",props:{activeSectorId:{type:String,default:null}},setup(e){const{lang:o}=T(),_=g(()=>X[o]),d=z(null),u=g(()=>{const a=B[e.activeSectorId].slice(4),n=a.map(({date:S})=>`${S.getFullYear()}-Q${Math.ceil((S.getMonth()+1)/3)}`),i=a.map(({realValue:S})=>S),m=a.map(({predictedValue:S})=>S);return{labels:n,realValues:i,predictedValues:m}}),{yieldChartPackage:p}=W(),s=E(null);return R(async()=>{if(!d.value)return;const{Chart:a}=await p(),{labels:n,predictedValues:i,realValues:m}=u.value,P={type:"line",data:{labels:n,datasets:[{label:_.value.gdp,data:m,borderColor:"#fd4747",backgroundColor:"#ff9a9a"},{label:_.value.prediction,data:i,borderColor:"#28A745",backgroundColor:"#80c590"}]},options:{elements:{point:{hoverRadius:10,radius:3},line:{tension:.15}},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},font:{family:"Open Sans",size:16},scales:{x:{ticks:{callback(M,w){return w%2===0?this.getLabelForValue(M):""}}},y:{title:{display:!0,text:_.value.measurement,font:{family:"Open Sans",size:16}}}}}};s.value=new a(d.value,P)}),N(()=>u.value,({labels:a,predictedValues:n,realValues:i})=>{s.value&&(s.value.data.datasets[0].data=i,s.value.data.datasets[1].data=n,s.value.update())}),{canvasRef:d}}});const x={ref:"canvasRef",class:"sector-chart"};function ee(e,o,_,d,u,p){return r(),l("canvas",x,null,512)}const te=b(Z,[["render",ee],["__scopeId","data-v-0cb85f02"]]),se={quarter:{ru:"Квартал",en:"Quarter"},total:{ru:"Итого",en:"Total"},realValue:{ru:"Реальные значения, млрд.",en:"Real values, bn."},predictedValue:{ru:"Прогноз,млрд.",en:"Prediction, bn."},loss:{ru:"Совокупное превышение, млрд.",en:"Aggregate excess, bn."},quarterlyMeanValue:{ru:"Средние значения до 2019, млрд.",en:"Average values before 2019, bn."},meanShare:{ru:"Доля в среднем значении, %",en:"Share of average value, %"}},oe=$({name:"SectorList",props:{activeSectorId:{type:String,default:null}},computed:{columnNames:()=>se,rows(){const{summaryByQuarters:e,totalSummaryByQuarter:o}=y[this.activeSectorId];return[...e,o]}}});const ce={class:"sector-table"},ae={class:"sector-table__tr sector-table__thead"},ne={class:"sector-table__th"},re={class:"sector-table__th"},ie={class:"sector-table__th"},le={class:"sector-table__th"},_e={class:"sector-table__th"},de={class:"sector-table__td sector-table__td_name"},ue={class:"sector-table__td"},me={class:"sector-table__td"},pe={class:"sector-table__td"},he={class:"sector-table__td"};function ve(e,o,_,d,u,p){return r(),l("div",ce,[t("div",ae,[t("div",ne,c(e.columnNames.quarter[e.$int.lang]),1),t("div",re,c(e.columnNames.realValue[e.$int.lang]),1),t("div",ie,c(e.columnNames.predictedValue[e.$int.lang]),1),t("div",le,c(e.columnNames.loss[e.$int.lang]),1),t("div",_e,c(e.columnNames.quarterlyMeanValue[e.$int.lang]),1)]),(r(!0),l(C,null,L(e.rows,({quarter:s,realValue:a,predictedValue:n,loss:i,quarterlyMeanValue:m})=>(r(),l("div",{key:s,class:"sector-table__tr"},[t("div",de,c(e.columnNames[s]?e.columnNames[s][e.$int.lang]:s),1),t("div",ue,c(a),1),t("div",me,c(n),1),t("div",pe,c(i),1),t("div",he,c(m),1)]))),128))])}const Se=b(oe,[["render",ve],["__scopeId","data-v-c7b0ef61"]]),fe={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"},$e=t("path",{fill:"currentColor",d:"M0 405.3V448c0 35.3 86 64 192 64s192-28.7 192-64v-42.7C342.7 434.4 267.2 448 192 448S41.3 434.4 0 405.3zM320 128c106 0 192-28.7 192-64S426 0 320 0S128 28.7 128 64s86 64 192 64zM0 300.4V352c0 35.3 86 64 192 64s192-28.7 192-64v-51.6c-41.3 34-116.9 51.6-192 51.6S41.3 334.4 0 300.4zm416 11c57.3-11.1 96-31.7 96-55.4v-42.7c-23.2 16.4-57.3 27.6-96 34.5v63.6zM192 160C86 160 0 195.8 0 240s86 80 192 80s192-35.8 192-80s-86-80-192-80zm219.3 56.3c60-10.8 100.7-32 100.7-56.3v-42.7c-35.5 25.1-96.5 38.6-160.7 41.8c29.5 14.3 51.2 33.5 60 57.2z"},null,-1),be=[$e];function ge(e,o){return r(),l("svg",fe,be)}const Ie={name:"fa-solid-coins",render:ge},ye={viewBox:"0 0 384 512",width:"1.2em",height:"1.2em"},Ce=t("path",{fill:"currentColor",d:"M239.36 320C324.48 320 384 260.542 384 175.071S324.48 32 239.36 32H76c-6.627 0-12 5.373-12 12v206.632H12c-6.627 0-12 5.373-12 12V308c0 6.627 5.373 12 12 12h52v32H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h52v52c0 6.627 5.373 12 12 12h58.56c6.627 0 12-5.373 12-12v-52H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H146.56v-32h92.8zm-92.8-219.252h78.72c46.72 0 74.88 29.11 74.88 74.323c0 45.832-28.16 75.561-76.16 75.561h-77.44V100.748z"},null,-1),Le=[Ce];function Ve(e,o){return r(),l("svg",ye,Le)}const ze={name:"fa-solid-ruble-sign",render:Ve},Pe={viewBox:"0 0 448 512",width:"1.2em",height:"1.2em"},Me=t("path",{fill:"currentColor",d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0S0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112s112-50.1 112-112s-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},null,-1),we=[Me];function Be(e,o){return r(),l("svg",Pe,we)}const Ae={name:"fa-solid-percent",render:Be},ke={viewBox:"0 0 544 512",width:"1.2em",height:"1.2em"},Ee=t("path",{fill:"currentColor",d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68c38.7-36.46 65.32-85.61 73.13-140.86c1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04C279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37C4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03c7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},null,-1),Re=[Ee];function Ne(e,o){return r(),l("svg",ke,Re)}const He={name:"fa-solid-chart-pie",render:Ne},Te={ru:{title:"Величина",lossHint:"потерь",profitHint:"доходов",period:"Период: II-IV кварталы 2020 года",absolute:"Абсолютное значение",share:"Доля от ВВП 2019 года"},en:{title:"",lossHint:"Losses",profitHint:"Profit",period:"Period: II-IV quarters of 2020",absolute:"Absolute value",share:"Share of GDP in 2019"}},De=$({name:"SectorCard",components:{CoinsIcon:Ie,ChartPieIcon:He,RubleSignIcon:ze,PercentIcon:Ae},props:{activeSectorId:{type:String,default:null}},computed:{labels(){return Te[this.$int.lang]},summary(){const{totalSummaryByQuarter:{loss:e},prevYearShare:o}=y[this.activeSectorId];return{prevYearShare:o,losses:e}},areLossesPositive(){return this.summary.losses>0}}});const Fe={class:"sector-card__head"},Oe={class:"sector-card__head__details"},Qe={class:"sector-card__head__label"},qe={class:"sector-card__details"},Ye={class:"sector-card__details__item"},Ge={class:"sector-card__details__item__icon"},Ue={class:"sector-card__details__item__text"},je={class:"sector-card__details__item__text__name"},Je={class:"sector-card__details__item__text__value"},Ke={class:"sector-card__details__item"},We={class:"sector-card__details__item__icon"},Xe={class:"sector-card__details__item__text"},Ze={class:"sector-card__details__item__text__name"},xe={class:"sector-card__details__item__text__value"};function et(e,o,_,d,u,p){const s=h("CoinsIcon"),a=h("RubleSignIcon"),n=h("ChartPieIcon"),i=h("PercentIcon");return r(),l("div",{class:V(["sector-card",{"sector-card_income":e.areLossesPositive}])},[t("div",Fe,[t("div",Oe,c(e.labels.title)+" "+c(e.areLossesPositive?e.labels.profitHint:e.labels.lossHint),1),t("div",Qe,c(e.labels.period),1)]),t("div",qe,[t("div",Ye,[t("div",Ge,[v(s)]),t("div",Ue,[t("div",je,c(e.labels.absolute),1),t("span",Je,[t("span",null,c(e.summary.losses),1),t("span",null,c(e.$int.dict.measurement.billion),1),v(a)])])]),t("div",Ke,[t("div",We,[v(n)]),t("div",Xe,[t("div",Ze,c(e.labels.share),1),t("span",xe,[t("span",null,c(e.summary.prevYearShare*100),1),v(i)])])])])],2)}const tt=b(De,[["render",et],["__scopeId","data-v-e723b3dd"]]),st=$({name:"SectorSection",components:{SectorList:K,SectorChart:te,SectorTable:Se,SectorCard:tt},setup(){return{activeSectorId:z(I[0])}}});const ot={class:"sector-section"},ct={class:"sector-section__chart"};function at(e,o,_,d,u,p){const s=h("SectorChart"),a=h("SectorList"),n=h("SectorTable"),i=h("SectorCard");return r(),l("div",ot,[t("div",ct,[v(s,{activeSectorId:e.activeSectorId},null,8,["activeSectorId"])]),v(a,{activeSectorId:e.activeSectorId,"onUpdate:activeSectorId":o[0]||(o[0]=m=>e.activeSectorId=m),class:"sector-section__list"},null,8,["activeSectorId"]),v(n,{activeSectorId:e.activeSectorId,class:"sector-section__table"},null,8,["activeSectorId"]),v(i,{activeSectorId:e.activeSectorId,class:"sector-section__card"},null,8,["activeSectorId"])])}const nt=b(st,[["render",at],["__scopeId","data-v-1432ce28"]]),_t=$({__name:"sector",setup(e){return(o,_)=>(r(),H(nt))}});export{_t as default};

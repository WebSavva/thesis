(()=>{"use strict";var __webpack_modules__={6:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{eval('\n// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js\nvar runtime = __webpack_require__(666);\n;// CONCATENATED MODULE: ./frontend/src/scripts/domInit/initMapDOM.js\nvar createMapWrapper = function createMapWrapper() {\n  var mapWrapper = document.createElement("div");\n  mapWrapper.id = "regions-map";\n  return mapWrapper;\n};\nvar createRegionTable = function createRegionTable() {\n  var regionTable = document.createElement("section");\n  regionTable.classList.add("regions-table");\n  regionTable.insertAdjacentHTML("afterbegin", "\\n    <div class=\\"tr thead\\">\\n      <div class=\\"td\\">\\u0421\\u0443\\u0431\\u044A\\u0435\\u043A\\u0442 \\u0420\\u0424<i class=\\"fas fa-sort regions-map-filter\\" data-column=\\"name\\" data-sort-state=\\"disabled\\" data-type-sort=\\"alpha\\" title=\\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\"></i></div>\\n      <div class=\\"td\\">\\u0421\\u0440\\u0435\\u0434\\u043D\\u044F\\u044F \\u0437\\u0430\\u0440\\u043F\\u043B\\u0430\\u0442\\u0430, \\u0442\\u044B\\u0441.\\u0440\\u0443\\u0431<i class=\\"fas fa-sort regions-map-filter\\" data-column=\\"salary\\" data-sort-state=\\"disabled\\" data-type-sort=\\"numeric\\" title=\\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\"></i></div>\\n      <div class=\\"td\\">\\u0427\\u0438\\u0441\\u043B\\u0435\\u043D\\u043D\\u043E\\u0441\\u0442\\u044C \\u0437\\u0430\\u043D\\u044F\\u0442\\u044B\\u0445, \\u0442\\u044B\\u0441.<i class=\\"fas fa-sort regions-map-filter\\" data-column=\\"employed\\" data-sort-state=\\"disabled\\" data-type-sort=\\"numeric\\" title=\\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\"></i></div>\\n      <div class=\\"td\\">\\u0421\\u0443\\u043C\\u043C\\u0430\\u0440\\u043D\\u044B\\u0435 \\u043F\\u043E\\u0442\\u0435\\u0440\\u0438, \\u043C\\u043B\\u0440\\u0434.\\u0440\\u0443\\u0431<i class=\\"fas fa-sort regions-map-filter\\" data-column=\\"lockdownCost\\" data-sort-state=\\"disabled\\" data-type-sort=\\"numeric\\" title=\\"\\u0421\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\"></i></div>\\n    </div>\\n    <div class=\\"tbody\\"></div>");\n  return {\n    rootElement: regionTable,\n    thead: regionTable.querySelector(".thead"),\n    tbody: regionTable.querySelector(".tbody")\n  };\n};\nvar createRegionShareCard = function createRegionShareCard() {\n  var shareCard = document.createElement("section");\n  shareCard.classList.add("regions-card");\n  shareCard.insertAdjacentHTML("afterbegin", "<div class=\\"regions-card-header\\">\\n    <div class=\\"regions-card-icon-holder\\">\\n      <i class=\\"fas fa-chart-bar regions-card-icon\\"></i>\\n    </div>\\n    <div class=\\"card-share-regional\\">\\n      <span class=\\"card-share-title\\">\\u0414\\u043E\\u043B\\u044F \\u0440\\u0435\\u0433\\u0438\\u043E\\u043D\\u0430 \\u0432 \\u043E\\u0431\\u0449\\u0438\\u0445 \\u0437\\u0430\\u0442\\u0440\\u0430\\u0442\\u0430\\u0445</span>\\n      <span class=\\"card-share-wrapper\\"><span class=\\"card-share-value\\">0</span><span class=\\"regions-card-percent\\">&percnt;</span></span>\\n    </div>\\n  </div>\\n  <div class=\\"regions-card-footer\\">\\n      <i class=\\"fas fa-exclamation regions-card-note\\"></i>\\n      \\u0421\\u0443\\u043C\\u043C\\u0430\\u0440\\u043D\\u044B\\u0435 \\u043F\\u043E\\u0442\\u0435\\u0440\\u0438 \\u0441\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u043B\\u0438 2% \\u043E\\u0442 \\u0412\\u0412\\u041F 2019 \\u0433\\u043E\\u0434\\u0430\\n  </div>");\n  return {\n    rootElement: shareCard,\n    shareDisplay: shareCard.querySelector(".card-share-value")\n  };\n};\nvar createTooltip = function createTooltip() {\n  var tooltip = document.createElement("div");\n  tooltip.classList.add("tooltip");\n  tooltip.insertAdjacentHTML("afterbegin", "<div class=\\"tooltip\\">\\n        <div class=\\"tooltip-row-name\\">\\n          <img src=\\"\\" class=\\"tooltip-flag\\">\\n      <span class=\\"tooltip-name\\"></span>\\n        </div> \\n        <div class=\\"tooltip-row-indicator\\">\\n          \\u0421\\u0440\\u0435\\u0434\\u043D\\u044F\\u044F \\u0437\\u0430\\u0440\\u043F\\u043B\\u0430\\u0442\\u0430 : <span> <span class=\\"tooltip-salary\\"></span> \\u0442\\u044B\\u0441. &#8381</span>\\n        </div>\\n        <div class=\\"tooltip-row-indicator\\">\\n          \\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u0437\\u0430\\u043D\\u044F\\u0442\\u044B\\u0445: <span>\\n          <span class=\\"tooltip-employed\\"></span> \\u0442\\u044B\\u0441. \\u0447\\u0435\\u043B\\u043E\\u0432\\u0435\\u043A</span>\\n        </div>\\n      <div class=\\"tooltip-row-indicator\\">\\n          \\u0421\\u0443\\u043C\\u043C\\u0430\\u0440\\u043D\\u044B\\u0435 \\u043F\\u043E\\u0442\\u0435\\u0440\\u0438: <span>\\n        <span class=\\"tooltip-losses\\"></span>\\n         \\u043C\\u043B\\u0440\\u0434. &#8381</span>\\n        </div>\\n      </div>");\n  return {\n    rootElement: tooltip,\n    image: tooltip.querySelector(".tooltip-flag"),\n    name: tooltip.querySelector(".tooltip-name"),\n    salaryHolder: tooltip.querySelector(".tooltip-salary"),\n    employedHolder: tooltip.querySelector(".tooltip-employed"),\n    lossesHolder: tooltip.querySelector(".tooltip-losses")\n  };\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/domInit/initEconSectorDOM.js\nvar createSectorList = function createSectorList() {\n  var listCard = document.createElement("section");\n  listCard.classList.add("sector-list");\n  listCard.insertAdjacentHTML("afterbegin", "<div class=\\"card-header\\">\\n            \\u041E\\u0442\\u0440\\u0430\\u0441\\u043B\\u044C \\u044D\\u043A\\u043E\\u043D\\u043E\\u043C\\u0438\\u043A\\u0438\\n        </div>\\n        <div class=\\"card-body\\">\\n            <ol class=\\"sector-items\\"> \\n            </ol>\\n        <div class=\\"card-footer\\">\\n            <button class=\\"sector-btn\\">\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C</button>\\n        </div>\\n    </div>");\n  return {\n    rootElement: listCard,\n    itemsHolder: listCard.querySelector(".sector-items"),\n    sectorBtn: listCard.querySelector(".sector-btn")\n  };\n};\nvar createChartWrapper = function createChartWrapper() {\n  var wrapper = document.createElement("section");\n  wrapper.classList.add("sector-chart-wrapper");\n  var chartCanvas = document.createElement("canvas");\n  chartCanvas.id = "sector-chart";\n  wrapper.append(chartCanvas);\n  return {\n    rootElement: wrapper,\n    chartCanvas: chartCanvas\n  };\n};\nvar createSectorTable = function createSectorTable() {\n  var sectorTable = document.createElement("section");\n  sectorTable.classList.add("sector-table");\n  sectorTable.insertAdjacentHTML("afterbegin", "<div class=\\"sector-table-tr sector-table-thead\\">\\n        <div class=\\"sector-table-th\\">\\u041A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B</div>\\n        <div class=\\"sector-table-th\\">\\u0420\\u0435\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u044F,<br>\\u043C\\u043B\\u0440\\u0434.&#8381</div>\\n        <div class=\\"sector-table-th\\">\\u041F\\u0440\\u043E\\u0433\\u043D\\u043E\\u0437,<br>\\u043C\\u043B\\u0440\\u0434.&#8381</div>\\n        <div class=\\"sector-table-th\\">\\u0421\\u043E\\u0432\\u043E\\u043A\\u0443\\u043F\\u043D\\u043E\\u0435 \\u043F\\u0440\\u0435\\u0432\\u044B\\u0448\\u0435\\u043D\\u0438\\u0435,<br>\\u043C\\u043B\\u0440\\u0434.&#8381</div>\\n        <div class=\\"sector-table-th\\">\\u0421\\u0440\\u0435\\u0434\\u043D\\u0438\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u044F \\u0434\\u043E 2019 \\u0433\\u043E\\u0434\\u0430,<br>\\u043C\\u043B\\u0440\\u0434.&#8381</div>\\n        <div class=\\"sector-table-th\\">\\u0414\\u043E\\u043B\\u044F \\u0432 \\u0441\\u0440\\u0435\\u0434\\u043D\\u0435\\u043C \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0438,%</div>\\n    </div>");\n  ["Q2", "Q3", "Q4", "Итого"].forEach(function (rowName) {\n    return sectorTable.insertAdjacentHTML("beforeend", "<div class=\\"sector-table-tr\\">\\n        <div class=\\"sector-table-td sector-row-name\\">".concat(rowName, "</div>\\n        ").concat(\'<div class="sector-table-td"></div>\'.repeat(5), "\\n    </div>"));\n  });\n  return {\n    rootElement: sectorTable,\n    tableRows: sectorTable.querySelectorAll(".sector-table-tr:not(.sector-table-thead)")\n  };\n};\nvar createSectorReportCard = function createSectorReportCard() {\n  var reportCard = document.createElement("section");\n  reportCard.classList.add("sector-card-report");\n  reportCard.insertAdjacentHTML("afterbegin", " <div class=\\"sector-report-head\\">\\n        <h1 class=\\"sector-report-header\\">\\u0412\\u0435\\u043B\\u0438\\u0447\\u0438\\u043D\\u0430 <span class=\\"report-type-losses\\"></span></h1>\\n        <h3 class=\\"sector-report-period\\">\\u041F\\u0435\\u0440\\u0438\\u043E\\u0434: II-IV \\u043A\\u0432\\u0430\\u0440\\u0442\\u0430\\u043B\\u044B 2020 \\u0433\\u043E\\u0434\\u0430</h3>\\n    </div>\\n    <div class=\\"sector-report-details\\">\\n        <div class=\\"sector-report-detail\\">\\n            <div class=\\"sector-report-figure\\">\\n                <i class=\\"fas fa-coins\\"></i>\\n            </div>\\n\\n            <div class=\\"sector-report-detail-text\\">\\n                <h4 class=\\"sector-report-detail-name\\">\\u0410\\u0431\\u0441\\u043E\\u043B\\u044E\\u0442\\u043D\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435</h4>\\n                <span class=\\"sector-report-detail-value\\"><span class=\\"report-total-losses\\"></span> \\u043C\\u043B\\u0440\\u0434.<i class=\\"fas fa-ruble-sign\\"></i></span>\\n            </div>\\n        </div>\\n        <div class=\\"sector-report-detail\\">\\n            <div class=\\"sector-report-figure\\">\\n                <i class=\\"fas fa-chart-pie\\"></i>\\n            </div>\\n            <div class=\\"sector-report-detail-text\\">\\n                <h4 class=\\"sector-report-detail-name\\">\\u0414\\u043E\\u043B\\u044F \\u043E\\u0442 \\u0412\\u0412\\u041F 2019 \\u0433\\u043E\\u0434\\u0430</h4>\\n                <span class=\\"sector-report-detail-value\\"><span class=\\"report-gdp-share\\"></span><i class=\\"fas fa-percent\\"></i></span>\\n            </div>\\n        </div>\\n    </div>");\n  return {\n    rootElement: reportCard,\n    typeLossesDisplay: reportCard.querySelector(".report-type-losses"),\n    absLossesDisplay: reportCard.querySelector(".report-total-losses"),\n    shareLossesDisplay: reportCard.querySelector(".report-gdp-share")\n  };\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/domInit/initThesisDOM.js\nvar createPdfReader = function createPdfReader() {\n  var pdfWrapper = document.createElement("div");\n  pdfWrapper.classList.add("pdf-wrapper");\n  var pdfIframe = document.createElement("iframe");\n  pdfIframe.id = "pdf-reader";\n  pdfIframe.setAttribute("type", "application/pdf");\n  pdfIframe.setAttribute("frameborder", 0);\n  var loadBackground = document.createElement("div");\n  loadBackground.classList.add("text-load-background");\n  loadBackground.innerHTML = "<i class=\\"fas fa-sync fa-spin spinner\\"></i>";\n  pdfWrapper.append(pdfIframe);\n  return {\n    pdfWrapper: pdfWrapper,\n    pdfIframe: pdfIframe,\n    loadBackground: loadBackground\n  };\n};\nvar createDocumentSwitcher = function createDocumentSwitcher() {\n  var wrapperSwitcher = document.createElement("div");\n  wrapperSwitcher.classList = "switcher-wrapper";\n  var switcher = document.createElement("ul");\n  switcher.classList.add("document-switcher");\n  var iframeBtn = document.createElement("button");\n  iframeBtn.classList = "iframe-btn";\n  iframeBtn.textContent = "Просмотреть";\n  wrapperSwitcher.append(switcher, iframeBtn);\n  return {\n    relativePath: "media/",\n    switcher: switcher,\n    wrapperSwitcher: wrapperSwitcher,\n    iframeBtn: iframeBtn\n  };\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/domInit/initFrameDOM.js\nvar createSidebar = function createSidebar() {\n  var sidebar = document.createElement("aside");\n  sidebar.classList.add("sidebar");\n  sidebar.innerHTML = "<div class=\\"sidebar-head\\">\\n    <div class=\\"menu-header-text\\">\\n        \\u0413\\u043B\\u0430\\u0432\\u043D\\u043E\\u0435 \\u043C\\u0435\\u043D\\u044E\\n    </div>\\n    <div class=\\"sidebar-toggler\\">\\n        <i class=\\"fas fa-bars sidebar-toggler-icon\\"></i>\\n    </div>\\n    </div>\\n    <nav class=\\"main-menu\\">\\n        <ol class=\\"main-menu-content\\">\\n        </ol>\\n    </nav>";\n  var mainMenu = sidebar.querySelector(".main-menu-content");\n  [["shield-virus", "Стоимость локдауна", "map"], ["chart-line", "Отраслевой анализ", "sector"], ["book-open", "Текст ВКР", "thesis"]].forEach(function (navData, i) {\n    return mainMenu.insertAdjacentHTML("beforeend", "<li class=\\"menu-item ".concat(i === 0 ? "selected-menu-item" : "", "\\" data-to-page=\\"").concat(navData[2], "\\">\\n        <i class=\\"fas fa-").concat(navData[0], " menu-icon\\"></i>\\n        <span class=\\"menu-item-text\\">").concat(navData[1], "</span>\\n    </li>"));\n  });\n  mainMenu.insertAdjacentHTML("beforeend", "<li>\\n        <a class=\\"menu-item\\" href=\\"presentation.html\\">\\n        <i class=\\"fas fa-chalkboard menu-icon\\"></i>\\n        <span class=\\"menu-item-text\\">\\u041F\\u0440\\u0435\\u0437\\u0435\\u043D\\u0442\\u0430\\u0446\\u0438\\u044F</span>\\n        </a>\\n    </li>");\n  return {\n    rootElement: sidebar,\n    toggler: sidebar.querySelector(".sidebar-toggler"),\n    navigation: mainMenu\n  };\n};\nvar createHeader = function createHeader() {\n  var header = document.createElement("header");\n  header.classList.add("main-header");\n  header.innerHTML = "\\n        <h1 class=\\"main-header-text\\"></h1>\\n        <i class=\\"fas fa-virus spinning-virus\\"></i>";\n  return {\n    rootElement: header,\n    headerText: header.querySelector(".main-header-text")\n  };\n};\nvar createMain = function createMain() {\n  var main = document.createElement("main");\n  main.classList.add("main-content");\n  return main;\n};\nvar createBackgroundBlurer = function createBackgroundBlurer() {\n  var blurer = document.createElement("div");\n  blurer.classList.add("sidebar-blur");\n  return blurer;\n};\nvar createMainLoader = function createMainLoader() {\n  var mainLoader = document.createElement("div");\n  mainLoader.className = "main-loader";\n  var mainLoaderSpinner = document.createElement("i");\n  mainLoaderSpinner.className = "fas fa-sync fa-spin main-spinner";\n  var mainLoaderBox = document.createElement("div");\n  mainLoaderBox.className = "main-loader-box";\n  mainLoaderBox.innerHTML = "<h1 class=\\"main-retry-message\\">\\u0418\\u0437\\u0432\\u0438\\u043D\\u0438\\u0442\\u0435, \\u0447\\u0442\\u043E-\\u0442\\u043E \\u043F\\u043E\\u0448\\u043B\\u043E \\u043D\\u0435 \\u0442\\u0430\\u043A</h1>\\n                                <button class=\\"main-retry-btn\\">\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437</button>";\n  return {\n    rootElement: mainLoader,\n    spinner: mainLoaderSpinner,\n    retryBox: mainLoaderBox,\n    retryBtn: mainLoaderBox.querySelector(".main-retry-btn")\n  };\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/base.js\n\n\n\n\nvar base_domElements = {\n  sidebar: createSidebar(),\n  header: createHeader(),\n  mainContent: createMain(),\n  backgroundBlurer: createBackgroundBlurer(),\n  mainLoader: createMainLoader(),\n  mapPage: {\n    mapWrapper: createMapWrapper(),\n    regionTable: createRegionTable(),\n    regionCard: createRegionShareCard(),\n    tooltip: createTooltip()\n  },\n  sectorPage: {\n    chartWrapper: createChartWrapper(),\n    sectorList: createSectorList(),\n    sectorTable: createSectorTable(),\n    reportCard: createSectorReportCard()\n  },\n  thesisPage: {\n    pdfReader: createPdfReader(),\n    docSwitcher: createDocumentSwitcher()\n  }\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/customPackages/helperFunctions.js\nvar roundNumber = function roundNumber(number) {\n  var toDigits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return Math.round(number * Math.pow(10, toDigits)) / Math.pow(10, toDigits);\n};\nvar detectMobileDevice = function detectMobileDevice() {\n  if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) {\n    return true;\n  } else {\n    return false;\n  }\n}; //function for forwarding other function to make sure that DRY principle is followed\n\nvar forwardFunction = function forwardFunction(func, thisObject, data) {\n  return function (event) {\n    func.call(thisObject, event, data);\n  };\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/models/Map.js\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar Map_Map = /*#__PURE__*/function () {\n  function Map() {\n    _classCallCheck(this, Map);\n\n    this.query = "https://econ-thesis-api.herokuapp.com" + "/api/econ_regions/all/";\n  }\n\n  _createClass(Map, [{\n    key: "getRegions",\n    value: function () {\n      var _getRegions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response, regionsData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(this.query);\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                regionsData = _context.sent;\n                this.regionsObject = this.getFormattedRegions(regionsData);\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context["catch"](0);\n                throw _context.t0;\n\n              case 13:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n\n      function getRegions() {\n        return _getRegions.apply(this, arguments);\n      }\n\n      return getRegions;\n    }()\n  }, {\n    key: "getFormattedRegions",\n    value: function getFormattedRegions(rawRegions) {\n      var _this = this;\n\n      var regionsObject = {};\n      var regions = rawRegions.regions;\n      var sumLosses = 0;\n      regions.forEach(function (region) {\n        region.lockdownCost = roundNumber(region.employed * region.salary / 1e9, 2);\n        region.salary = roundNumber(region.salary / 1e3, 2);\n        region.employed = roundNumber(region.employed / 1e3, 2);\n        region.colorMap = _this.getRegionColor(region.lockdownCost);\n        region.ident = "".concat(region.isoCode) + "_" + "".concat(region.rusCode);\n        regionsObject[region.ident] = region;\n        sumLosses += region.lockdownCost;\n      });\n      regionsObject.overallInfo = {\n        sumLosses: roundNumber(sumLosses, 2),\n        viewport: rawRegions.viewPort\n      };\n      return regionsObject;\n    }\n  }, {\n    key: "getRegionColor",\n    value: function getRegionColor(costs) {\n      var color;\n\n      switch (true) {\n        case costs < 20:\n          color = "rgb(238, 116, 116)";\n          break;\n\n        case costs >= 20 && costs < 30:\n          color = "rgb(241, 82, 82)";\n          break;\n\n        case costs >= 30 && costs < 50:\n          color = "rgb(253, 55, 55)";\n          break;\n\n        case costs >= 50 && costs < 100:\n          color = "rgb(252, 19, 19)";\n          break;\n\n        case costs > 100:\n          color = "rgb(194, 11, 11)";\n          break;\n      }\n\n      return color;\n    }\n  }]);\n\n  return Map;\n}();\n\n\n;// CONCATENATED MODULE: ./frontend/src/scripts/models/Thesis.js\nfunction Thesis_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Thesis = function Thesis() {\n  Thesis_classCallCheck(this, Thesis);\n\n  this.documents = new Map();\n  this.documents.set("thesis.pdf", "Текст ВКР");\n  this.documents.set("mentorReview.pdf", "Отзыв научного руководителя А.В.Юркова");\n  this.documents.set("employerReview.pdf", "Отзыв рецензента М.И.Мелешкина");\n};\n\n\n;// CONCATENATED MODULE: ./frontend/src/scripts/models/Sector.js\nfunction Sector_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction Sector_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { Sector_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { Sector_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction Sector_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction Sector_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction Sector_createClass(Constructor, protoProps, staticProps) { if (protoProps) Sector_defineProperties(Constructor.prototype, protoProps); if (staticProps) Sector_defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Sector = /*#__PURE__*/function () {\n  function Sector() {\n    Sector_classCallCheck(this, Sector);\n\n    this.namesQuery = "".concat("https://econ-thesis-api.herokuapp.com", "/api/econ_sectors/all_names/");\n    this.sectorQuery = "".concat("https://econ-thesis-api.herokuapp.com", "/api/econ_sectors/");\n  }\n\n  Sector_createClass(Sector, [{\n    key: "getSectorsObject",\n    value: function () {\n      var _getSectorsObject = Sector_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var response, sectorNames;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(this.namesQuery);\n\n              case 2:\n                response = _context.sent;\n                _context.next = 5;\n                return response.json();\n\n              case 5:\n                sectorNames = _context.sent;\n                //initializing objects\n                this.sectors = {};\n                sectorNames.forEach(function (name) {\n                  return _this.sectors[name] = null;\n                });\n                return _context.abrupt("return", sectorNames[0]);\n\n              case 9:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getSectorsObject() {\n        return _getSectorsObject.apply(this, arguments);\n      }\n\n      return getSectorsObject;\n    }()\n  }, {\n    key: "getSectorData",\n    value: function () {\n      var _getSectorData = Sector_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(sectorName) {\n        var sectorResponse, sectorData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(this.sectorQuery + sectorName);\n\n              case 3:\n                sectorResponse = _context2.sent;\n                _context2.next = 6;\n                return sectorResponse.json();\n\n              case 6:\n                sectorData = _context2.sent;\n                this.sectors[sectorName] = sectorData;\n                return _context2.abrupt("return", sectorData);\n\n              case 11:\n                _context2.prev = 11;\n                _context2.t0 = _context2["catch"](0);\n                this.sectors[sectorName] = null;\n                throw _context2.t0;\n\n              case 15:\n              case "end":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 11]]);\n      }));\n\n      function getSectorData(_x) {\n        return _getSectorData.apply(this, arguments);\n      }\n\n      return getSectorData;\n    }()\n  }]);\n\n  return Sector;\n}();\n\n\n;// CONCATENATED MODULE: ./frontend/src/scripts/views/frameView.js\n\nvar clearUpPage = function clearUpPage() {\n  document.body.innerHTML = "";\n};\nvar toggleSidebar = function toggleSidebar() {\n  return base_domElements.sidebar.rootElement.classList.toggle("sidebar-expanded");\n};\nvar selectNavItem = function selectNavItem(prev, picked) {\n  base_domElements.sidebar.navigation.querySelector(".menu-item[data-to-page=\\"".concat(prev, "\\"")).classList.remove("selected-menu-item");\n  base_domElements.sidebar.navigation.querySelector(".menu-item[data-to-page=\\"".concat(picked, "\\"")).classList.add("selected-menu-item");\n};\nvar insertMainLoader = function insertMainLoader() {\n  base_domElements.mainLoader.rootElement.append(base_domElements.mainLoader.spinner);\n  document.body.append(base_domElements.mainLoader.rootElement);\n};\nvar renderRetryBoxOnLoader = function renderRetryBoxOnLoader() {\n  base_domElements.mainLoader.spinner.remove();\n  base_domElements.mainLoader.rootElement.append(base_domElements.mainLoader.retryBox);\n};\nvar removeMainLoader = function removeMainLoader() {\n  if (base_domElements.mainLoader.rootElement.contains(base_domElements.mainLoader.retryBox)) base_domElements.mainLoader.retryBox.remove();\n  base_domElements.mainLoader.rootElement.remove();\n};\n// EXTERNAL MODULE: ./node_modules/chart.js/dist/chart.esm.js + 1 modules\nvar chart_esm = __webpack_require__(181);\n;// CONCATENATED MODULE: ./frontend/src/scripts/views/sectorView.js\n\n\n\nchart_esm/* Chart.register */.kL.register(chart_esm/* LineElement */.jn, chart_esm/* LinearScale */.f$, chart_esm/* Legend */.De, chart_esm/* Title */.Dx, chart_esm/* CategoryScale */.uw, chart_esm/* LineController */.ST, chart_esm/* PointElement */.od, chart_esm/* Tooltip */.u); //helper functions\n\nvar getFormattedDates = function getFormattedDates(dates) {\n  return dates.map(function (date) {\n    var dateObj = new Date(date);\n    return "".concat(dateObj.getFullYear(), "-Q").concat(Math.ceil((dateObj.getMonth() + 1) / 3));\n  });\n};\n\nvar initializeSectorList = function initializeSectorList(sectorNames) {\n  sectorNames.forEach(function (name, i) {\n    return base_domElements.sectorPage.sectorList.itemsHolder.insertAdjacentHTML("beforeend", "<div class=\\"sector-item ".concat(i === 0 ? "selected-item" : "", "\\">").concat(name, "</div>"));\n  });\n};\nvar generateSectorChart = function generateSectorChart(_ref) {\n  var sectorData = _ref.dataChart;\n  var formattedDates = getFormattedDates(sectorData.dates);\n  var data = {\n    labels: formattedDates,\n    datasets: [{\n      label: "Реальный валовый продукт",\n      data: sectorData.realValues,\n      borderColor: "#fd4747",\n      backgroundColor: "#ff9a9a"\n    }, {\n      label: "Прогноз",\n      data: sectorData.predictedValues,\n      borderColor: "#28A745",\n      backgroundColor: "#80c590"\n    }]\n  };\n  var config = {\n    type: "line",\n    data: data,\n    options: {\n      elements: {\n        point: {\n          hoverRadius: 10,\n          radius: detectMobileDevice() ? 0 : 2\n        },\n        line: {\n          tension: 0.15 // disables bezier curves\n\n        }\n      },\n      responsive: true,\n      maintainAspectRatio: false,\n      plugins: {\n        legend: {\n          position: "top"\n        }\n      },\n      scales: {\n        x: {\n          ticks: {\n            callback: function callback(val, index) {\n              return index % 2 === 0 ? this.getLabelForValue(val) : "";\n            }\n          }\n        },\n        y: {\n          title: {\n            display: true,\n            text: "Млрд.рублей",\n            font: {\n              family: "Roboto",\n              size: 15\n            }\n          }\n        }\n      }\n    }\n  };\n  base_domElements.sectorPage.chartWrapper.chart = new chart_esm/* Chart */.kL(base_domElements.sectorPage.chartWrapper.chartCanvas, config);\n};\nvar renderSectorPage = function renderSectorPage() {\n  var _domElements$mainCont;\n\n  base_domElements.mainContent.dataset.currentPage = "sector";\n  base_domElements.header.headerText.textContent = "Отраслевой анализ потерь экономики РФ";\n  var sectorPageContent = [base_domElements.sectorPage.sectorList.rootElement, base_domElements.sectorPage.chartWrapper.rootElement, base_domElements.sectorPage.sectorTable.rootElement, base_domElements.sectorPage.reportCard.rootElement];\n\n  (_domElements$mainCont = base_domElements.mainContent).append.apply(_domElements$mainCont, sectorPageContent);\n};\nvar updateSectorTable = function updateSectorTable(tbody) {\n  var tableRows = Array.from(base_domElements.sectorPage.sectorTable.tableRows);\n  tableRows.forEach(function (row, rowIndex) {\n    Array.prototype.slice.call(row.children, 1).forEach(function (td, cellIndex) {\n      return td.textContent = tbody[rowIndex][cellIndex];\n    });\n  });\n};\nvar updateSectorReportCard = function updateSectorReportCard(_ref2) {\n  var prevYearShare = _ref2.prevYearShare,\n      totalLosses = _ref2.totalLosses;\n\n  if (totalLosses < 0) {\n    base_domElements.sectorPage.reportCard.rootElement.dataset.growthType = "loss";\n    base_domElements.sectorPage.reportCard.typeLossesDisplay.textContent = "потерь";\n  } else {\n    base_domElements.sectorPage.reportCard.rootElement.dataset.growthType = "income";\n    base_domElements.sectorPage.reportCard.typeLossesDisplay.textContent = "доходов";\n  }\n\n  base_domElements.sectorPage.reportCard.absLossesDisplay.textContent = roundNumber(totalLosses, 0);\n  base_domElements.sectorPage.reportCard.shareLossesDisplay.textContent = roundNumber(prevYearShare, 2);\n};\nvar updateSectorChart = function updateSectorChart(_ref3) {\n  var dataChart = _ref3.dataChart;\n  console.log(dataChart);\n  console.log(base_domElements.sectorPage.chartWrapper.chart.data.datasets[0]);\n  base_domElements.sectorPage.chartWrapper.chart.data.datasets[0].data = dataChart.realValues;\n  base_domElements.sectorPage.chartWrapper.chart.data.datasets[1].data = dataChart.predictedValues;\n  base_domElements.sectorPage.chartWrapper.chart.update();\n};\nvar selectSectorItem = function selectSectorItem(sectorItem) {\n  base_domElements.sectorPage.sectorList.itemsHolder.querySelector(".selected-item").classList.remove("selected-item");\n  sectorItem.classList.add("selected-item");\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/customPackages/RussianMap.js\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\n/*!\n * Raphael 1.5.2 - JavaScript Vector Library\n *\n * Copyright (c) 2010 Dmitry Baranovskiy (http://raphaeljs.com)\n * Licensed under the MIT (http://raphaeljs.com/license.html) license.\n */\nvar Raphael;\n\n(function () {\n  function aI() {\n    if (aI.is(arguments[0], a7)) {\n      var b = arguments[0],\n          d = F[bB](aI, b.splice(0, 4 + aI.is(b[0], aF))),\n          R = d.set();\n\n      for (var E = 0, S = b[s]; E < S; E++) {\n        var e = b[E] || {};\n        bp[ag](e.type) && R[k](d[e.type]().attr(e));\n      }\n\n      return R;\n    }\n\n    return F[bB](aI, arguments);\n  }\n\n  aI.version = "1.5.2";\n\n  var a = /[, ]+/,\n      bp = {\n    circle: 1,\n    rect: 1,\n    path: 1,\n    ellipse: 1,\n    text: 1,\n    image: 1\n  },\n      bn = /\\{(\\d+)\\}/g,\n      bE = "prototype",\n      ag = "hasOwnProperty",\n      aa = document,\n      aQ = window,\n      r = {\n    was: Object[bE][ag].call(aQ, "Raphael"),\n    is: aQ.Raphael\n  },\n      bz = function bz() {\n    this.customAttributes = {};\n  },\n      aZ,\n      bk = "appendChild",\n      bB = "apply",\n      bw = "concat",\n      W = ("createTouch" in aa),\n      aP = "",\n      aH = " ",\n      bC = String,\n      I = "split",\n      Q = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[I](aH),\n      bq = {\n    mousedown: "touchstart",\n    mousemove: "touchmove",\n    mouseup: "touchend"\n  },\n      aW = "join",\n      s = "length",\n      bG = bC[bE].toLowerCase,\n      ao = Math,\n      m = ao.max,\n      bi = ao.min,\n      aq = ao.abs,\n      bl = ao.pow,\n      aM = ao.PI,\n      aF = "number",\n      af = "string",\n      a7 = "array",\n      a0 = "toString",\n      a4 = "fill",\n      aT = Object[bE][a0],\n      bt = {},\n      k = "push",\n      h = /^url\\([\'"]?([^\\)]+?)[\'"]?\\)$/i,\n      G = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,\n      ap = {\n    "NaN": 1,\n    "Infinity": 1,\n    "-Infinity": 1\n  },\n      c = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n      ad = ao.round,\n      D = "setAttribute",\n      aj = parseFloat,\n      T = parseInt,\n      a5 = " progid:DXImageTransform.Microsoft",\n      bo = bC[bE].toUpperCase,\n      q = {\n    blur: 0,\n    "clip-rect": "0 0 1e9 1e9",\n    cursor: "default",\n    cx: 0,\n    cy: 0,\n    fill: "#fff",\n    "fill-opacity": 1,\n    font: \'10px "Arial"\',\n    "font-family": \'"Arial"\',\n    "font-size": "10",\n    "font-style": "normal",\n    "font-weight": 400,\n    gradient: 0,\n    height: 0,\n    href: "http://raphaeljs.com/",\n    opacity: 1,\n    path: "M0,0",\n    r: 0,\n    rotation: 0,\n    rx: 0,\n    ry: 0,\n    scale: "1 1",\n    src: "",\n    stroke: "#000",\n    "stroke-dasharray": "",\n    "stroke-linecap": "butt",\n    "stroke-linejoin": "butt",\n    "stroke-miterlimit": 0,\n    "stroke-opacity": 1,\n    "stroke-width": 1,\n    target: "_blank",\n    "text-anchor": "middle",\n    title: "Raphael",\n    translation: "0 0",\n    width: 0,\n    x: 0,\n    y: 0\n  },\n      am = {\n    along: "along",\n    blur: aF,\n    "clip-rect": "csv",\n    cx: aF,\n    cy: aF,\n    fill: "colour",\n    "fill-opacity": aF,\n    "font-size": aF,\n    height: aF,\n    opacity: aF,\n    path: "path",\n    r: aF,\n    rotation: "csv",\n    rx: aF,\n    ry: aF,\n    scale: "csv",\n    stroke: "colour",\n    "stroke-opacity": aF,\n    "stroke-width": aF,\n    translation: "csv",\n    width: aF,\n    x: aF,\n    y: aF\n  },\n      bs = "replace",\n      bf = /^(from|to|\\d+%?)$/,\n      bd = /\\s*,\\s*/,\n      n = {\n    hs: 1,\n    rg: 1\n  },\n      ba = /,?([achlmqrstvxz]),?/gi,\n      aR = /([achlmqstvz])[\\s,]*((-?\\d*\\.?\\d*(?:e[-+]?\\d+)?\\s*,?\\s*)+)/ig,\n      aG = /(-?\\d*\\.?\\d*(?:e[-+]?\\d+)?)\\s*,?\\s*/ig,\n      aO = /^r(?:\\(([^,]+?)\\s*,\\s*([^\\)]+?)\\))?/,\n      bm = function bm(e, d) {\n    return e.key - d.key;\n  };\n\n  aI.type = aQ.SVGAngle || aa.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML";\n\n  if (aI.type == "VML") {\n    var ax = aa.createElement("div"),\n        aB;\n    ax.innerHTML = \'<v:shape adj="1"/>\';\n    aB = ax.firstChild;\n    aB.style.behavior = "url(#default#VML)";\n\n    if (!(aB && _typeof(aB.adj) == "object")) {\n      return aI.type = null;\n    }\n\n    ax = null;\n  }\n\n  aI.svg = !(aI.vml = aI.type == "VML");\n  bz[bE] = aI[bE];\n  aZ = bz[bE];\n  aI._id = 0;\n  aI._oid = 0;\n  aI.fn = {};\n\n  aI.is = function (d, b) {\n    b = bG.call(b);\n\n    if (b == "finite") {\n      return !ap[ag](+d);\n    }\n\n    return b == "null" && d === null || b == _typeof(d) || b == "object" && d === Object(d) || b == "array" && Array.isArray && Array.isArray(d) || aT.call(d).slice(8, -1).toLowerCase() == b;\n  };\n\n  aI.angle = function (E, S, e, R, d, i) {\n    if (d == null) {\n      var b = E - e,\n          bH = S - R;\n\n      if (!b && !bH) {\n        return 0;\n      }\n\n      return ((b < 0) * 180 + ao.atan(-bH / -b) * 180 / aM + 360) % 360;\n    } else {\n      return aI.angle(E, S, d, i) - aI.angle(e, R, d, i);\n    }\n  };\n\n  aI.rad = function (b) {\n    return b % 360 * aM / 180;\n  };\n\n  aI.deg = function (b) {\n    return b * 180 / aM % 360;\n  };\n\n  aI.snapTo = function (d, E, b) {\n    b = aI.is(b, "finite") ? b : 10;\n\n    if (aI.is(d, a7)) {\n      var e = d.length;\n\n      while (e--) {\n        if (aq(d[e] - E) <= b) {\n          return d[e];\n        }\n      }\n    } else {\n      d = +d;\n      var R = E % d;\n\n      if (R < b) {\n        return E - R;\n      }\n\n      if (R > d - b) {\n        return E - R + d;\n      }\n    }\n\n    return E;\n  };\n\n  function j() {\n    var d = [],\n        b = 0;\n\n    for (; b < 32; b++) {\n      d[b] = (~~(ao.random() * 16))[a0](16);\n    }\n\n    d[12] = 4;\n    d[16] = (d[16] & 3 | 8)[a0](16);\n    return "r-" + d[aW]("");\n  }\n\n  aI.setWindow = function (b) {\n    aQ = b;\n    aa = aQ.document;\n  };\n\n  var _a = function a9(E) {\n    if (aI.vml) {\n      var b = /^\\s+|\\s+$/g;\n      var S;\n\n      try {\n        var bH = new ActiveXObject("htmlfile");\n        bH.write("<body>");\n        bH.close();\n        S = bH.body;\n      } catch (bI) {\n        S = createPopup().document.body;\n      }\n\n      var d = S.createTextRange();\n      _a = aA(function (i) {\n        try {\n          S.style.color = bC(i)[bs](b, aP);\n          var bJ = d.queryCommandValue("ForeColor");\n          bJ = (bJ & 255) << 16 | bJ & 65280 | (bJ & 16711680) >>> 16;\n          return "#" + ("000000" + bJ[a0](16)).slice(-6);\n        } catch (bK) {\n          return "none";\n        }\n      });\n    } else {\n      var R = aa.createElement("i");\n      R.title = "Rapha\\xebl Colour Picker";\n      R.style.display = "none";\n      aa.body[bk](R);\n      _a = aA(function (e) {\n        R.style.color = e;\n        return aa.defaultView.getComputedStyle(R, aP).getPropertyValue("color");\n      });\n    }\n\n    return _a(E);\n  },\n      aC = function aC() {\n    return "hsb(" + [this.h, this.s, this.b] + ")";\n  },\n      M = function M() {\n    return "hsl(" + [this.h, this.s, this.l] + ")";\n  },\n      B = function B() {\n    return this.hex;\n  };\n\n  aI.hsb2rgb = function (i, e, d, E) {\n    if (aI.is(i, "object") && "h" in i && "s" in i && "b" in i) {\n      d = i.b;\n      e = i.s;\n      i = i.h;\n      E = i.o;\n    }\n\n    return aI.hsl2rgb(i, e, d / 2, E);\n  };\n\n  aI.hsl2rgb = function (bH, bO, E, e) {\n    if (aI.is(bH, "object") && "h" in bH && "s" in bH && "l" in bH) {\n      E = bH.l;\n      bO = bH.s;\n      bH = bH.h;\n    }\n\n    if (bH > 1 || bO > 1 || E > 1) {\n      bH /= 360;\n      bO /= 100;\n      E /= 100;\n    }\n\n    var bM = {},\n        bJ = ["r", "g", "b"],\n        bI,\n        bL,\n        S,\n        d,\n        bK,\n        bN;\n\n    if (!bO) {\n      bM = {\n        r: E,\n        g: E,\n        b: E\n      };\n    } else {\n      if (E < 0.5) {\n        bI = E * (1 + bO);\n      } else {\n        bI = E + bO - E * bO;\n      }\n\n      bL = 2 * E - bI;\n\n      for (var R = 0; R < 3; R++) {\n        S = bH + 1 / 3 * -(R - 1);\n        S < 0 && S++;\n        S > 1 && S--;\n\n        if (S * 6 < 1) {\n          bM[bJ[R]] = bL + (bI - bL) * 6 * S;\n        } else {\n          if (S * 2 < 1) {\n            bM[bJ[R]] = bI;\n          } else {\n            if (S * 3 < 2) {\n              bM[bJ[R]] = bL + (bI - bL) * (2 / 3 - S) * 6;\n            } else {\n              bM[bJ[R]] = bL;\n            }\n          }\n        }\n      }\n    }\n\n    bM.r *= 255;\n    bM.g *= 255;\n    bM.b *= 255;\n    bM.hex = "#" + (16777216 | bM.b | bM.g << 8 | bM.r << 16).toString(16).slice(1);\n    aI.is(e, "finite") && (bM.opacity = e);\n    bM.toString = B;\n    return bM;\n  };\n\n  aI.rgb2hsb = function (b, d, bH) {\n    if (d == null && aI.is(b, "object") && "r" in b && "g" in b && "b" in b) {\n      bH = b.b;\n      d = b.g;\n      b = b.r;\n    }\n\n    if (d == null && aI.is(b, af)) {\n      var bJ = aI.getRGB(b);\n      b = bJ.r;\n      d = bJ.g;\n      bH = bJ.b;\n    }\n\n    if (b > 1 || d > 1 || bH > 1) {\n      b /= 255;\n      d /= 255;\n      bH /= 255;\n    }\n\n    var S = m(b, d, bH),\n        e = bi(b, d, bH),\n        E,\n        i,\n        R = S;\n\n    if (e == S) {\n      return {\n        h: 0,\n        s: 0,\n        b: S,\n        toString: aC\n      };\n    } else {\n      var bI = S - e;\n      i = bI / S;\n\n      if (b == S) {\n        E = (d - bH) / bI;\n      } else {\n        if (d == S) {\n          E = 2 + (bH - b) / bI;\n        } else {\n          E = 4 + (b - d) / bI;\n        }\n      }\n\n      E /= 6;\n      E < 0 && E++;\n      E > 1 && E--;\n    }\n\n    return {\n      h: E,\n      s: i,\n      b: R,\n      toString: aC\n    };\n  };\n\n  aI.rgb2hsl = function (d, e, S) {\n    if (e == null && aI.is(d, "object") && "r" in d && "g" in d && "b" in d) {\n      S = d.b;\n      e = d.g;\n      d = d.r;\n    }\n\n    if (e == null && aI.is(d, af)) {\n      var bK = aI.getRGB(d);\n      d = bK.r;\n      e = bK.g;\n      S = bK.b;\n    }\n\n    if (d > 1 || e > 1 || S > 1) {\n      d /= 255;\n      e /= 255;\n      S /= 255;\n    }\n\n    var R = m(d, e, S),\n        i = bi(d, e, S),\n        E,\n        bJ,\n        b = (R + i) / 2,\n        bI;\n\n    if (i == R) {\n      bI = {\n        h: 0,\n        s: 0,\n        l: b\n      };\n    } else {\n      var bH = R - i;\n      bJ = b < 0.5 ? bH / (R + i) : bH / (2 - R - i);\n\n      if (d == R) {\n        E = (e - S) / bH;\n      } else {\n        if (e == R) {\n          E = 2 + (S - d) / bH;\n        } else {\n          E = 4 + (d - e) / bH;\n        }\n      }\n\n      E /= 6;\n      E < 0 && E++;\n      E > 1 && E--;\n      bI = {\n        h: E,\n        s: bJ,\n        l: b\n      };\n    }\n\n    bI.toString = M;\n    return bI;\n  };\n\n  aI._path2string = function () {\n    return this.join(",")[bs](ba, "$1");\n  };\n\n  function aA(i, d, b) {\n    function e() {\n      var E = Array[bE].slice.call(arguments, 0),\n          S = E[aW]("\\u25BA"),\n          R = e.cache = e.cache || {},\n          bH = e.count = e.count || [];\n\n      if (R[ag](S)) {\n        return b ? b(R[S]) : R[S];\n      }\n\n      bH[s] >= 1000 && delete R[bH.shift()];\n      bH[k](S);\n      R[S] = i[bB](d, E);\n      return b ? b(R[S]) : R[S];\n    }\n\n    return e;\n  }\n\n  aI.getRGB = aA(function (b) {\n    if (!b || !!((b = bC(b)).indexOf("-") + 1)) {\n      return {\n        r: -1,\n        g: -1,\n        b: -1,\n        hex: "none",\n        error: 1\n      };\n    }\n\n    if (b == "none") {\n      return {\n        r: -1,\n        g: -1,\n        b: -1,\n        hex: "none"\n      };\n    }\n\n    !(n[ag](b.toLowerCase().substring(0, 2)) || b.charAt() == "#") && (b = _a(b));\n    var E,\n        d,\n        e,\n        S,\n        i,\n        bI,\n        bH,\n        R = b.match(G);\n\n    if (R) {\n      if (R[2]) {\n        S = T(R[2].substring(5), 16);\n        e = T(R[2].substring(3, 5), 16);\n        d = T(R[2].substring(1, 3), 16);\n      }\n\n      if (R[3]) {\n        S = T((bI = R[3].charAt(3)) + bI, 16);\n        e = T((bI = R[3].charAt(2)) + bI, 16);\n        d = T((bI = R[3].charAt(1)) + bI, 16);\n      }\n\n      if (R[4]) {\n        bH = R[4][I](bd);\n        d = aj(bH[0]);\n        bH[0].slice(-1) == "%" && (d *= 2.55);\n        e = aj(bH[1]);\n        bH[1].slice(-1) == "%" && (e *= 2.55);\n        S = aj(bH[2]);\n        bH[2].slice(-1) == "%" && (S *= 2.55);\n        R[1].toLowerCase().slice(0, 4) == "rgba" && (i = aj(bH[3]));\n        bH[3] && bH[3].slice(-1) == "%" && (i /= 100);\n      }\n\n      if (R[5]) {\n        bH = R[5][I](bd);\n        d = aj(bH[0]);\n        bH[0].slice(-1) == "%" && (d *= 2.55);\n        e = aj(bH[1]);\n        bH[1].slice(-1) == "%" && (e *= 2.55);\n        S = aj(bH[2]);\n        bH[2].slice(-1) == "%" && (S *= 2.55);\n        (bH[0].slice(-3) == "deg" || bH[0].slice(-1) == "\\xb0") && (d /= 360);\n        R[1].toLowerCase().slice(0, 4) == "hsba" && (i = aj(bH[3]));\n        bH[3] && bH[3].slice(-1) == "%" && (i /= 100);\n        return aI.hsb2rgb(d, e, S, i);\n      }\n\n      if (R[6]) {\n        bH = R[6][I](bd);\n        d = aj(bH[0]);\n        bH[0].slice(-1) == "%" && (d *= 2.55);\n        e = aj(bH[1]);\n        bH[1].slice(-1) == "%" && (e *= 2.55);\n        S = aj(bH[2]);\n        bH[2].slice(-1) == "%" && (S *= 2.55);\n        (bH[0].slice(-3) == "deg" || bH[0].slice(-1) == "\\xb0") && (d /= 360);\n        R[1].toLowerCase().slice(0, 4) == "hsla" && (i = aj(bH[3]));\n        bH[3] && bH[3].slice(-1) == "%" && (i /= 100);\n        return aI.hsl2rgb(d, e, S, i);\n      }\n\n      R = {\n        r: d,\n        g: e,\n        b: S\n      };\n      R.hex = "#" + (16777216 | S | e << 8 | d << 16).toString(16).slice(1);\n      aI.is(i, "finite") && (R.opacity = i);\n      return R;\n    }\n\n    return {\n      r: -1,\n      g: -1,\n      b: -1,\n      hex: "none",\n      error: 1\n    };\n  }, aI);\n\n  aI.getColor = function (d) {\n    var e = this.getColor.start = this.getColor.start || {\n      h: 0,\n      s: 1,\n      b: d || 0.75\n    },\n        b = this.hsb2rgb(e.h, e.s, e.b);\n    e.h += 0.075;\n\n    if (e.h > 1) {\n      e.h = 0;\n      e.s -= 0.2;\n      e.s <= 0 && (this.getColor.start = {\n        h: 0,\n        s: 1,\n        b: e.b\n      });\n    }\n\n    return b.hex;\n  };\n\n  aI.getColor.reset = function () {\n    delete this.start;\n  };\n\n  aI.parsePathString = aA(function (b) {\n    if (!b) {\n      return null;\n    }\n\n    var e = {\n      a: 7,\n      c: 6,\n      h: 1,\n      l: 2,\n      m: 2,\n      q: 4,\n      s: 4,\n      t: 2,\n      v: 1,\n      z: 0\n    },\n        d = [];\n\n    if (aI.is(b, a7) && aI.is(b[0], a7)) {\n      d = aS(b);\n    }\n\n    if (!d[s]) {\n      bC(b)[bs](aR, function (E, i, bH) {\n        var S = [],\n            R = bG.call(i);\n        bH[bs](aG, function (bJ, bI) {\n          bI && S[k](+bI);\n        });\n\n        if (R == "m" && S[s] > 2) {\n          d[k]([i][bw](S.splice(0, 2)));\n          R = "l";\n          i = i == "m" ? "l" : "L";\n        }\n\n        while (S[s] >= e[R]) {\n          d[k]([i][bw](S.splice(0, e[R])));\n\n          if (!e[R]) {\n            break;\n          }\n        }\n      });\n    }\n\n    d[a0] = aI._path2string;\n    return d;\n  });\n\n  aI.findDotsAtSegment = function (d, b, bU, bS, S, E, bI, bH, bO) {\n    var bM = 1 - bO,\n        bL = bl(bM, 3) * d + bl(bM, 2) * 3 * bO * bU + bM * 3 * bO * bO * S + bl(bO, 3) * bI,\n        bJ = bl(bM, 3) * b + bl(bM, 2) * 3 * bO * bS + bM * 3 * bO * bO * E + bl(bO, 3) * bH,\n        bQ = d + 2 * bO * (bU - d) + bO * bO * (S - 2 * bU + d),\n        bP = b + 2 * bO * (bS - b) + bO * bO * (E - 2 * bS + b),\n        bT = bU + 2 * bO * (S - bU) + bO * bO * (bI - 2 * S + bU),\n        bR = bS + 2 * bO * (E - bS) + bO * bO * (bH - 2 * E + bS),\n        bN = (1 - bO) * d + bO * bU,\n        bK = (1 - bO) * b + bO * bS,\n        i = (1 - bO) * S + bO * bI,\n        e = (1 - bO) * E + bO * bH,\n        R = 90 - ao.atan((bQ - bT) / (bP - bR)) * 180 / aM;\n    (bQ > bT || bP < bR) && (R += 180);\n    return {\n      x: bL,\n      y: bJ,\n      m: {\n        x: bQ,\n        y: bP\n      },\n      n: {\n        x: bT,\n        y: bR\n      },\n      start: {\n        x: bN,\n        y: bK\n      },\n      end: {\n        x: i,\n        y: e\n      },\n      alpha: R\n    };\n  };\n\n  var ai = aA(function (bL) {\n    if (!bL) {\n      return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    bL = V(bL);\n    var bI = 0,\n        bH = 0,\n        E = [],\n        d = [],\n        e;\n\n    for (var R = 0, bK = bL[s]; R < bK; R++) {\n      e = bL[R];\n\n      if (e[0] == "M") {\n        bI = e[1];\n        bH = e[2];\n        E[k](bI);\n        d[k](bH);\n      } else {\n        var S = a6(bI, bH, e[1], e[2], e[3], e[4], e[5], e[6]);\n        E = E[bw](S.min.x, S.max.x);\n        d = d[bw](S.min.y, S.max.y);\n        bI = e[5];\n        bH = e[6];\n      }\n    }\n\n    var b = bi[bB](0, E),\n        bJ = bi[bB](0, d);\n    return {\n      x: b,\n      y: bJ,\n      width: m[bB](0, E) - b,\n      height: m[bB](0, d) - bJ\n    };\n  }),\n      aS = function aS(S) {\n    var e = [];\n\n    if (!aI.is(S, a7) || !aI.is(S && S[0], a7)) {\n      S = aI.parsePathString(S);\n    }\n\n    for (var d = 0, E = S[s]; d < E; d++) {\n      e[d] = [];\n\n      for (var b = 0, R = S[d][s]; b < R; b++) {\n        e[d][b] = S[d][b];\n      }\n    }\n\n    e[a0] = aI._path2string;\n    return e;\n  },\n      au = aA(function (E) {\n    if (!aI.is(E, a7) || !aI.is(E && E[0], a7)) {\n      E = aI.parsePathString(E);\n    }\n\n    var bK = [],\n        bM = 0,\n        bL = 0,\n        bP = 0,\n        bO = 0,\n        e = 0;\n\n    if (E[0][0] == "M") {\n      bM = E[0][1];\n      bL = E[0][2];\n      bP = bM;\n      bO = bL;\n      e++;\n      bK[k](["M", bM, bL]);\n    }\n\n    for (var bH = e, bQ = E[s]; bH < bQ; bH++) {\n      var b = bK[bH] = [],\n          bN = E[bH];\n\n      if (bN[0] != bG.call(bN[0])) {\n        b[0] = bG.call(bN[0]);\n\n        switch (b[0]) {\n          case "a":\n            b[1] = bN[1];\n            b[2] = bN[2];\n            b[3] = bN[3];\n            b[4] = bN[4];\n            b[5] = bN[5];\n            b[6] = +(bN[6] - bM).toFixed(3);\n            b[7] = +(bN[7] - bL).toFixed(3);\n            break;\n\n          case "v":\n            b[1] = +(bN[1] - bL).toFixed(3);\n            break;\n\n          case "m":\n            bP = bN[1];\n            bO = bN[2];\n\n          default:\n            for (var S = 1, bI = bN[s]; S < bI; S++) {\n              b[S] = +(bN[S] - (S % 2 ? bM : bL)).toFixed(3);\n            }\n\n        }\n      } else {\n        b = bK[bH] = [];\n\n        if (bN[0] == "m") {\n          bP = bN[1] + bM;\n          bO = bN[2] + bL;\n        }\n\n        for (var R = 0, d = bN[s]; R < d; R++) {\n          bK[bH][R] = bN[R];\n        }\n      }\n\n      var bJ = bK[bH][s];\n\n      switch (bK[bH][0]) {\n        case "z":\n          bM = bP;\n          bL = bO;\n          break;\n\n        case "h":\n          bM += +bK[bH][bJ - 1];\n          break;\n\n        case "v":\n          bL += +bK[bH][bJ - 1];\n          break;\n\n        default:\n          bM += +bK[bH][bJ - 2];\n          bL += +bK[bH][bJ - 1];\n      }\n    }\n\n    bK[a0] = aI._path2string;\n    return bK;\n  }, 0, aS),\n      y = aA(function (E) {\n    if (!aI.is(E, a7) || !aI.is(E && E[0], a7)) {\n      E = aI.parsePathString(E);\n    }\n\n    var bJ = [],\n        bL = 0,\n        bK = 0,\n        bO = 0,\n        bN = 0,\n        e = 0;\n\n    if (E[0][0] == "M") {\n      bL = +E[0][1];\n      bK = +E[0][2];\n      bO = bL;\n      bN = bK;\n      e++;\n      bJ[0] = ["M", bL, bK];\n    }\n\n    for (var bH = e, bP = E[s]; bH < bP; bH++) {\n      var b = bJ[bH] = [],\n          bM = E[bH];\n\n      if (bM[0] != bo.call(bM[0])) {\n        b[0] = bo.call(bM[0]);\n\n        switch (b[0]) {\n          case "A":\n            b[1] = bM[1];\n            b[2] = bM[2];\n            b[3] = bM[3];\n            b[4] = bM[4];\n            b[5] = bM[5];\n            b[6] = +(bM[6] + bL);\n            b[7] = +(bM[7] + bK);\n            break;\n\n          case "V":\n            b[1] = +bM[1] + bK;\n            break;\n\n          case "H":\n            b[1] = +bM[1] + bL;\n            break;\n\n          case "M":\n            bO = +bM[1] + bL;\n            bN = +bM[2] + bK;\n\n          default:\n            for (var S = 1, bI = bM[s]; S < bI; S++) {\n              b[S] = +bM[S] + (S % 2 ? bL : bK);\n            }\n\n        }\n      } else {\n        for (var R = 0, d = bM[s]; R < d; R++) {\n          bJ[bH][R] = bM[R];\n        }\n      }\n\n      switch (b[0]) {\n        case "Z":\n          bL = bO;\n          bK = bN;\n          break;\n\n        case "H":\n          bL = b[1];\n          break;\n\n        case "V":\n          bK = b[1];\n          break;\n\n        case "M":\n          bO = bJ[bH][bJ[bH][s] - 2];\n          bN = bJ[bH][bJ[bH][s] - 1];\n\n        default:\n          bL = bJ[bH][bJ[bH][s] - 2];\n          bK = bJ[bH][bJ[bH][s] - 1];\n      }\n    }\n\n    bJ[a0] = aI._path2string;\n    return bJ;\n  }, null, aS),\n      bD = function bD(d, i, b, e) {\n    return [d, i, b, e, b, e];\n  },\n      bj = function bj(d, i, S, E, b, e) {\n    var R = 1 / 3,\n        bH = 2 / 3;\n    return [R * d + bH * S, R * i + bH * E, R * b + bH * S, R * e + bH * E, b, e];\n  },\n      Z = function Z(bO, cj, bX, bV, bP, bJ, E, bN, ci, bQ) {\n    var bU = aM * 120 / 180,\n        b = aM / 180 * (+bP || 0),\n        b1 = [],\n        bY,\n        cf = aA(function (ck, cn, i) {\n      var cm = ck * ao.cos(i) - cn * ao.sin(i),\n          cl = ck * ao.sin(i) + cn * ao.cos(i);\n      return {\n        x: cm,\n        y: cl\n      };\n    });\n\n    if (!bQ) {\n      bY = cf(bO, cj, -b);\n      bO = bY.x;\n      cj = bY.y;\n      bY = cf(bN, ci, -b);\n      bN = bY.x;\n      ci = bY.y;\n      var d = ao.cos(aM / 180 * bP),\n          bL = ao.sin(aM / 180 * bP),\n          b3 = (bO - bN) / 2,\n          b2 = (cj - ci) / 2;\n      var cd = b3 * b3 / (bX * bX) + b2 * b2 / (bV * bV);\n\n      if (cd > 1) {\n        cd = ao.sqrt(cd);\n        bX = cd * bX;\n        bV = cd * bV;\n      }\n\n      var e = bX * bX,\n          b6 = bV * bV,\n          b8 = (bJ == E ? -1 : 1) * ao.sqrt(aq((e * b6 - e * b2 * b2 - b6 * b3 * b3) / (e * b2 * b2 + b6 * b3 * b3))),\n          bS = b8 * bX * b2 / bV + (bO + bN) / 2,\n          bR = b8 * -bV * b3 / bX + (cj + ci) / 2,\n          bI = ao.asin(((cj - bR) / bV).toFixed(9)),\n          bH = ao.asin(((ci - bR) / bV).toFixed(9));\n      bI = bO < bS ? aM - bI : bI;\n      bH = bN < bS ? aM - bH : bH;\n      bI < 0 && (bI = aM * 2 + bI);\n      bH < 0 && (bH = aM * 2 + bH);\n\n      if (E && bI > bH) {\n        bI = bI - aM * 2;\n      }\n\n      if (!E && bH > bI) {\n        bH = bH - aM * 2;\n      }\n    } else {\n      bI = bQ[0];\n      bH = bQ[1];\n      bS = bQ[2];\n      bR = bQ[3];\n    }\n\n    var bM = bH - bI;\n\n    if (aq(bM) > bU) {\n      var bT = bH,\n          bW = bN,\n          bK = ci;\n      bH = bI + bU * (E && bH > bI ? 1 : -1);\n      bN = bS + bX * ao.cos(bH);\n      ci = bR + bV * ao.sin(bH);\n      b1 = Z(bN, ci, bX, bV, bP, 0, E, bW, bK, [bH, bT, bS, bR]);\n    }\n\n    bM = bH - bI;\n    var S = ao.cos(bI),\n        ch = ao.sin(bI),\n        R = ao.cos(bH),\n        cg = ao.sin(bH),\n        b4 = ao.tan(bM / 4),\n        b7 = 4 / 3 * bX * b4,\n        b5 = 4 / 3 * bV * b4,\n        ce = [bO, cj],\n        cc = [bO + b7 * ch, cj - b5 * S],\n        cb = [bN + b7 * cg, ci - b5 * R],\n        b9 = [bN, ci];\n    cc[0] = 2 * ce[0] - cc[0];\n    cc[1] = 2 * ce[1] - cc[1];\n\n    if (bQ) {\n      return [cc, cb, b9][bw](b1);\n    } else {\n      b1 = [cc, cb, b9][bw](b1)[aW]()[I](",");\n      var bZ = [];\n\n      for (var ca = 0, b0 = b1[s]; ca < b0; ca++) {\n        bZ[ca] = ca % 2 ? cf(b1[ca - 1], b1[ca], b).y : cf(b1[ca], b1[ca + 1], b).x;\n      }\n\n      return bZ;\n    }\n  },\n      ac = function ac(d, b, i, e, bI, bH, S, R, bJ) {\n    var E = 1 - bJ;\n    return {\n      x: bl(E, 3) * d + bl(E, 2) * 3 * bJ * i + E * 3 * bJ * bJ * bI + bl(bJ, 3) * S,\n      y: bl(E, 3) * b + bl(E, 2) * 3 * bJ * e + E * 3 * bJ * bJ * bH + bl(bJ, 3) * R\n    };\n  },\n      a6 = aA(function (i, d, R, E, bQ, bP, bM, bJ) {\n    var bO = bQ - 2 * R + i - (bM - 2 * bQ + R),\n        bL = 2 * (R - i) - 2 * (bQ - R),\n        bI = i - R,\n        bH = (-bL + ao.sqrt(bL * bL - 4 * bO * bI)) / 2 / bO,\n        S = (-bL - ao.sqrt(bL * bL - 4 * bO * bI)) / 2 / bO,\n        bK = [d, bJ],\n        bN = [i, bM],\n        e;\n    aq(bH) > "1e12" && (bH = 0.5);\n    aq(S) > "1e12" && (S = 0.5);\n\n    if (bH > 0 && bH < 1) {\n      e = ac(i, d, R, E, bQ, bP, bM, bJ, bH);\n      bN[k](e.x);\n      bK[k](e.y);\n    }\n\n    if (S > 0 && S < 1) {\n      e = ac(i, d, R, E, bQ, bP, bM, bJ, S);\n      bN[k](e.x);\n      bK[k](e.y);\n    }\n\n    bO = bP - 2 * E + d - (bJ - 2 * bP + E);\n    bL = 2 * (E - d) - 2 * (bP - E);\n    bI = d - E;\n    bH = (-bL + ao.sqrt(bL * bL - 4 * bO * bI)) / 2 / bO;\n    S = (-bL - ao.sqrt(bL * bL - 4 * bO * bI)) / 2 / bO;\n    aq(bH) > "1e12" && (bH = 0.5);\n    aq(S) > "1e12" && (S = 0.5);\n\n    if (bH > 0 && bH < 1) {\n      e = ac(i, d, R, E, bQ, bP, bM, bJ, bH);\n      bN[k](e.x);\n      bK[k](e.y);\n    }\n\n    if (S > 0 && S < 1) {\n      e = ac(i, d, R, E, bQ, bP, bM, bJ, S);\n      bN[k](e.x);\n      bK[k](e.y);\n    }\n\n    return {\n      min: {\n        x: bi[bB](0, bN),\n        y: bi[bB](0, bK)\n      },\n      max: {\n        x: m[bB](0, bN),\n        y: m[bB](0, bK)\n      }\n    };\n  }),\n      V = aA(function (bP, bK) {\n    var E = y(bP),\n        bL = bK && y(bK),\n        bM = {\n      x: 0,\n      y: 0,\n      bx: 0,\n      by: 0,\n      X: 0,\n      Y: 0,\n      qx: null,\n      qy: null\n    },\n        b = {\n      x: 0,\n      y: 0,\n      bx: 0,\n      by: 0,\n      X: 0,\n      Y: 0,\n      qx: null,\n      qy: null\n    },\n        S = function S(bQ, bR) {\n      var i, bS;\n\n      if (!bQ) {\n        return ["C", bR.x, bR.y, bR.x, bR.y, bR.x, bR.y];\n      }\n\n      !(bQ[0] in {\n        T: 1,\n        Q: 1\n      }) && (bR.qx = bR.qy = null);\n\n      switch (bQ[0]) {\n        case "M":\n          bR.X = bQ[1];\n          bR.Y = bQ[2];\n          break;\n\n        case "A":\n          bQ = ["C"][bw](Z[bB](0, [bR.x, bR.y][bw](bQ.slice(1))));\n          break;\n\n        case "S":\n          i = bR.x + (bR.x - (bR.bx || bR.x));\n          bS = bR.y + (bR.y - (bR.by || bR.y));\n          bQ = ["C", i, bS][bw](bQ.slice(1));\n          break;\n\n        case "T":\n          bR.qx = bR.x + (bR.x - (bR.qx || bR.x));\n          bR.qy = bR.y + (bR.y - (bR.qy || bR.y));\n          bQ = ["C"][bw](bj(bR.x, bR.y, bR.qx, bR.qy, bQ[1], bQ[2]));\n          break;\n\n        case "Q":\n          bR.qx = bQ[1];\n          bR.qy = bQ[2];\n          bQ = ["C"][bw](bj(bR.x, bR.y, bQ[1], bQ[2], bQ[3], bQ[4]));\n          break;\n\n        case "L":\n          bQ = ["C"][bw](bD(bR.x, bR.y, bQ[1], bQ[2]));\n          break;\n\n        case "H":\n          bQ = ["C"][bw](bD(bR.x, bR.y, bQ[1], bR.y));\n          break;\n\n        case "V":\n          bQ = ["C"][bw](bD(bR.x, bR.y, bR.x, bQ[1]));\n          break;\n\n        case "Z":\n          bQ = ["C"][bw](bD(bR.x, bR.y, bR.X, bR.Y));\n          break;\n      }\n\n      return bQ;\n    },\n        d = function d(bQ, bR) {\n      if (bQ[bR][s] > 7) {\n        bQ[bR].shift();\n        var bS = bQ[bR];\n\n        while (bS[s]) {\n          bQ.splice(bR++, 0, ["C"][bw](bS.splice(0, 6)));\n        }\n\n        bQ.splice(bR, 1);\n        bN = m(E[s], bL && bL[s] || 0);\n      }\n    },\n        e = function e(bU, bT, bR, bQ, bS) {\n      if (bU && bT && bU[bS][0] == "M" && bT[bS][0] != "M") {\n        bT.splice(bS, 0, ["M", bQ.x, bQ.y]);\n        bR.bx = 0;\n        bR.by = 0;\n        bR.x = bU[bS][1];\n        bR.y = bU[bS][2];\n        bN = m(E[s], bL && bL[s] || 0);\n      }\n    };\n\n    for (var bI = 0, bN = m(E[s], bL && bL[s] || 0); bI < bN; bI++) {\n      E[bI] = S(E[bI], bM);\n      d(E, bI);\n      bL && (bL[bI] = S(bL[bI], b));\n      bL && d(bL, bI);\n      e(E, bL, bM, b, bI);\n      e(bL, E, b, bM, bI);\n      var bH = E[bI],\n          bO = bL && bL[bI],\n          R = bH[s],\n          bJ = bL && bO[s];\n      bM.x = bH[R - 2];\n      bM.y = bH[R - 1];\n      bM.bx = aj(bH[R - 4]) || bM.x;\n      bM.by = aj(bH[R - 3]) || bM.y;\n      b.bx = bL && (aj(bO[bJ - 4]) || b.x);\n      b.by = bL && (aj(bO[bJ - 3]) || b.y);\n      b.x = bL && bO[bJ - 2];\n      b.y = bL && bO[bJ - 1];\n    }\n\n    return bL ? [E, bL] : E;\n  }, null, aS),\n      w = aA(function (bK) {\n    var bJ = [];\n\n    for (var S = 0, bL = bK[s]; S < bL; S++) {\n      var b = {},\n          bI = bK[S].match(/^([^:]*):?([\\d\\.]*)/);\n      b.color = aI.getRGB(bI[1]);\n\n      if (b.color.error) {\n        return null;\n      }\n\n      b.color = b.color.hex;\n      bI[2] && (b.offset = bI[2] + "%");\n      bJ[k](b);\n    }\n\n    for (S = 1, bL = bJ[s] - 1; S < bL; S++) {\n      if (!bJ[S].offset) {\n        var e = aj(bJ[S - 1].offset || 0),\n            E = 0;\n\n        for (var R = S + 1; R < bL; R++) {\n          if (bJ[R].offset) {\n            E = bJ[R].offset;\n            break;\n          }\n        }\n\n        if (!E) {\n          E = 100;\n          R = bL;\n        }\n\n        E = aj(E);\n        var bH = (E - e) / (R - S + 1);\n\n        for (; S < R; S++) {\n          e += bH;\n          bJ[S].offset = e + "%";\n        }\n      }\n    }\n\n    return bJ;\n  }),\n      aJ = function aJ(b, S, e, i, R, E) {\n    var d; // console.log({b, aa});\n\n    if (aI.is(b, af) || aI.is(b, "object")) {\n      d = aI.is(b, af) ? aa.getElementById(b) : b;\n\n      if (d.tagName) {\n        if (S == null) {\n          return {\n            container: d,\n            width: d.style.pixelWidth || d.offsetWidth,\n            height: d.style.pixelHeight || d.offsetHeight\n          };\n        } else {\n          return {\n            container: d,\n            width: S,\n            height: e,\n            viewBox: i,\n            vmlSize: R\n          };\n        }\n      }\n    } else {\n      return {\n        container: 1,\n        x: b,\n        y: S,\n        width: e,\n        height: i,\n        viewBox: R,\n        vmlSize: E\n      };\n    }\n  },\n      be = function be(b, e) {\n    var d = this;\n\n    for (var i in e) {\n      if (e[ag](i) && !(i in b)) {\n        switch (_typeof(e[i])) {\n          case "function":\n            (function (E) {\n              b[i] = b === d ? E : function () {\n                return E[bB](d, arguments);\n              };\n            })(e[i]);\n\n            break;\n\n          case "object":\n            b[i] = b[i] || {};\n            be.call(this, b[i], e[i]);\n            break;\n\n          default:\n            b[i] = e[i];\n            break;\n        }\n      }\n    }\n  },\n      aE = function aE(b, d) {\n    b == d.top && (d.top = b.prev);\n    b == d.bottom && (d.bottom = b.next);\n    b.next && (b.next.prev = b.prev);\n    b.prev && (b.prev.next = b.next);\n  },\n      al = function al(b, d) {\n    if (d.top === b) {\n      return;\n    }\n\n    aE(b, d);\n    b.next = null;\n    b.prev = d.top;\n    d.top.next = b;\n    d.top = b;\n  },\n      p = function p(b, d) {\n    if (d.bottom === b) {\n      return;\n    }\n\n    aE(b, d);\n    b.next = d.bottom;\n    b.prev = null;\n    d.bottom.prev = b;\n    d.bottom = b;\n  },\n      J = function J(d, b, e) {\n    aE(d, e);\n    b == e.top && (e.top = d);\n    b.next && (b.next.prev = d);\n    d.next = b.next;\n    d.prev = b;\n    b.next = d;\n  },\n      aL = function aL(d, b, e) {\n    aE(d, e);\n    b == e.bottom && (e.bottom = d);\n    b.prev && (b.prev.next = d);\n    d.prev = b.prev;\n    b.prev = d;\n    d.next = b;\n  },\n      z = function z(b) {\n    return function () {\n      throw new Error("Rapha\\xEBl: you are calling to method \\u201C" + b + "\\u201D of removed object");\n    };\n  };\n\n  aI.pathToRelative = au;\n\n  if (aI.svg) {\n    aZ.svgns = "http://www.w3.org/2000/svg";\n    aZ.xlink = "http://www.w3.org/1999/xlink";\n\n    ad = function ad(b) {\n      return +b + (~~b === b) * 0.5;\n    };\n\n    var bh = function bh(e, b) {\n      if (b) {\n        for (var d in b) {\n          if (b[ag](d)) {\n            e[D](d, bC(b[d]));\n          }\n        }\n      } else {\n        e = aa.createElementNS(aZ.svgns, e);\n        e.style.webkitTapHighlightColor = "rgba(0,0,0,0)";\n        return e;\n      }\n    };\n\n    aI[a0] = function () {\n      return "Your browser supports SVG.\\nYou are running Rapha\\xebl " + this.version;\n    };\n\n    var x = function x(b, i, regId) {\n      var d = bh("path");\n      d.setAttribute(\'data-region-id\', regId);\n      i.canvas && i.canvas[bk](d);\n      var e = new aU(d, i);\n      e.type = "path";\n      an(e, {\n        fill: "none",\n        stroke: "#000",\n        path: b\n      });\n      return e;\n    };\n\n    var g = function g(E, bO, b) {\n      var bL = "linear",\n          bI = 0.5,\n          S = 0.5,\n          bQ = E.style;\n      bO = bC(bO)[bs](aO, function (bS, i, bT) {\n        bL = "radial";\n\n        if (i && bT) {\n          bI = aj(i);\n          S = aj(bT);\n          var bR = (S > 0.5) * 2 - 1;\n          bl(bI - 0.5, 2) + bl(S - 0.5, 2) > 0.25 && (S = ao.sqrt(0.25 - bl(bI - 0.5, 2)) * bR + 0.5) && S != 0.5 && (S = S.toFixed(5) - 0.00001 * bR);\n        }\n\n        return aP;\n      });\n      bO = bO[I](/\\s*\\-\\s*/);\n\n      if (bL == "linear") {\n        var bH = bO.shift();\n        bH = -aj(bH);\n\n        if (isNaN(bH)) {\n          return null;\n        }\n\n        var R = [0, 0, ao.cos(bH * aM / 180), ao.sin(bH * aM / 180)],\n            bN = 1 / (m(aq(R[2]), aq(R[3])) || 1);\n        R[2] *= bN;\n        R[3] *= bN;\n\n        if (R[2] < 0) {\n          R[0] = -R[2];\n          R[2] = 0;\n        }\n\n        if (R[3] < 0) {\n          R[1] = -R[3];\n          R[3] = 0;\n        }\n      }\n\n      var bK = w(bO);\n\n      if (!bK) {\n        return null;\n      }\n\n      var d = E.getAttribute(a4);\n      d = d.match(/^url\\(#(.*)\\)$/);\n      d && b.defs.removeChild(aa.getElementById(d[1]));\n      var e = bh(bL + "Gradient");\n      e.id = j();\n      bh(e, bL == "radial" ? {\n        fx: bI,\n        fy: S\n      } : {\n        x1: R[0],\n        y1: R[1],\n        x2: R[2],\n        y2: R[3]\n      });\n      b.defs[bk](e);\n\n      for (var bJ = 0, bP = bK[s]; bJ < bP; bJ++) {\n        var bM = bh("stop");\n        bh(bM, {\n          offset: bK[bJ].offset ? bK[bJ].offset : !bJ ? "0%" : "100%",\n          "stop-color": bK[bJ].color || "#fff"\n        });\n        e[bk](bM);\n      }\n\n      bh(E, {\n        fill: "url(#" + e.id + ")",\n        opacity: 1,\n        "fill-opacity": 1\n      });\n      bQ.fill = aP;\n      bQ.opacity = 1;\n      bQ.fillOpacity = 1;\n      return 1;\n    };\n\n    var ab = function ab(d) {\n      var b = d.getBBox();\n      bh(d.pattern, {\n        patternTransform: aI.format("translate({0},{1})", b.x, b.y)\n      });\n    };\n\n    var an = function an(bN, bW) {\n      var bQ = {\n        "": [0],\n        none: [0],\n        "-": [3, 1],\n        ".": [1, 1],\n        "-.": [3, 1, 1, 1],\n        "-..": [3, 1, 1, 1, 1, 1],\n        ". ": [1, 3],\n        "- ": [4, 3],\n        "--": [8, 3],\n        "- .": [4, 3, 1, 3],\n        "--.": [8, 3, 1, 3],\n        "--..": [8, 3, 1, 3, 1, 3]\n      },\n          bS = bN.node,\n          bO = bN.attrs,\n          bK = bN.rotate();\n\n      var S = function S(b3, b2) {\n        b2 = bQ[bG.call(b2)];\n\n        if (b2) {\n          var b0 = b3.attrs["stroke-width"] || "1",\n              bY = {\n            round: b0,\n            square: b0,\n            butt: 0\n          }[b3.attrs["stroke-linecap"] || bW["stroke-linecap"]] || 0,\n              b1 = [];\n          var bZ = b2[s];\n\n          while (bZ--) {\n            b1[bZ] = b2[bZ] * b0 + (bZ % 2 ? 1 : -1) * bY;\n          }\n\n          bh(bS, {\n            "stroke-dasharray": b1[aW](",")\n          });\n        }\n      };\n\n      bW[ag]("rotation") && (bK = bW.rotation);\n      var bJ = bC(bK)[I](a);\n\n      if (!(bJ.length - 1)) {\n        bJ = null;\n      } else {\n        bJ[1] = +bJ[1];\n        bJ[2] = +bJ[2];\n      }\n\n      aj(bK) && bN.rotate(0, true);\n\n      for (var bR in bW) {\n        if (bW[ag](bR)) {\n          if (!q[ag](bR)) {\n            continue;\n          }\n\n          var bP = bW[bR];\n          bO[bR] = bP;\n\n          switch (bR) {\n            case "blur":\n              bN.blur(bP);\n              break;\n\n            case "rotation":\n              bN.rotate(bP, true);\n              break;\n\n            case "href":\n            case "title":\n            case "target":\n              var bU = bS.parentNode;\n\n              if (bG.call(bU.tagName) != "a") {\n                var E = bh("a");\n                bU.insertBefore(E, bS);\n                E[bk](bS);\n                bU = E;\n              }\n\n              if (bR == "target" && bP == "blank") {\n                bU.setAttributeNS(bN.paper.xlink, "show", "new");\n              } else {\n                bU.setAttributeNS(bN.paper.xlink, bR, bP);\n              }\n\n              break;\n\n            case "cursor":\n              bS.style.cursor = bP;\n              break;\n\n            case "clip-rect":\n              var d = bC(bP)[I](a);\n\n              if (d[s] == 4) {\n                bN.clip && bN.clip.parentNode.parentNode.removeChild(bN.clip.parentNode);\n                var e = bh("clipPath"),\n                    bT = bh("rect");\n                e.id = j();\n                bh(bT, {\n                  x: d[0],\n                  y: d[1],\n                  width: d[2],\n                  height: d[3]\n                });\n                e[bk](bT);\n                bN.paper.defs[bk](e);\n                bh(bS, {\n                  "clip-path": "url(#" + e.id + ")"\n                });\n                bN.clip = bT;\n              }\n\n              if (!bP) {\n                var bV = aa.getElementById(bS.getAttribute("clip-path")[bs](/(^url\\(#|\\)$)/g, aP));\n                bV && bV.parentNode.removeChild(bV);\n                bh(bS, {\n                  "clip-path": aP\n                });\n                delete bN.clip;\n              }\n\n              break;\n\n            case "path":\n              if (bN.type == "path") {\n                bh(bS, {\n                  d: bP ? bO.path = y(bP) : "M0,0"\n                });\n              }\n\n              break;\n\n            case "width":\n              bS[D](bR, bP);\n\n              if (bO.fx) {\n                bR = "x";\n                bP = bO.x;\n              } else {\n                break;\n              }\n\n            case "x":\n              if (bO.fx) {\n                bP = -bO.x - (bO.width || 0);\n              }\n\n            case "rx":\n              if (bR == "rx" && bN.type == "rect") {\n                break;\n              }\n\n            case "cx":\n              bJ && (bR == "x" || bR == "cx") && (bJ[1] += bP - bO[bR]);\n              bS[D](bR, bP);\n              bN.pattern && ab(bN);\n              break;\n\n            case "height":\n              bS[D](bR, bP);\n\n              if (bO.fy) {\n                bR = "y";\n                bP = bO.y;\n              } else {\n                break;\n              }\n\n            case "y":\n              if (bO.fy) {\n                bP = -bO.y - (bO.height || 0);\n              }\n\n            case "ry":\n              if (bR == "ry" && bN.type == "rect") {\n                break;\n              }\n\n            case "cy":\n              bJ && (bR == "y" || bR == "cy") && (bJ[2] += bP - bO[bR]);\n              bS[D](bR, bP);\n              bN.pattern && ab(bN);\n              break;\n\n            case "r":\n              if (bN.type == "rect") {\n                bh(bS, {\n                  rx: bP,\n                  ry: bP\n                });\n              } else {\n                bS[D](bR, bP);\n              }\n\n              break;\n\n            case "src":\n              if (bN.type == "image") {\n                bS.setAttributeNS(bN.paper.xlink, "href", bP);\n              }\n\n              break;\n\n            case "stroke-width":\n              bS.style.strokeWidth = bP;\n              bS[D](bR, bP);\n\n              if (bO["stroke-dasharray"]) {\n                S(bN, bO["stroke-dasharray"]);\n              }\n\n              break;\n\n            case "stroke-dasharray":\n              S(bN, bP);\n              break;\n\n            case "translation":\n              var bH = bC(bP)[I](a);\n              bH[0] = +bH[0] || 0;\n              bH[1] = +bH[1] || 0;\n\n              if (bJ) {\n                bJ[1] += bH[0];\n                bJ[2] += bH[1];\n              }\n\n              A.call(bN, bH[0], bH[1]);\n              break;\n\n            case "scale":\n              bH = bC(bP)[I](a);\n              bN.scale(+bH[0] || 1, +bH[1] || +bH[0] || 1, isNaN(aj(bH[2])) ? null : +bH[2], isNaN(aj(bH[3])) ? null : +bH[3]);\n              break;\n\n            case a4:\n              var R = bC(bP).match(h);\n\n              if (R) {\n                e = bh("pattern");\n                var bM = bh("image");\n                e.id = j();\n                bh(e, {\n                  x: 0,\n                  y: 0,\n                  patternUnits: "userSpaceOnUse",\n                  height: 1,\n                  width: 1\n                });\n                bh(bM, {\n                  x: 0,\n                  y: 0\n                });\n                bM.setAttributeNS(bN.paper.xlink, "href", R[1]);\n                e[bk](bM);\n                var bX = aa.createElement("img");\n                bX.style.cssText = "position:absolute;left:-9999em;top-9999em";\n\n                bX.onload = function () {\n                  bh(e, {\n                    width: this.offsetWidth,\n                    height: this.offsetHeight\n                  });\n                  bh(bM, {\n                    width: this.offsetWidth,\n                    height: this.offsetHeight\n                  });\n                  aa.body.removeChild(this);\n                  bN.paper.safari();\n                };\n\n                aa.body[bk](bX);\n                bX.src = R[1];\n                bN.paper.defs[bk](e);\n                bS.style.fill = "url(#" + e.id + ")";\n                bh(bS, {\n                  fill: "url(#" + e.id + ")"\n                });\n                bN.pattern = e;\n                bN.pattern && ab(bN);\n                break;\n              }\n\n              var i = aI.getRGB(bP);\n\n              if (!i.error) {\n                delete bW.gradient;\n                delete bO.gradient;\n                !aI.is(bO.opacity, "undefined") && aI.is(bW.opacity, "undefined") && bh(bS, {\n                  opacity: bO.opacity\n                });\n                !aI.is(bO["fill-opacity"], "undefined") && aI.is(bW["fill-opacity"], "undefined") && bh(bS, {\n                  "fill-opacity": bO["fill-opacity"]\n                });\n              } else {\n                if (({\n                  circle: 1,\n                  ellipse: 1\n                }[ag](bN.type) || bC(bP).charAt() != "r") && g(bS, bP, bN.paper)) {\n                  bO.gradient = bP;\n                  bO.fill = "none";\n                  break;\n                }\n              }\n\n              i[ag]("opacity") && bh(bS, {\n                "fill-opacity": i.opacity > 1 ? i.opacity / 100 : i.opacity\n              });\n\n            case "stroke":\n              i = aI.getRGB(bP);\n              bS[D](bR, i.hex);\n              bR == "stroke" && i[ag]("opacity") && bh(bS, {\n                "stroke-opacity": i.opacity > 1 ? i.opacity / 100 : i.opacity\n              });\n              break;\n\n            case "gradient":\n              (({\n                circle: 1,\n                ellipse: 1\n              })[ag](bN.type) || bC(bP).charAt() != "r") && g(bS, bP, bN.paper);\n              break;\n\n            case "opacity":\n              if (bO.gradient && !bO[ag]("stroke-opacity")) {\n                bh(bS, {\n                  "stroke-opacity": bP > 1 ? bP / 100 : bP\n                });\n              }\n\n            case "fill-opacity":\n              if (bO.gradient) {\n                var b = aa.getElementById(bS.getAttribute(a4)[bs](/^url\\(#|\\)$/g, aP));\n\n                if (b) {\n                  var bI = b.getElementsByTagName("stop");\n                  bI[bI[s] - 1][D]("stop-opacity", bP);\n                }\n\n                break;\n              }\n\n            default:\n              bR == "font-size" && (bP = T(bP, 10) + "px");\n              var bL = bR[bs](/(\\-.)/g, function (bY) {\n                return bo.call(bY.substring(1));\n              });\n              bS.style[bL] = bP;\n              bS[D](bR, bP);\n              break;\n          }\n        }\n      }\n\n      P(bN, bW);\n\n      if (bJ) {\n        bN.rotate(bJ.join(aH));\n      } else {\n        aj(bK) && bN.rotate(bK, true);\n      }\n    };\n\n    var o = 1.2,\n        P = function P(b, E) {\n      if (b.type != "text" || !(E[ag]("text") || E[ag]("font") || E[ag]("font-size") || E[ag]("x") || E[ag]("y"))) {\n        return;\n      }\n\n      var bJ = b.attrs,\n          d = b.node,\n          bL = d.firstChild ? T(aa.defaultView.getComputedStyle(d.firstChild, aP).getPropertyValue("font-size"), 10) : 10;\n\n      if (E[ag]("text")) {\n        bJ.text = E.text;\n\n        while (d.firstChild) {\n          d.removeChild(d.firstChild);\n        }\n\n        var e = bC(E.text)[I]("\\n");\n\n        for (var R = 0, bK = e[s]; R < bK; R++) {\n          if (e[R]) {\n            var bH = bh("tspan");\n            R && bh(bH, {\n              dy: bL * o,\n              x: bJ.x\n            });\n            bH[bk](aa.createTextNode(e[R]));\n            d[bk](bH);\n          }\n        }\n      } else {\n        e = d.getElementsByTagName("tspan");\n\n        for (R = 0, bK = e[s]; R < bK; R++) {\n          R && bh(e[R], {\n            dy: bL * o,\n            x: bJ.x\n          });\n        }\n      }\n\n      bh(d, {\n        y: bJ.y\n      });\n      var S = b.getBBox(),\n          bI = bJ.y - (S.y + S.height / 2);\n      bI && aI.is(bI, "finite") && bh(d, {\n        y: bJ.y + bI\n      });\n    },\n        aU = function aU(d, b) {\n      var i = 0,\n          e = 0;\n      this[0] = d;\n      this.id = aI._oid++;\n      this.node = d;\n      d.raphael = this;\n      this.paper = b;\n      this.attrs = this.attrs || {};\n      this.transformations = [];\n      this._ = {\n        tx: 0,\n        ty: 0,\n        rt: {\n          deg: 0,\n          cx: 0,\n          cy: 0\n        },\n        sx: 1,\n        sy: 1\n      };\n      !b.bottom && (b.bottom = this);\n      this.prev = b.top;\n      b.top && (b.top.next = this);\n      b.top = this;\n      this.next = null;\n    };\n\n    var bc = aU[bE];\n\n    aU[bE].rotate = function (d, b, i) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (d == null) {\n        if (this._.rt.cx) {\n          return [this._.rt.deg, this._.rt.cx, this._.rt.cy][aW](aH);\n        }\n\n        return this._.rt.deg;\n      }\n\n      var e = this.getBBox();\n      d = bC(d)[I](a);\n\n      if (d[s] - 1) {\n        b = aj(d[1]);\n        i = aj(d[2]);\n      }\n\n      d = aj(d[0]);\n\n      if (b != null && b !== false) {\n        this._.rt.deg = d;\n      } else {\n        this._.rt.deg += d;\n      }\n\n      i == null && (b = null);\n      this._.rt.cx = b;\n      this._.rt.cy = i;\n      b = b == null ? e.x + e.width / 2 : b;\n      i = i == null ? e.y + e.height / 2 : i;\n\n      if (this._.rt.deg) {\n        this.transformations[0] = aI.format("rotate({0} {1} {2})", this._.rt.deg, b, i);\n        this.clip && bh(this.clip, {\n          transform: aI.format("rotate({0} {1} {2})", -this._.rt.deg, b, i)\n        });\n      } else {\n        this.transformations[0] = aP;\n        this.clip && bh(this.clip, {\n          transform: aP\n        });\n      }\n\n      bh(this.node, {\n        transform: this.transformations[aW](aH)\n      });\n      return this;\n    };\n\n    aU[bE].hide = function () {\n      !this.removed && (this.node.style.display = "none");\n      return this;\n    };\n\n    aU[bE].show = function () {\n      !this.removed && (this.node.style.display = "");\n      return this;\n    };\n\n    aU[bE].remove = function () {\n      if (this.removed) {\n        return;\n      }\n\n      aE(this, this.paper);\n      this.node.parentNode.removeChild(this.node);\n\n      for (var b in this) {\n        delete this[b];\n      }\n\n      this.removed = true;\n    };\n\n    aU[bE].getBBox = function () {\n      if (this.removed) {\n        return this;\n      }\n\n      if (this.type == "path") {\n        return ai(this.attrs.path);\n      }\n\n      if (this.node.style.display == "none") {\n        this.show();\n        var d = true;\n      }\n\n      var bH = {};\n\n      try {\n        bH = this.node.getBBox();\n      } catch (R) {} finally {\n        bH = bH || {};\n      }\n\n      if (this.type == "text") {\n        bH = {\n          x: bH.x,\n          y: Infinity,\n          width: 0,\n          height: 0\n        };\n\n        for (var b = 0, E = this.node.getNumberOfChars(); b < E; b++) {\n          var S = this.node.getExtentOfChar(b);\n          S.y < bH.y && (bH.y = S.y);\n          S.y + S.height - bH.y > bH.height && (bH.height = S.y + S.height - bH.y);\n          S.x + S.width - bH.x > bH.width && (bH.width = S.x + S.width - bH.x);\n        }\n      }\n\n      d && this.hide();\n      return bH;\n    };\n\n    aU[bE].attr = function (b, bJ) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (b == null) {\n        var bI = {};\n\n        for (var R in this.attrs) {\n          if (this.attrs[ag](R)) {\n            bI[R] = this.attrs[R];\n          }\n        }\n\n        this._.rt.deg && (bI.rotation = this.rotate());\n        (this._.sx != 1 || this._.sy != 1) && (bI.scale = this.scale());\n        bI.gradient && bI.fill == "none" && (bI.fill = bI.gradient) && delete bI.gradient;\n        return bI;\n      }\n\n      if (bJ == null && aI.is(b, af)) {\n        if (b == "translation") {\n          return A.call(this);\n        }\n\n        if (b == "rotation") {\n          return this.rotate();\n        }\n\n        if (b == "scale") {\n          return this.scale();\n        }\n\n        if (b == a4 && this.attrs.fill == "none" && this.attrs.gradient) {\n          return this.attrs.gradient;\n        }\n\n        return this.attrs[b];\n      }\n\n      if (bJ == null && aI.is(b, a7)) {\n        var bL = {};\n\n        for (var E = 0, S = b.length; E < S; E++) {\n          bL[b[E]] = this.attr(b[E]);\n        }\n\n        return bL;\n      }\n\n      if (bJ != null) {\n        var d = {};\n        d[b] = bJ;\n      } else {\n        if (b != null && aI.is(b, "object")) {\n          d = b;\n        }\n      }\n\n      for (var bK in this.paper.customAttributes) {\n        if (this.paper.customAttributes[ag](bK) && d[ag](bK) && aI.is(this.paper.customAttributes[bK], "function")) {\n          var bH = this.paper.customAttributes[bK].apply(this, [][bw](d[bK]));\n          this.attrs[bK] = d[bK];\n\n          for (var e in bH) {\n            if (bH[ag](e)) {\n              d[e] = bH[e];\n            }\n          }\n        }\n      }\n\n      an(this, d);\n      return this;\n    };\n\n    aU[bE].toFront = function () {\n      if (this.removed) {\n        return this;\n      }\n\n      this.node.parentNode[bk](this.node);\n      var b = this.paper;\n      b.top != this && al(this, b);\n      return this;\n    };\n\n    aU[bE].toBack = function () {\n      if (this.removed) {\n        return this;\n      }\n\n      if (this.node.parentNode.firstChild != this.node) {\n        this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\n        p(this, this.paper);\n        var b = this.paper;\n      }\n\n      return this;\n    };\n\n    aU[bE].insertAfter = function (b) {\n      if (this.removed) {\n        return this;\n      }\n\n      var d = b.node || b[b.length - 1].node;\n\n      if (d.nextSibling) {\n        d.parentNode.insertBefore(this.node, d.nextSibling);\n      } else {\n        d.parentNode[bk](this.node);\n      }\n\n      J(this, b, this.paper);\n      return this;\n    };\n\n    aU[bE].insertBefore = function (b) {\n      if (this.removed) {\n        return this;\n      }\n\n      var d = b.node || b[0].node;\n      d.parentNode.insertBefore(this.node, d);\n      aL(this, b, this.paper);\n      return this;\n    };\n\n    aU[bE].blur = function (d) {\n      var b = this;\n\n      if (+d !== 0) {\n        var e = bh("filter"),\n            i = bh("feGaussianBlur");\n        b.attrs.blur = d;\n        e.id = j();\n        bh(i, {\n          stdDeviation: +d || 1.5\n        });\n        e.appendChild(i);\n        b.paper.defs.appendChild(e);\n        b._blur = e;\n        bh(b.node, {\n          filter: "url(#" + e.id + ")"\n        });\n      } else {\n        if (b._blur) {\n          b._blur.parentNode.removeChild(b._blur);\n\n          delete b._blur;\n          delete b.attrs.blur;\n        }\n\n        b.node.removeAttribute("filter");\n      }\n    };\n\n    var ae = function ae(d, b, R, E) {\n      var i = bh("circle");\n      d.canvas && d.canvas[bk](i);\n      var e = new aU(i, d);\n      e.attrs = {\n        cx: b,\n        cy: R,\n        r: E,\n        fill: "none",\n        stroke: "#000"\n      };\n      e.type = "circle";\n      bh(i, e.attrs);\n      return e;\n    },\n        bb = function bb(e, b, bH, d, R, S) {\n      var E = bh("rect");\n      e.canvas && e.canvas[bk](E);\n      var i = new aU(E, e);\n      i.attrs = {\n        x: b,\n        y: bH,\n        width: d,\n        height: R,\n        r: S || 0,\n        rx: S || 0,\n        ry: S || 0,\n        fill: "none",\n        stroke: "#000"\n      };\n      i.type = "rect";\n      bh(E, i.attrs);\n      return i;\n    },\n        az = function az(d, b, S, R, E) {\n      var i = bh("ellipse");\n      d.canvas && d.canvas[bk](i);\n      var e = new aU(i, d);\n      e.attrs = {\n        cx: b,\n        cy: S,\n        rx: R,\n        ry: E,\n        fill: "none",\n        stroke: "#000"\n      };\n      e.type = "ellipse";\n      bh(i, e.attrs);\n      return e;\n    },\n        v = function v(e, S, b, bH, d, R) {\n      var E = bh("image");\n      bh(E, {\n        x: b,\n        y: bH,\n        width: d,\n        height: R,\n        preserveAspectRatio: "none"\n      });\n      E.setAttributeNS(e.xlink, "href", S);\n      e.canvas && e.canvas[bk](E);\n      var i = new aU(E, e);\n      i.attrs = {\n        x: b,\n        y: bH,\n        width: d,\n        height: R,\n        src: S\n      };\n      i.type = "image";\n      return i;\n    },\n        ak = function ak(d, b, R, E) {\n      var i = bh("text");\n      bh(i, {\n        x: b,\n        y: R,\n        "text-anchor": "middle"\n      });\n      d.canvas && d.canvas[bk](i);\n      var e = new aU(i, d);\n      e.attrs = {\n        x: b,\n        y: R,\n        "text-anchor": "middle",\n        text: E,\n        font: q.font,\n        stroke: "none",\n        fill: "#000"\n      };\n      e.type = "text";\n      an(e, e.attrs);\n      return e;\n    },\n        bA = function bA(d, b) {\n      this.width = d || this.width;\n      this.height = b || this.height;\n      this.canvas[D]("width", this.width);\n      this.canvas[D]("height", this.height);\n      return this;\n    },\n        F = function F() {\n      var i = aJ[bB](0, arguments),\n          e = i && i.container,\n          d = i.x,\n          bH = i.y,\n          E = i.width,\n          b = i.height,\n          R = i.viewBox !== undefined ? i.viewBox : "";\n      this.cordOrigin = i.cordOrigin;\n      this.cordSize = i.cordSize;\n\n      if (!e) {\n        throw new Error("SVG container not found.");\n      }\n\n      var S = bh("svg");\n      d = d || 0;\n      bH = bH || 0;\n      E = E || 512;\n      b = b || 342;\n      bh(S, {\n        xmlns: "http://www.w3.org/2000/svg",\n        version: 1.1,\n        width: E,\n        height: b,\n        viewBox: R\n      });\n\n      if (e == 1) {\n        S.style.cssText = "position:absolute;left:" + d + "px;top:" + bH + "px";\n        aa.body[bk](S);\n      } else {\n        if (e.firstChild) {\n          e.insertBefore(S, e.firstChild);\n        } else {\n          e[bk](S);\n        }\n      }\n\n      e = new bz();\n      e.width = E;\n      e.height = b;\n      e.canvas = S;\n      be.call(e, e, aI.fn);\n      e.clear();\n      return e;\n    };\n\n    aZ.clear = function () {\n      var b = this.canvas;\n\n      while (b.firstChild) {\n        b.removeChild(b.firstChild);\n      }\n\n      this.bottom = this.top = null;\n      (this.desc = bh("desc"))[bk](aa.createTextNode("Russian Map"));\n      b[bk](this.desc);\n      b[bk](this.defs = bh("defs"));\n    };\n\n    aZ.remove = function () {\n      this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\n\n      for (var b in this) {\n        this[b] = z(b);\n      }\n    };\n  }\n\n  if (aI.vml) {\n    var at = function at(b, E, d, e, i) {\n      if (i) {\n        return aI.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z", b + i, E, d - i * 2, i, -i, e - i * 2, i * 2 - d, i * 2 - e);\n      } else {\n        return aI.format("M{0},{1}l{2},0,0,{3},{4},0z", b, E, d, e, -d);\n      }\n    };\n\n    var N = {\n      M: "m",\n      L: "l",\n      C: "c",\n      Z: "x",\n      m: "t",\n      l: "r",\n      c: "v",\n      z: "x"\n    },\n        aN = /([clmz]),?([^clmz]*)/gi,\n        bx = / progid:\\S+Blur\\([^\\)]+\\)/g,\n        bF = /-?[^,\\s-]+/g,\n        aX = 1000 + aH + 1000,\n        u = 0.5,\n        t = {\n      path: 1,\n      rect: 1\n    },\n        bg = function bg(bL) {\n      var bI = /[ahqstv]/ig,\n          e = y;\n      bC(bL).match(bI) && (e = V);\n      bI = /[clmz]/g;\n\n      if (e == y && !bC(bL).match(bI)) {\n        var bH = bC(bL)[bs](aN, function (bO, bQ, bM) {\n          var bP = [],\n              i = bG.call(bQ) == "m",\n              bN = N[bQ];\n          bM[bs](bF, function (bR) {\n            if (i && bP[s] == 2) {\n              bN += bP + N[bQ == "m" ? "l" : "L"];\n              bP = [];\n            }\n\n            bP[k](ad(bR * u));\n          });\n          return bN + bP;\n        });\n        return bH;\n      }\n\n      var bJ = e(bL),\n          d,\n          b;\n      bH = [];\n\n      for (var R = 0, bK = bJ[s]; R < bK; R++) {\n        d = bJ[R];\n        b = bG.call(bJ[R][0]);\n        b == "z" && (b = "x");\n\n        for (var E = 1, S = d[s]; E < S; E++) {\n          b += ad(d[E] * u) + (E != S - 1 ? "," : aP);\n        }\n\n        bH[k](b);\n      }\n\n      return bH[aW](aH);\n    };\n\n    aI[a0] = function () {\n      return "Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xEBl " + this.version;\n    };\n\n    x = function x(e, d) {\n      var R = ay("group");\n      R.style.cssText = "position:absolute;left:0;top:0;width:" + d.width + "px;height:" + d.height + "px";\n      R.coordsize = 1000 + aH + 1000;\n      R.coordorigin = d.coordorigin;\n      var E = ay("shape"),\n          i = E.style;\n      i.width = d.width + "px";\n      i.height = d.height + "px";\n      E.coordsize = d.coordsize;\n      E.coordorigin = d.coordorigin;\n      R[bk](E);\n      var S = new aU(E, R, d),\n          b = {\n        fill: "none",\n        stroke: "#000"\n      };\n      e && (b.path = e);\n      S.type = "path";\n      S.path = [];\n      S.Path = aP;\n      an(S, b);\n      d.canvas[bk](R);\n      return S;\n    };\n\n    an = function an(bJ, bQ) {\n      bJ.attrs = bJ.attrs || {};\n      var bN = bJ.node,\n          bR = bJ.attrs,\n          S = bN.style,\n          i,\n          bP = (bQ.x != bR.x || bQ.y != bR.y || bQ.width != bR.width || bQ.height != bR.height || bQ.r != bR.r) && bJ.type == "rect",\n          bV = bJ;\n\n      for (var bH in bQ) {\n        if (bQ[ag](bH)) {\n          bR[bH] = bQ[bH];\n        }\n      }\n\n      if (bP) {\n        bR.path = at(bR.x, bR.y, bR.width, bR.height, bR.r);\n        bJ.X = bR.x;\n        bJ.Y = bR.y;\n        bJ.W = bR.width;\n        bJ.H = bR.height;\n      }\n\n      bQ.href && (bN.href = bQ.href);\n      bQ.title && (bN.title = bQ.title);\n      bQ.target && (bN.target = bQ.target);\n      bQ.cursor && (S.cursor = bQ.cursor);\n      "blur" in bQ && bJ.blur(bQ.blur);\n\n      if (bQ.path && bJ.type == "path" || bP) {\n        bN.path = bg(bR.path);\n      }\n\n      if (bQ.rotation != null) {\n        bJ.rotate(bQ.rotation, true);\n      }\n\n      if (bQ.translation) {\n        i = bC(bQ.translation)[I](a);\n        A.call(bJ, i[0], i[1]);\n\n        if (bJ._.rt.cx != null) {\n          bJ._.rt.cx += +i[0];\n          bJ._.rt.cy += +i[1];\n          bJ.setBox(bJ.attrs, i[0], i[1]);\n        }\n      }\n\n      if (bQ.scale) {\n        i = bC(bQ.scale)[I](a);\n        bJ.scale(+i[0] || 1, +i[1] || +i[0] || 1, +i[2] || null, +i[3] || null);\n      }\n\n      if ("clip-rect" in bQ) {\n        var b = bC(bQ["clip-rect"])[I](a);\n\n        if (b[s] == 4) {\n          b[2] = +b[2] + +b[0];\n          b[3] = +b[3] + +b[1];\n          var bI = bN.clipRect || aa.createElement("div"),\n              bU = bI.style,\n              R = bN.parentNode;\n          bU.clip = aI.format("rect({1}px {2}px {3}px {0}px)", b);\n\n          if (!bN.clipRect) {\n            bU.position = "absolute";\n            bU.top = 0;\n            bU.left = 0;\n            bU.width = bJ.paper.width + "px";\n            bU.height = bJ.paper.height + "px";\n            R.parentNode.insertBefore(bI, R);\n            bI[bk](R);\n            bN.clipRect = bI;\n          }\n        }\n\n        if (!bQ["clip-rect"]) {\n          bN.clipRect && (bN.clipRect.style.clip = aP);\n        }\n      }\n\n      if (bJ.type == "image" && bQ.src) {\n        bN.src = bQ.src;\n      }\n\n      if (bJ.type == "image" && bQ.opacity) {\n        bN.filterOpacity = a5 + ".Alpha(opacity=" + bQ.opacity * 100 + ")";\n        S.filter = (bN.filterMatrix || aP) + (bN.filterOpacity || aP);\n      }\n\n      bQ.font && (S.font = bQ.font);\n      bQ["font-family"] && (S.fontFamily = \'"\' + bQ["font-family"][I](",")[0][bs](/^[\'"]+|[\'"]+$/g, aP) + \'"\');\n      bQ["font-size"] && (S.fontSize = bQ["font-size"]);\n      bQ["font-weight"] && (S.fontWeight = bQ["font-weight"]);\n      bQ["font-style"] && (S.fontStyle = bQ["font-style"]);\n\n      if (bQ.opacity != null || bQ["stroke-width"] != null || bQ.fill != null || bQ.stroke != null || bQ["stroke-width"] != null || bQ["stroke-opacity"] != null || bQ["fill-opacity"] != null || bQ["stroke-dasharray"] != null || bQ["stroke-miterlimit"] != null || bQ["stroke-linejoin"] != null || bQ["stroke-linecap"] != null) {\n        bN = bJ.shape || bN;\n        var bO = bN.getElementsByTagName(a4) && bN.getElementsByTagName(a4)[0],\n            bS = false;\n        !bO && (bS = bO = ay(a4));\n\n        if ("fill-opacity" in bQ || "opacity" in bQ) {\n          var d = ((+bR["fill-opacity"] + 1 || 2) - 1) * ((+bR.opacity + 1 || 2) - 1) * ((+aI.getRGB(bQ.fill).o + 1 || 2) - 1);\n          d = bi(m(d, 0), 1);\n          bO.opacity = d;\n        }\n\n        bQ.fill && (bO.on = true);\n\n        if (bO.on == null || bQ.fill == "none") {\n          bO.on = false;\n        }\n\n        if (bO.on && bQ.fill) {\n          var e = bQ.fill.match(h);\n\n          if (e) {\n            bO.src = e[1];\n            bO.type = "tile";\n          } else {\n            bO.color = aI.getRGB(bQ.fill).hex;\n            bO.src = aP;\n            bO.type = "solid";\n\n            if (aI.getRGB(bQ.fill).error && (bV.type in {\n              circle: 1,\n              ellipse: 1\n            } || bC(bQ.fill).charAt() != "r") && g(bV, bQ.fill)) {\n              bR.fill = "none";\n              bR.gradient = bQ.fill;\n            }\n          }\n        }\n\n        bS && bN[bk](bO);\n        var E = bN.getElementsByTagName("stroke") && bN.getElementsByTagName("stroke")[0],\n            bT = false;\n        !E && (bT = E = ay("stroke"));\n\n        if (bQ.stroke && bQ.stroke != "none" || bQ["stroke-width"] || bQ["stroke-opacity"] != null || bQ["stroke-dasharray"] || bQ["stroke-miterlimit"] || bQ["stroke-linejoin"] || bQ["stroke-linecap"]) {\n          E.on = true;\n        }\n\n        (bQ.stroke == "none" || E.on == null || bQ.stroke == 0 || bQ["stroke-width"] == 0) && (E.on = false);\n        var bM = aI.getRGB(bQ.stroke);\n        E.on && bQ.stroke && (E.color = bM.hex);\n        d = ((+bR["stroke-opacity"] + 1 || 2) - 1) * ((+bR.opacity + 1 || 2) - 1) * ((+bM.o + 1 || 2) - 1);\n        var bK = (aj(bQ["stroke-width"]) || 1) * 0.75;\n        d = bi(m(d, 0), 1);\n        bQ["stroke-width"] == null && (bK = bR["stroke-width"]);\n        bQ["stroke-width"] && (E.weight = bK);\n        bK && bK < 1 && (d *= bK) && (E.weight = 1);\n        E.opacity = d;\n        bQ["stroke-linejoin"] && (E.joinstyle = bQ["stroke-linejoin"] || "miter");\n        E.miterlimit = bQ["stroke-miterlimit"] || 8;\n        bQ["stroke-linecap"] && (E.endcap = bQ["stroke-linecap"] == "butt" ? "flat" : bQ["stroke-linecap"] == "square" ? "square" : "round");\n\n        if (bQ["stroke-dasharray"]) {\n          var bL = {\n            "-": "shortdash",\n            ".": "shortdot",\n            "-.": "shortdashdot",\n            "-..": "shortdashdotdot",\n            ". ": "dot",\n            "- ": "dash",\n            "--": "longdash",\n            "- .": "dashdot",\n            "--.": "longdashdot",\n            "--..": "longdashdotdot"\n          };\n          E.dashstyle = bL[ag](bQ["stroke-dasharray"]) ? bL[bQ["stroke-dasharray"]] : aP;\n        }\n\n        bT && bN[bk](E);\n      }\n\n      if (bV.type == "text") {\n        S = bV.paper.span.style;\n        bR.font && (S.font = bR.font);\n        bR["font-family"] && (S.fontFamily = bR["font-family"]);\n        bR["font-size"] && (S.fontSize = bR["font-size"]);\n        bR["font-weight"] && (S.fontWeight = bR["font-weight"]);\n        bR["font-style"] && (S.fontStyle = bR["font-style"]);\n        bV.node.string && (bV.paper.span.innerHTML = bC(bV.node.string)[bs](/</g, "&#60;")[bs](/&/g, "&#38;")[bs](/\\n/g, "<br>"));\n        bV.W = bR.w = bV.paper.span.offsetWidth;\n        bV.H = bR.h = bV.paper.span.offsetHeight;\n        bV.X = bR.x;\n        bV.Y = bR.y + ad(bV.H / 2);\n\n        switch (bR["text-anchor"]) {\n          case "start":\n            bV.node.style["v-text-align"] = "left";\n            bV.bbx = ad(bV.W / 2);\n            break;\n\n          case "end":\n            bV.node.style["v-text-align"] = "right";\n            bV.bbx = -ad(bV.W / 2);\n            break;\n\n          default:\n            bV.node.style["v-text-align"] = "center";\n            break;\n        }\n      }\n    };\n\n    g = function g(b, bH) {\n      b.attrs = b.attrs || {};\n      var bI = b.attrs,\n          bK,\n          R = "linear",\n          S = ".5 .5";\n      b.attrs.gradient = bH;\n      bH = bC(bH)[bs](aO, function (bM, bN, i) {\n        R = "radial";\n\n        if (bN && i) {\n          bN = aj(bN);\n          i = aj(i);\n          bl(bN - 0.5, 2) + bl(i - 0.5, 2) > 0.25 && (i = ao.sqrt(0.25 - bl(bN - 0.5, 2)) * ((i > 0.5) * 2 - 1) + 0.5);\n          S = bN + aH + i;\n        }\n\n        return aP;\n      });\n      bH = bH[I](/\\s*\\-\\s*/);\n\n      if (R == "linear") {\n        var d = bH.shift();\n        d = -aj(d);\n\n        if (isNaN(d)) {\n          return null;\n        }\n      }\n\n      var E = w(bH);\n\n      if (!E) {\n        return null;\n      }\n\n      b = b.shape || b.node;\n      bK = b.getElementsByTagName(a4)[0] || ay(a4);\n      !bK.parentNode && b.appendChild(bK);\n\n      if (E[s]) {\n        bK.on = true;\n        bK.method = "none";\n        bK.color = E[0].color;\n        bK.color2 = E[E[s] - 1].color;\n        var bL = [];\n\n        for (var e = 0, bJ = E[s]; e < bJ; e++) {\n          E[e].offset && bL[k](E[e].offset + aH + E[e].color);\n        }\n\n        bK.colors && (bK.colors.value = bL[s] ? bL[aW]() : "0% " + bK.color);\n\n        if (R == "radial") {\n          bK.type = "gradientradial";\n          bK.focus = "100%";\n          bK.focussize = S;\n          bK.focusposition = S;\n        } else {\n          bK.type = "gradient";\n          bK.angle = (270 - d) % 360;\n        }\n      }\n\n      return 1;\n    };\n\n    aU = function aU(E, S, b) {\n      var R = 0,\n          e = 0,\n          d = 0,\n          i = 1;\n      this[0] = E;\n      this.id = aI._oid++;\n      this.node = E;\n      E.raphael = this;\n      this.X = 0;\n      this.Y = 0;\n      this.attrs = {};\n      this.Group = S;\n      this.paper = b;\n      this._ = {\n        tx: 0,\n        ty: 0,\n        rt: {\n          deg: 0\n        },\n        sx: 1,\n        sy: 1\n      };\n      !b.bottom && (b.bottom = this);\n      this.prev = b.top;\n      b.top && (b.top.next = this);\n      b.top = this;\n      this.next = null;\n    };\n\n    bc = aU[bE];\n\n    bc.rotate = function (d, b, e) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (d == null) {\n        if (this._.rt.cx) {\n          return [this._.rt.deg, this._.rt.cx, this._.rt.cy][aW](aH);\n        }\n\n        return this._.rt.deg;\n      }\n\n      d = bC(d)[I](a);\n\n      if (d[s] - 1) {\n        b = aj(d[1]);\n        e = aj(d[2]);\n      }\n\n      d = aj(d[0]);\n\n      if (b != null) {\n        this._.rt.deg = d;\n      } else {\n        this._.rt.deg += d;\n      }\n\n      e == null && (b = null);\n      this._.rt.cx = b;\n      this._.rt.cy = e;\n      this.setBox(this.attrs, b, e);\n      this.Group.style.rotation = this._.rt.deg;\n      return this;\n    };\n\n    bc.setBox = function (E, R, e) {\n      if (this.removed) {\n        return this;\n      }\n\n      var b = this.Group.style,\n          S = this.shape && this.shape.style || this.node.style;\n      E = E || {};\n\n      for (var bH in E) {\n        if (E[ag](bH)) {\n          this.attrs[bH] = E[bH];\n        }\n      }\n\n      R = R || this._.rt.cx;\n      e = e || this._.rt.cy;\n      var bK = this.attrs,\n          bN,\n          bM,\n          bO,\n          bJ;\n\n      switch (this.type) {\n        case "circle":\n          bN = bK.cx - bK.r;\n          bM = bK.cy - bK.r;\n          bO = bJ = bK.r * 2;\n          break;\n\n        case "ellipse":\n          bN = bK.cx - bK.rx;\n          bM = bK.cy - bK.ry;\n          bO = bK.rx * 2;\n          bJ = bK.ry * 2;\n          break;\n\n        case "image":\n          bN = +bK.x;\n          bM = +bK.y;\n          bO = bK.width || 0;\n          bJ = bK.height || 0;\n          break;\n\n        case "text":\n          this.textpath.v = ["m", ad(bK.x), ", ", ad(bK.y - 2), "l", ad(bK.x) + 1, ", ", ad(bK.y - 2)][aW](aP);\n          bN = bK.x - ad(this.W / 2);\n          bM = bK.y - this.H / 2;\n          bO = this.W;\n          bJ = this.H;\n          break;\n\n        case "rect":\n        case "path":\n          if (!this.attrs.path) {\n            bN = 0;\n            bM = 0;\n            bO = this.paper.width;\n            bJ = this.paper.height;\n          } else {\n            var bI = ai(this.attrs.path);\n            bN = bI.x;\n            bM = bI.y;\n            bO = bI.width;\n            bJ = bI.height;\n          }\n\n          break;\n\n        default:\n          bN = 0;\n          bM = 0;\n          bO = this.paper.width;\n          bJ = this.paper.height;\n          break;\n      }\n\n      R = R == null ? bN + bO / 2 : R;\n      e = e == null ? bM + bJ / 2 : e;\n      var d = R - this.paper.width / 2,\n          bL = e - this.paper.height / 2,\n          bP;\n      b.left != (bP = d + "px") && (b.left = bP);\n      b.top != (bP = bL + "px") && (b.top = bP);\n      this.X = t[ag](this.type) ? -d : bN;\n      this.Y = t[ag](this.type) ? -bL : bM;\n      this.W = bO;\n      this.H = bJ;\n\n      if (t[ag](this.type)) {\n        S.left != (bP = -d * u + "px") && (S.left = bP);\n        S.top != (bP = -bL * u + "px") && (S.top = bP);\n      } else {\n        if (this.type == "text") {\n          S.left != (bP = -d + "px") && (S.left = bP);\n          S.top != (bP = -bL + "px") && (S.top = bP);\n        } else {\n          b.width != (bP = this.paper.width + "px") && (b.width = bP);\n          b.height != (bP = this.paper.height + "px") && (b.height = bP);\n          S.left != (bP = bN - d + "px") && (S.left = bP);\n          S.top != (bP = bM - bL + "px") && (S.top = bP);\n          S.width != (bP = bO + "px") && (S.width = bP);\n          S.height != (bP = bJ + "px") && (S.height = bP);\n        }\n      }\n    };\n\n    bc.hide = function () {\n      !this.removed && (this.Group.style.display = "none");\n      return this;\n    };\n\n    bc.show = function () {\n      !this.removed && (this.Group.style.display = "block");\n      return this;\n    };\n\n    bc.getBBox = function () {\n      if (this.removed) {\n        return this;\n      }\n\n      if (t[ag](this.type)) {\n        return ai(this.attrs.path);\n      }\n\n      return {\n        x: this.X + (this.bbx || 0),\n        y: this.Y,\n        width: this.W,\n        height: this.H\n      };\n    };\n\n    bc.remove = function () {\n      if (this.removed) {\n        return;\n      }\n\n      aE(this, this.paper);\n      this.node.parentNode.removeChild(this.node);\n      this.Group.parentNode.removeChild(this.Group);\n      this.shape && this.shape.parentNode.removeChild(this.shape);\n\n      for (var b in this) {\n        delete this[b];\n      }\n\n      this.removed = true;\n    };\n\n    bc.attr = function (b, bH) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (b == null) {\n        var S = {};\n\n        for (var E in this.attrs) {\n          if (this.attrs[ag](E)) {\n            S[E] = this.attrs[E];\n          }\n        }\n\n        this._.rt.deg && (S.rotation = this.rotate());\n        (this._.sx != 1 || this._.sy != 1) && (S.scale = this.scale());\n        S.gradient && S.fill == "none" && (S.fill = S.gradient) && delete S.gradient;\n        return S;\n      }\n\n      if (bH == null && aI.is(b, "string")) {\n        if (b == "translation") {\n          return A.call(this);\n        }\n\n        if (b == "rotation") {\n          return this.rotate();\n        }\n\n        if (b == "scale") {\n          return this.scale();\n        }\n\n        if (b == a4 && this.attrs.fill == "none" && this.attrs.gradient) {\n          return this.attrs.gradient;\n        }\n\n        return this.attrs[b];\n      }\n\n      if (this.attrs && bH == null && aI.is(b, a7)) {\n        var bK,\n            bJ = {};\n\n        for (E = 0, bK = b[s]; E < bK; E++) {\n          bJ[b[E]] = this.attr(b[E]);\n        }\n\n        return bJ;\n      }\n\n      var d;\n\n      if (bH != null) {\n        d = {};\n        d[b] = bH;\n      }\n\n      bH == null && aI.is(b, "object") && (d = b);\n\n      if (d) {\n        for (var bI in this.paper.customAttributes) {\n          if (this.paper.customAttributes[ag](bI) && d[ag](bI) && aI.is(this.paper.customAttributes[bI], "function")) {\n            var R = this.paper.customAttributes[bI].apply(this, [][bw](d[bI]));\n            this.attrs[bI] = d[bI];\n\n            for (var e in R) {\n              if (R[ag](e)) {\n                d[e] = R[e];\n              }\n            }\n          }\n        }\n\n        if (d.text && this.type == "text") {\n          this.node.string = d.text;\n        }\n\n        an(this, d);\n\n        if (d.gradient && ({\n          circle: 1,\n          ellipse: 1\n        }[ag](this.type) || bC(d.gradient).charAt() != "r")) {\n          g(this, d.gradient);\n        }\n\n        (!t[ag](this.type) || this._.rt.deg) && this.setBox(this.attrs);\n      }\n\n      return this;\n    };\n\n    bc.toFront = function () {\n      !this.removed && this.Group.parentNode[bk](this.Group);\n      this.paper.top != this && al(this, this.paper);\n      return this;\n    };\n\n    bc.toBack = function () {\n      if (this.removed) {\n        return this;\n      }\n\n      if (this.Group.parentNode.firstChild != this.Group) {\n        this.Group.parentNode.insertBefore(this.Group, this.Group.parentNode.firstChild);\n        p(this, this.paper);\n      }\n\n      return this;\n    };\n\n    bc.insertAfter = function (b) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (b.constructor == ah) {\n        b = b[b.length - 1];\n      }\n\n      if (b.Group.nextSibling) {\n        b.Group.parentNode.insertBefore(this.Group, b.Group.nextSibling);\n      } else {\n        b.Group.parentNode[bk](this.Group);\n      }\n\n      J(this, b, this.paper);\n      return this;\n    };\n\n    bc.insertBefore = function (b) {\n      if (this.removed) {\n        return this;\n      }\n\n      if (b.constructor == ah) {\n        b = b[0];\n      }\n\n      b.Group.parentNode.insertBefore(this.Group, b.Group);\n      aL(this, b, this.paper);\n      return this;\n    };\n\n    bc.blur = function (b) {\n      var d = this.node.runtimeStyle,\n          e = d.filter;\n      e = e.replace(bx, aP);\n\n      if (+b !== 0) {\n        this.attrs.blur = b;\n        d.filter = e + aH + a5 + ".Blur(pixelradius=" + (+b || 1.5) + ")";\n        d.margin = aI.format("-{0}px 0 0 -{0}px", ad(+b || 1.5));\n      } else {\n        d.filter = e;\n        d.margin = 0;\n        delete this.attrs.blur;\n      }\n    };\n\n    ae = function ae(d, b, bH, R) {\n      var E = ay("group"),\n          S = ay("oval"),\n          e = S.style;\n      E.style.cssText = "position:absolute;left:0;top:0;width:" + d.width + "px;height:" + d.height + "px";\n      E.coordsize = aX;\n      E.coordorigin = d.coordorigin;\n      E[bk](S);\n      var i = new aU(S, E, d);\n      i.type = "circle";\n      an(i, {\n        stroke: "#000",\n        fill: "none"\n      });\n      i.attrs.cx = b;\n      i.attrs.cy = bH;\n      i.attrs.r = R;\n      i.setBox({\n        x: b - R,\n        y: bH - R,\n        width: R * 2,\n        height: R * 2\n      });\n      d.canvas[bk](E);\n      return i;\n    };\n\n    bb = function bb(d, S, E, bH, e, b) {\n      var bI = at(S, E, bH, e, b),\n          i = d.path(bI),\n          R = i.attrs;\n      i.X = R.x = S;\n      i.Y = R.y = E;\n      i.W = R.width = bH;\n      i.H = R.height = e;\n      R.r = b;\n      R.path = bI;\n      i.type = "rect";\n      return i;\n    };\n\n    az = function az(b, bI, bH, e, d) {\n      var E = ay("group"),\n          i = ay("oval"),\n          S = i.style;\n      E.style.cssText = "position:absolute;left:0;top:0;width:" + b.width + "px;height:" + b.height + "px";\n      E.coordsize = aX;\n      E.coordorigin = b.coordorigin;\n      E[bk](i);\n      var R = new aU(i, E, b);\n      R.type = "ellipse";\n      an(R, {\n        stroke: "#000"\n      });\n      R.attrs.cx = bI;\n      R.attrs.cy = bH;\n      R.attrs.rx = e;\n      R.attrs.ry = d;\n      R.setBox({\n        x: bI - e,\n        y: bH - d,\n        width: e * 2,\n        height: d * 2\n      });\n      b.canvas[bk](E);\n      return R;\n    };\n\n    v = function v(d, b, bH, S, bI, i) {\n      var E = ay("group"),\n          e = ay("image");\n      E.style.cssText = "position:absolute;left:0;top:0;width:" + d.width + "px;height:" + d.height + "px";\n      E.coordsize = aX;\n      E.coordorigin = d.coordorigin;\n      e.src = b;\n      E[bk](e);\n      var R = new aU(e, E, d);\n      R.type = "image";\n      R.attrs.src = b;\n      R.attrs.x = bH;\n      R.attrs.y = S;\n      R.attrs.w = bI;\n      R.attrs.h = i;\n      R.setBox({\n        x: bH,\n        y: S,\n        width: bI,\n        height: i\n      });\n      d.canvas[bk](E);\n      return R;\n    };\n\n    ak = function ak(d, bI, bH, bJ) {\n      var E = ay("group"),\n          i = ay("shape"),\n          S = i.style,\n          bK = ay("path"),\n          b = bK.style,\n          e = ay("textpath");\n      E.style.cssText = "position:absolute;left:0;top:0;width:" + d.width + "px;height:" + d.height + "px";\n      E.coordsize = aX;\n      E.coordorigin = d.coordorigin;\n      bK.v = aI.format("m{0},{1}l{2},{1}", ad(bI * 10), ad(bH * 10), ad(bI * 10) + 1);\n      bK.textpathok = true;\n      S.width = d.width;\n      S.height = d.height;\n      e.string = bC(bJ);\n      e.on = true;\n      i[bk](e);\n      i[bk](bK);\n      E[bk](i);\n      var R = new aU(e, E, d);\n      R.shape = i;\n      R.textpath = bK;\n      R.type = "text";\n      R.attrs.text = bJ;\n      R.attrs.x = bI;\n      R.attrs.y = bH;\n      R.attrs.w = 1;\n      R.attrs.h = 1;\n      an(R, {\n        font: q.font,\n        stroke: "none",\n        fill: "#000"\n      });\n      R.setBox();\n      d.canvas[bk](E);\n      return R;\n    };\n\n    bA = function bA(e, b) {\n      var d = this.canvas.style;\n      e == +e && (e += "px");\n      b == +b && (b += "px");\n      d.width = e;\n      d.height = b;\n      d.clip = "rect(0 " + e + " " + b + " 0)";\n      return this;\n    };\n\n    var ay;\n    aa.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");\n\n    try {\n      !aa.namespaces.rvml && aa.namespaces.add("rvml", "urn:schemas-microsoft-com:vml");\n\n      ay = function ay(b) {\n        return aa.createElement("<rvml:" + b + \' class="rvml">\');\n      };\n    } catch (aw) {\n      ay = function ay(b) {\n        return aa.createElement("<" + b + \' xmlns="urn:schemas-microsoft.com:vml" class="rvml">\');\n      };\n    }\n\n    F = function F() {\n      var e = aJ[bB](0, arguments),\n          b = e.container,\n          bK = e.height,\n          bM,\n          d = e.width,\n          bJ = e.x,\n          bI = e.y,\n          bL = e.cordSize,\n          E = e.cordOrigin,\n          i = e.vmlSize;\n\n      if (!b) {\n        throw new Error("VML container not found.");\n      }\n\n      var S = new bz(),\n          bH = S.canvas = aa.createElement("div"),\n          R = bH.style;\n      bJ = bJ || 0;\n      bI = bI || 0;\n      d = d || 512;\n      bK = bK || 342;\n      d == +d && (d += "px");\n      bK == +bK && (bK += "px");\n      S.width = 1000;\n      S.height = 1000;\n      S.coordsize = i;\n      S.coordorigin = "0 0";\n      S.span = aa.createElement("span");\n      S.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";\n      bH[bk](S.span);\n      R.cssText = aI.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", d, bK);\n\n      if (b == 1) {\n        aa.body[bk](bH);\n        R.left = bJ + "px";\n        R.top = bI + "px";\n        R.position = "absolute";\n      } else {\n        if (b.firstChild) {\n          b.insertBefore(bH, b.firstChild);\n        } else {\n          b[bk](bH);\n        }\n      }\n\n      be.call(S, S, aI.fn);\n      return S;\n    };\n\n    aZ.clear = function () {\n      this.canvas.innerHTML = aP;\n      this.span = aa.createElement("span");\n      this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";\n      this.canvas[bk](this.span);\n      this.bottom = this.top = null;\n    };\n\n    aZ.remove = function () {\n      this.canvas.parentNode.removeChild(this.canvas);\n\n      for (var b in this) {\n        this[b] = z(b);\n      }\n\n      return true;\n    };\n  }\n\n  var U = navigator.userAgent.match(/Version\\/(.*?)\\s/);\n\n  if (navigator.vendor == "Apple Computer, Inc." && (U && U[1] < 4 || navigator.platform.slice(0, 2) == "iP")) {\n    aZ.safari = function () {\n      var b = this.rect(-99, -99, this.width + 99, this.height + 99).attr({\n        stroke: "none"\n      });\n      aQ.setTimeout(function () {\n        b.remove();\n      });\n    };\n  } else {\n    aZ.safari = function () {};\n  }\n\n  var O = function O() {\n    this.returnValue = false;\n  },\n      bv = function bv() {\n    return this.originalEvent.preventDefault();\n  },\n      a3 = function a3() {\n    this.cancelBubble = true;\n  },\n      aD = function aD() {\n    return this.originalEvent.stopPropagation();\n  },\n      av = function () {\n    if (aa.addEventListener) {\n      return function (R, i, e, d) {\n        var b = W && bq[i] ? bq[i] : i;\n\n        var E = function E(bJ) {\n          if (W && bq[ag](i)) {\n            for (var bH = 0, bI = bJ.targetTouches && bJ.targetTouches.length; bH < bI; bH++) {\n              if (bJ.targetTouches[bH].target == R) {\n                var S = bJ;\n                bJ = bJ.targetTouches[bH];\n                bJ.originalEvent = S;\n                bJ.preventDefault = bv;\n                bJ.stopPropagation = aD;\n                break;\n              }\n            }\n          }\n\n          return e.call(d, bJ);\n        };\n\n        R.addEventListener(b, E, false);\n        return function () {\n          R.removeEventListener(b, E, false);\n          return true;\n        };\n      };\n    } else {\n      if (aa.attachEvent) {\n        return function (R, i, e, d) {\n          var E = function E(S) {\n            S = S || aQ.event;\n            S.preventDefault = S.preventDefault || O;\n            S.stopPropagation = S.stopPropagation || a3;\n            return e.call(d, S);\n          };\n\n          R.attachEvent("on" + i, E);\n\n          var b = function b() {\n            R.detachEvent("on" + i, E);\n            return true;\n          };\n\n          return b;\n        };\n      }\n    }\n  }(),\n      a8 = [],\n      br = function br(S) {\n    var bI = S.clientX,\n        bH = S.clientY,\n        bJ = aa.documentElement.scrollTop || aa.body.scrollTop,\n        bK = aa.documentElement.scrollLeft || aa.body.scrollLeft,\n        b,\n        d = a8.length;\n\n    while (d--) {\n      b = a8[d];\n\n      if (W) {\n        var R = S.touches.length,\n            E;\n\n        while (R--) {\n          E = S.touches[R];\n\n          if (E.identifier == b.el._drag.id) {\n            bI = E.clientX;\n            bH = E.clientY;\n            (S.originalEvent ? S.originalEvent : S).preventDefault();\n            break;\n          }\n        }\n      } else {\n        S.preventDefault();\n      }\n\n      bI += bK;\n      bH += bJ;\n      b.move && b.move.call(b.move_scope || b.el, bI - b.el._drag.x, bH - b.el._drag.y, bI, bH, S);\n    }\n  },\n      f = function f(E) {\n    aI.unmousemove(br).unmouseup(f);\n    var d = a8.length,\n        b;\n\n    while (d--) {\n      b = a8[d];\n      b.el._drag = {};\n      b.end && b.end.call(b.end_scope || b.start_scope || b.move_scope || b.el, E);\n    }\n\n    a8 = [];\n  };\n\n  for (var ar = Q[s]; ar--;) {\n    (function (b) {\n      aI[b] = aU[bE][b] = function (e, d) {\n        if (aI.is(e, "function")) {\n          this.events = this.events || [];\n          this.events.push({\n            name: b,\n            f: e,\n            unbind: av(this.shape || this.node || aa, b, e, d || this)\n          });\n        }\n\n        return this;\n      };\n\n      aI["un" + b] = aU[bE]["un" + b] = function (i) {\n        var e = this.events,\n            d = e[s];\n\n        while (d--) {\n          if (e[d].name == b && e[d].f == i) {\n            e[d].unbind();\n            e.splice(d, 1);\n            !e.length && delete this.events;\n            return this;\n          }\n        }\n\n        return this;\n      };\n    })(Q[ar]);\n  }\n\n  bc.hover = function (i, b, e, d) {\n    return this.mouseover(i, e).mouseout(b, d || e);\n  };\n\n  bc.unhover = function (d, b) {\n    return this.unmouseover(d).unmouseout(b);\n  };\n\n  bc.drag = function (d, R, E, b, e, i) {\n    this._drag = {};\n    this.mousedown(function (bH) {\n      (bH.originalEvent || bH).preventDefault();\n      var S = aa.documentElement.scrollTop || aa.body.scrollTop,\n          bI = aa.documentElement.scrollLeft || aa.body.scrollLeft;\n      this._drag.x = bH.clientX + bI;\n      this._drag.y = bH.clientY + S;\n      this._drag.id = bH.identifier;\n      R && R.call(e || b || this, bH.clientX + bI, bH.clientY + S, bH);\n      !a8.length && aI.mousemove(br).mouseup(f);\n      a8.push({\n        el: this,\n        move: d,\n        end: E,\n        move_scope: b,\n        start_scope: e,\n        end_scope: i\n      });\n    });\n    return this;\n  };\n\n  bc.undrag = function (b, E, e) {\n    var d = a8.length;\n\n    while (d--) {\n      a8[d].el == this && a8[d].move == b && a8[d].end == e && a8.splice(d++, 1);\n    }\n\n    !a8.length && aI.unmousemove(br).unmouseup(f);\n  };\n\n  aZ.circle = function (b, e, d) {\n    return ae(this, b || 0, e || 0, d || 0);\n  };\n\n  aZ.rect = function (b, E, d, e, i) {\n    return bb(this, b || 0, E || 0, d || 0, e || 0, i || 0);\n  };\n\n  aZ.ellipse = function (b, i, e, d) {\n    return az(this, b || 0, i || 0, e || 0, d || 0);\n  };\n\n  aZ.path = function (b, regionID) {\n    b && !aI.is(b, af) && !aI.is(b[0], a7) && (b += aP);\n    return x(aI.format[bB](aI, arguments), this, regionID);\n  };\n\n  aZ.image = function (i, b, E, d, e) {\n    return v(this, i || "about:blank", b || 0, E || 0, d || 0, e || 0);\n  };\n\n  aZ.text = function (b, e, d) {\n    return ak(this, b || 0, e || 0, bC(d));\n  };\n\n  aZ.set = function (b) {\n    arguments[s] > 1 && (b = Array[bE].splice.call(arguments, 0, arguments[s]));\n    return new ah(b);\n  };\n\n  aZ.setSize = bA;\n  aZ.top = aZ.bottom = null;\n  aZ.raphael = aI;\n\n  function C() {\n    return this.x + aH + this.y;\n  }\n\n  bc.resetScale = function () {\n    if (this.removed) {\n      return this;\n    }\n\n    this._.sx = 1;\n    this._.sy = 1;\n    this.attrs.scale = "1 1";\n  };\n\n  bc.scale = function (bZ, bY, bQ, bO) {\n    if (this.removed) {\n      return this;\n    }\n\n    if (bZ == null && bY == null) {\n      return {\n        x: this._.sx,\n        y: this._.sy,\n        toString: C\n      };\n    }\n\n    bY = bY || bZ;\n    !+bY && (bY = bZ);\n    var d,\n        b,\n        b7,\n        b6,\n        ca = this.attrs;\n\n    if (bZ != 0) {\n      var cb = this.getBBox(),\n          E = cb.x + cb.width / 2,\n          e = cb.y + cb.height / 2,\n          b4 = aq(bZ / this._.sx),\n          b3 = aq(bY / this._.sy);\n      bQ = +bQ || bQ == 0 ? bQ : E;\n      bO = +bO || bO == 0 ? bO : e;\n      var bJ = this._.sx > 0,\n          bI = this._.sy > 0,\n          bP = ~~(bZ / aq(bZ)),\n          bN = ~~(bY / aq(bY)),\n          S = b4 * bP,\n          R = b3 * bN,\n          b0 = this.node.style,\n          bX = bQ + aq(E - bQ) * S * (E > bQ == bJ ? 1 : -1),\n          bW = bO + aq(e - bO) * R * (e > bO == bI ? 1 : -1),\n          bT = bZ * bP > bY * bN ? b3 : b4;\n\n      switch (this.type) {\n        case "rect":\n        case "image":\n          var bL = ca.width * b4,\n              bU = ca.height * b3;\n          this.attr({\n            height: bU,\n            r: ca.r * bT,\n            width: bL,\n            x: bX - bL / 2,\n            y: bW - bU / 2\n          });\n          break;\n\n        case "circle":\n        case "ellipse":\n          this.attr({\n            rx: ca.rx * b4,\n            ry: ca.ry * b3,\n            r: ca.r * bT,\n            cx: bX,\n            cy: bW\n          });\n          break;\n\n        case "text":\n          this.attr({\n            x: bX,\n            y: bW\n          });\n          break;\n\n        case "path":\n          var b2 = au(ca.path),\n              bK = true,\n              bS = bJ ? S : b4,\n              bR = bI ? R : b3;\n\n          for (var b9 = 0, bV = b2[s]; b9 < bV; b9++) {\n            var b5 = b2[b9],\n                bM = bo.call(b5[0]);\n\n            if (bM == "M" && bK) {\n              continue;\n            } else {\n              bK = false;\n            }\n\n            if (bM == "A") {\n              b5[b2[b9][s] - 2] *= bS;\n              b5[b2[b9][s] - 1] *= bR;\n              b5[1] *= b4;\n              b5[2] *= b3;\n              b5[5] = +(bP + bN ? !!+b5[5] : !+b5[5]);\n            } else {\n              if (bM == "H") {\n                for (var b8 = 1, bH = b5[s]; b8 < bH; b8++) {\n                  b5[b8] *= bS;\n                }\n              } else {\n                if (bM == "V") {\n                  for (b8 = 1, bH = b5[s]; b8 < bH; b8++) {\n                    b5[b8] *= bR;\n                  }\n                } else {\n                  for (b8 = 1, bH = b5[s]; b8 < bH; b8++) {\n                    b5[b8] *= b8 % 2 ? bS : bR;\n                  }\n                }\n              }\n            }\n          }\n\n          var b1 = ai(b2);\n          d = bX - b1.x - b1.width / 2;\n          b = bW - b1.y - b1.height / 2;\n          b2[0][1] += d;\n          b2[0][2] += b;\n          this.attr({\n            path: b2\n          });\n          break;\n      }\n\n      if (this.type in {\n        text: 1,\n        image: 1\n      } && (bP != 1 || bN != 1)) {\n        if (this.transformations) {\n          this.transformations[2] = "scale("[bw](bP, ",", bN, ")");\n          this.node[D]("transform", this.transformations[aW](aH));\n          d = bP == -1 ? -ca.x - (bL || 0) : ca.x;\n          b = bN == -1 ? -ca.y - (bU || 0) : ca.y;\n          this.attr({\n            x: d,\n            y: b\n          });\n          ca.fx = bP - 1;\n          ca.fy = bN - 1;\n        } else {\n          this.node.filterMatrix = a5 + ".Matrix(M11="[bw](bP, ", M12=0, M21=0, M22=", bN, ", Dx=0, Dy=0, sizingmethod=\'auto expand\', filtertype=\'bilinear\')");\n          b0.filter = (this.node.filterMatrix || aP) + (this.node.filterOpacity || aP);\n        }\n      } else {\n        if (this.transformations) {\n          this.transformations[2] = aP;\n          this.node[D]("transform", this.transformations[aW](aH));\n          ca.fx = 0;\n          ca.fy = 0;\n        } else {\n          this.node.filterMatrix = aP;\n          b0.filter = (this.node.filterMatrix || aP) + (this.node.filterOpacity || aP);\n        }\n      }\n\n      ca.scale = [bZ, bY, bQ, bO][aW](aH);\n      this._.sx = bZ;\n      this._.sy = bY;\n    }\n\n    return this;\n  };\n\n  bc.clone = function () {\n    if (this.removed) {\n      return null;\n    }\n\n    var b = this.attr();\n    delete b.scale;\n    delete b.translation;\n    return this.paper[this.type]().attr(b);\n  };\n\n  var a2 = {},\n      l = function l(R, d, bJ, bI, bR, bQ, bP, bN, S) {\n    var bM = 0,\n        bL = 100,\n        E = [R, d, bJ, bI, bR, bQ, bP, bN].join(),\n        b = a2[E],\n        bH,\n        e;\n    !b && (a2[E] = b = {\n      data: []\n    });\n    b.timer && clearTimeout(b.timer);\n    b.timer = setTimeout(function () {\n      delete a2[E];\n    }, 2000);\n\n    if (S != null) {\n      var bO = l(R, d, bJ, bI, bR, bQ, bP, bN);\n      bL = ~~bO * 10;\n    }\n\n    for (var bK = 0; bK < bL + 1; bK++) {\n      if (b.data[S] > bK) {\n        e = b.data[bK * bL];\n      } else {\n        e = aI.findDotsAtSegment(R, d, bJ, bI, bR, bQ, bP, bN, bK / bL);\n        b.data[bK] = e;\n      }\n\n      bK && (bM += bl(bl(bH.x - e.x, 2) + bl(bH.y - e.y, 2), 0.5));\n\n      if (S != null && bM >= S) {\n        return e;\n      }\n\n      bH = e;\n    }\n\n    if (S == null) {\n      return bM;\n    }\n  },\n      a1 = function a1(b, d) {\n    return function (bP, R, S) {\n      bP = V(bP);\n      var bL,\n          bK,\n          e,\n          bH,\n          E = "",\n          bO = {},\n          bM,\n          bJ = 0;\n\n      for (var bI = 0, bN = bP.length; bI < bN; bI++) {\n        e = bP[bI];\n\n        if (e[0] == "M") {\n          bL = +e[1];\n          bK = +e[2];\n        } else {\n          bH = l(bL, bK, e[1], e[2], e[3], e[4], e[5], e[6]);\n\n          if (bJ + bH > R) {\n            if (d && !bO.start) {\n              bM = l(bL, bK, e[1], e[2], e[3], e[4], e[5], e[6], R - bJ);\n              E += ["C", bM.start.x, bM.start.y, bM.m.x, bM.m.y, bM.x, bM.y];\n\n              if (S) {\n                return E;\n              }\n\n              bO.start = E;\n              E = ["M", bM.x, bM.y + "C", bM.n.x, bM.n.y, bM.end.x, bM.end.y, e[5], e[6]][aW]();\n              bJ += bH;\n              bL = +e[5];\n              bK = +e[6];\n              continue;\n            }\n\n            if (!b && !d) {\n              bM = l(bL, bK, e[1], e[2], e[3], e[4], e[5], e[6], R - bJ);\n              return {\n                x: bM.x,\n                y: bM.y,\n                alpha: bM.alpha\n              };\n            }\n          }\n\n          bJ += bH;\n          bL = +e[5];\n          bK = +e[6];\n        }\n\n        E += e;\n      }\n\n      bO.end = E;\n      bM = b ? bJ : d ? bO : aI.findDotsAtSegment(bL, bK, e[1], e[2], e[3], e[4], e[5], e[6], 1);\n      bM.alpha && (bM = {\n        x: bM.x,\n        y: bM.y,\n        alpha: bM.alpha\n      });\n      return bM;\n    };\n  };\n\n  var aK = a1(1),\n      L = a1(),\n      Y = a1(0, 1);\n\n  bc.getTotalLength = function () {\n    if (this.type != "path") {\n      return;\n    }\n\n    if (this.node.getTotalLength) {\n      return this.node.getTotalLength();\n    }\n\n    return aK(this.attrs.path);\n  };\n\n  bc.getPointAtLength = function (b) {\n    if (this.type != "path") {\n      return;\n    }\n\n    return L(this.attrs.path, b);\n  };\n\n  bc.getSubpath = function (e, d) {\n    if (this.type != "path") {\n      return;\n    }\n\n    if (aq(this.getTotalLength() - d) < "1e-6") {\n      return Y(this.attrs.path, e).end;\n    }\n\n    var b = Y(this.attrs.path, d, 1);\n    return e ? Y(b, e).end : b;\n  };\n\n  aI.easing_formulas = {\n    linear: function linear(b) {\n      return b;\n    },\n    "<": function _(b) {\n      return bl(b, 3);\n    },\n    ">": function _(b) {\n      return bl(b - 1, 3) + 1;\n    },\n    "<>": function _(b) {\n      b = b * 2;\n\n      if (b < 1) {\n        return bl(b, 3) / 2;\n      }\n\n      b -= 2;\n      return (bl(b, 3) + 2) / 2;\n    },\n    backIn: function backIn(d) {\n      var b = 1.70158;\n      return d * d * ((b + 1) * d - b);\n    },\n    backOut: function backOut(d) {\n      d = d - 1;\n      var b = 1.70158;\n      return d * d * ((b + 1) * d + b) + 1;\n    },\n    elastic: function elastic(e) {\n      if (e == 0 || e == 1) {\n        return e;\n      }\n\n      var d = 0.3,\n          b = d / 4;\n      return bl(2, -10 * e) * ao.sin((e - b) * (2 * aM) / d) + 1;\n    },\n    bounce: function bounce(i) {\n      var d = 7.5625,\n          e = 2.75,\n          b;\n\n      if (i < 1 / e) {\n        b = d * i * i;\n      } else {\n        if (i < 2 / e) {\n          i -= 1.5 / e;\n          b = d * i * i + 0.75;\n        } else {\n          if (i < 2.5 / e) {\n            i -= 2.25 / e;\n            b = d * i * i + 0.9375;\n          } else {\n            i -= 2.625 / e;\n            b = d * i * i + 0.984375;\n          }\n        }\n      }\n\n      return b;\n    }\n  };\n\n  var X = [],\n      bu = function bu() {\n    var bI = +new Date();\n\n    for (var bT = 0; bT < X[s]; bT++) {\n      var bY = X[bT];\n\n      if (bY.stop || bY.el.removed) {\n        continue;\n      }\n\n      var R = bI - bY.start,\n          bQ = bY.ms,\n          bP = bY.easing,\n          bU = bY.from,\n          bN = bY.diff,\n          d = bY.to,\n          bM = bY.t,\n          bH = bY.el,\n          bO = {},\n          b;\n\n      if (R < bQ) {\n        var E = bP(R / bQ);\n\n        for (var bR in bU) {\n          if (bU[ag](bR)) {\n            switch (am[bR]) {\n              case "along":\n                b = E * bQ * bN[bR];\n                d.back && (b = d.len - b);\n                var bS = L(d[bR], b);\n                bH.translate(bN.sx - bN.x || 0, bN.sy - bN.y || 0);\n                bN.x = bS.x;\n                bN.y = bS.y;\n                bH.translate(bS.x - bN.sx, bS.y - bN.sy);\n                d.rot && bH.rotate(bN.r + bS.alpha, bS.x, bS.y);\n                break;\n\n              case aF:\n                b = +bU[bR] + E * bQ * bN[bR];\n                break;\n\n              case "colour":\n                b = "rgb(" + [K(ad(bU[bR].r + E * bQ * bN[bR].r)), K(ad(bU[bR].g + E * bQ * bN[bR].g)), K(ad(bU[bR].b + E * bQ * bN[bR].b))][aW](",") + ")";\n                break;\n\n              case "path":\n                b = [];\n\n                for (var bW = 0, bL = bU[bR][s]; bW < bL; bW++) {\n                  b[bW] = [bU[bR][bW][0]];\n\n                  for (var bV = 1, bX = bU[bR][bW][s]; bV < bX; bV++) {\n                    b[bW][bV] = +bU[bR][bW][bV] + E * bQ * bN[bR][bW][bV];\n                  }\n\n                  b[bW] = b[bW][aW](aH);\n                }\n\n                b = b[aW](aH);\n                break;\n\n              case "csv":\n                switch (bR) {\n                  case "translation":\n                    var bK = E * bQ * bN[bR][0] - bM.x,\n                        bJ = E * bQ * bN[bR][1] - bM.y;\n                    bM.x += bK;\n                    bM.y += bJ;\n                    b = bK + aH + bJ;\n                    break;\n\n                  case "rotation":\n                    b = +bU[bR][0] + E * bQ * bN[bR][0];\n                    bU[bR][1] && (b += "," + bU[bR][1] + "," + bU[bR][2]);\n                    break;\n\n                  case "scale":\n                    b = [+bU[bR][0] + E * bQ * bN[bR][0], +bU[bR][1] + E * bQ * bN[bR][1], 2 in d[bR] ? d[bR][2] : aP, 3 in d[bR] ? d[bR][3] : aP][aW](aH);\n                    break;\n\n                  case "clip-rect":\n                    b = [];\n                    bW = 4;\n\n                    while (bW--) {\n                      b[bW] = +bU[bR][bW] + E * bQ * bN[bR][bW];\n                    }\n\n                    break;\n                }\n\n                break;\n\n              default:\n                var S = [].concat(bU[bR]);\n                b = [];\n                bW = bH.paper.customAttributes[bR].length;\n\n                while (bW--) {\n                  b[bW] = +S[bW] + E * bQ * bN[bR][bW];\n                }\n\n                break;\n            }\n\n            bO[bR] = b;\n          }\n        }\n\n        bH.attr(bO);\n        bH._run && bH._run.call(bH);\n      } else {\n        if (d.along) {\n          bS = L(d.along, d.len * !d.back);\n          bH.translate(bN.sx - (bN.x || 0) + bS.x - bN.sx, bN.sy - (bN.y || 0) + bS.y - bN.sy);\n          d.rot && bH.rotate(bN.r + bS.alpha, bS.x, bS.y);\n        }\n\n        (bM.x || bM.y) && bH.translate(-bM.x, -bM.y);\n        d.scale && (d.scale += aP);\n        bH.attr(d);\n        X.splice(bT--, 1);\n      }\n    }\n\n    aI.svg && bH && bH.paper && bH.paper.safari();\n    X[s] && setTimeout(bu);\n  },\n      by = function by(b, e, R, E, i) {\n    var d = R - E;\n    e.timeouts.push(setTimeout(function () {\n      aI.is(i, "function") && i.call(e);\n      e.animate(b, d, b.easing);\n    }, E));\n  },\n      K = function K(b) {\n    return m(bi(b, 255), 0);\n  },\n      A = function A(b, e) {\n    if (b == null) {\n      return {\n        x: this._.tx,\n        y: this._.ty,\n        toString: C\n      };\n    }\n\n    this._.tx += +b;\n    this._.ty += +e;\n\n    switch (this.type) {\n      case "circle":\n      case "ellipse":\n        this.attr({\n          cx: +b + this.attrs.cx,\n          cy: +e + this.attrs.cy\n        });\n        break;\n\n      case "rect":\n      case "image":\n      case "text":\n        this.attr({\n          x: +b + this.attrs.x,\n          y: +e + this.attrs.y\n        });\n        break;\n\n      case "path":\n        var d = au(this.attrs.path);\n        d[0][1] += +b;\n        d[0][2] += +e;\n        this.attr({\n          path: d\n        });\n        break;\n    }\n\n    return this;\n  };\n\n  bc.animateWith = function (e, R, b, bH, S) {\n    for (var d = 0, E = X.length; d < E; d++) {\n      if (X[d].el.id == e.id) {\n        R.start = X[d].start;\n      }\n    }\n\n    return this.animate(R, b, bH, S);\n  };\n\n  bc.animateAlong = aV();\n  bc.animateAlongBack = aV(1);\n\n  function aV(b) {\n    return function (i, e, d, R) {\n      var E = {\n        back: b\n      };\n      aI.is(d, "function") ? R = d : E.rot = d;\n      i && i.constructor == aU && (i = i.attrs.path);\n      i && (E.along = i);\n      return this.animate(E, e, R);\n    };\n  }\n\n  function aY(bN, i, d, bM, bL, bH) {\n    var bI = 3 * i,\n        bK = 3 * (bM - i) - bI,\n        b = 1 - bI - bK,\n        S = 3 * d,\n        bJ = 3 * (bL - d) - S,\n        bO = 1 - S - bJ;\n\n    function R(bP) {\n      return ((b * bP + bK) * bP + bI) * bP;\n    }\n\n    function e(bP, bR) {\n      var bQ = E(bP, bR);\n      return ((bO * bQ + bJ) * bQ + S) * bQ;\n    }\n\n    function E(bP, bW) {\n      var bV, bU, bS, bQ, bT, bR;\n\n      for (bS = bP, bR = 0; bR < 8; bR++) {\n        bQ = R(bS) - bP;\n\n        if (aq(bQ) < bW) {\n          return bS;\n        }\n\n        bT = (3 * b * bS + 2 * bK) * bS + bI;\n\n        if (aq(bT) < 0.000001) {\n          break;\n        }\n\n        bS = bS - bQ / bT;\n      }\n\n      bV = 0;\n      bU = 1;\n      bS = bP;\n\n      if (bS < bV) {\n        return bV;\n      }\n\n      if (bS > bU) {\n        return bU;\n      }\n\n      while (bV < bU) {\n        bQ = R(bS);\n\n        if (aq(bQ - bP) < bW) {\n          return bS;\n        }\n\n        if (bP > bQ) {\n          bV = bS;\n        } else {\n          bU = bS;\n        }\n\n        bS = (bU - bV) / 2 + bV;\n      }\n\n      return bS;\n    }\n\n    return e(bN, 1 / (200 * bH));\n  }\n\n  bc.onAnimation = function (b) {\n    this._run = b || 0;\n    return this;\n  };\n\n  bc.animate = function (b0, bQ, bP, R) {\n    var d = this;\n    d.timeouts = d.timeouts || [];\n\n    if (aI.is(bP, "function") || !bP) {\n      R = bP || null;\n    }\n\n    if (d.removed) {\n      R && R.call(d);\n      return d;\n    }\n\n    var bU = {},\n        e = {},\n        S = false,\n        bL = {};\n\n    for (var bR in b0) {\n      if (b0[ag](bR)) {\n        if (am[ag](bR) || d.paper.customAttributes[ag](bR)) {\n          S = true;\n          bU[bR] = d.attr(bR);\n          bU[bR] == null && (bU[bR] = q[bR]);\n          e[bR] = b0[bR];\n\n          switch (am[bR]) {\n            case "along":\n              var bY = aK(b0[bR]);\n              var bS = L(b0[bR], bY * !!b0.back);\n              var bH = d.getBBox();\n              bL[bR] = bY / bQ;\n              bL.tx = bH.x;\n              bL.ty = bH.y;\n              bL.sx = bS.x;\n              bL.sy = bS.y;\n              e.rot = b0.rot;\n              e.back = b0.back;\n              e.len = bY;\n              b0.rot && (bL.r = aj(d.rotate()) || 0);\n              break;\n\n            case aF:\n              bL[bR] = (e[bR] - bU[bR]) / bQ;\n              break;\n\n            case "colour":\n              bU[bR] = aI.getRGB(bU[bR]);\n              var bT = aI.getRGB(e[bR]);\n              bL[bR] = {\n                r: (bT.r - bU[bR].r) / bQ,\n                g: (bT.g - bU[bR].g) / bQ,\n                b: (bT.b - bU[bR].b) / bQ\n              };\n              break;\n\n            case "path":\n              var bI = V(bU[bR], e[bR]);\n              bU[bR] = bI[0];\n              var bN = bI[1];\n              bL[bR] = [];\n\n              for (var bX = 0, bK = bU[bR][s]; bX < bK; bX++) {\n                bL[bR][bX] = [0];\n\n                for (var bW = 1, bZ = bU[bR][bX][s]; bW < bZ; bW++) {\n                  bL[bR][bX][bW] = (bN[bX][bW] - bU[bR][bX][bW]) / bQ;\n                }\n              }\n\n              break;\n\n            case "csv":\n              var b = bC(b0[bR])[I](a),\n                  bJ = bC(bU[bR])[I](a);\n\n              switch (bR) {\n                case "translation":\n                  bU[bR] = [0, 0];\n                  bL[bR] = [b[0] / bQ, b[1] / bQ];\n                  break;\n\n                case "rotation":\n                  bU[bR] = bJ[1] == b[1] && bJ[2] == b[2] ? bJ : [0, b[1], b[2]];\n                  bL[bR] = [(b[0] - bU[bR][0]) / bQ, 0, 0];\n                  break;\n\n                case "scale":\n                  b0[bR] = b;\n                  bU[bR] = bC(bU[bR])[I](a);\n                  bL[bR] = [(b[0] - bU[bR][0]) / bQ, (b[1] - bU[bR][1]) / bQ, 0, 0];\n                  break;\n\n                case "clip-rect":\n                  bU[bR] = bC(bU[bR])[I](a);\n                  bL[bR] = [];\n                  bX = 4;\n\n                  while (bX--) {\n                    bL[bR][bX] = (b[bX] - bU[bR][bX]) / bQ;\n                  }\n\n                  break;\n              }\n\n              e[bR] = b;\n              break;\n\n            default:\n              b = [].concat(b0[bR]);\n              bJ = [].concat(bU[bR]);\n              bL[bR] = [];\n              bX = d.paper.customAttributes[bR][s];\n\n              while (bX--) {\n                bL[bR][bX] = ((b[bX] || 0) - (bJ[bX] || 0)) / bQ;\n              }\n\n              break;\n          }\n        }\n      }\n    }\n\n    if (!S) {\n      var bO = [],\n          E;\n\n      for (var b1 in b0) {\n        if (b0[ag](b1) && bf.test(b1)) {\n          bR = {\n            value: b0[b1]\n          };\n          b1 == "from" && (b1 = 0);\n          b1 == "to" && (b1 = 100);\n          bR.key = T(b1, 10);\n          bO.push(bR);\n        }\n      }\n\n      bO.sort(bm);\n\n      if (bO[0].key) {\n        bO.unshift({\n          key: 0,\n          value: d.attrs\n        });\n      }\n\n      for (bX = 0, bK = bO[s]; bX < bK; bX++) {\n        by(bO[bX].value, d, bQ / 100 * bO[bX].key, bQ / 100 * (bO[bX - 1] && bO[bX - 1].key || 0), bO[bX - 1] && bO[bX - 1].value.callback);\n      }\n\n      E = bO[bO[s] - 1].value.callback;\n\n      if (E) {\n        d.timeouts.push(setTimeout(function () {\n          E.call(d);\n        }, bQ));\n      }\n    } else {\n      var bV = aI.easing_formulas[bP];\n\n      if (!bV) {\n        bV = bC(bP).match(c);\n\n        if (bV && bV[s] == 5) {\n          var bM = bV;\n\n          bV = function bV(i) {\n            return aY(i, +bM[1], +bM[2], +bM[3], +bM[4], bQ);\n          };\n        } else {\n          bV = function bV(i) {\n            return i;\n          };\n        }\n      }\n\n      X.push({\n        start: b0.start || +new Date(),\n        ms: bQ,\n        easing: bV,\n        from: bU,\n        diff: bL,\n        to: e,\n        el: d,\n        t: {\n          x: 0,\n          y: 0\n        }\n      });\n      aI.is(R, "function") && (d._ac = setTimeout(function () {\n        R.call(d);\n      }, bQ));\n      X[s] == 1 && setTimeout(bu);\n    }\n\n    return this;\n  };\n\n  bc.stop = function () {\n    for (var b = 0; b < X.length; b++) {\n      X[b].el.id == this.id && X.splice(b--, 1);\n    }\n\n    for (b = 0, ii = this.timeouts && this.timeouts.length; b < ii; b++) {\n      clearTimeout(this.timeouts[b]);\n    }\n\n    this.timeouts = [];\n    clearTimeout(this._ac);\n    delete this._ac;\n    return this;\n  };\n\n  bc.translate = function (b, d) {\n    return this.attr({\n      translation: b + " " + d\n    });\n  };\n\n  bc[a0] = function () {\n    return "Rapha\\xEBl\\u2019s object";\n  };\n\n  aI.ae = X;\n\n  var ah = function ah(b) {\n    this.items = [];\n    this[s] = 0;\n    this.type = "set";\n\n    if (b) {\n      for (var d = 0, e = b[s]; d < e; d++) {\n        if (b[d] && (b[d].constructor == aU || b[d].constructor == ah)) {\n          this[this.items[s]] = this.items[this.items[s]] = b[d];\n          this[s]++;\n        }\n      }\n    }\n  };\n\n  ah[bE][k] = function () {\n    var E, b;\n\n    for (var d = 0, e = arguments[s]; d < e; d++) {\n      E = arguments[d];\n\n      if (E && (E.constructor == aU || E.constructor == ah)) {\n        b = this.items[s];\n        this[b] = this.items[b] = E;\n        this[s]++;\n      }\n    }\n\n    return this;\n  };\n\n  ah[bE].pop = function () {\n    delete this[this[s]--];\n    return this.items.pop();\n  };\n\n  for (var H in bc) {\n    if (bc[ag](H)) {\n      ah[bE][H] = function (b) {\n        return function () {\n          for (var d = 0, e = this.items[s]; d < e; d++) {\n            this.items[d][b][bB](this.items[d], arguments);\n          }\n\n          return this;\n        };\n      }(H);\n    }\n  }\n\n  ah[bE].attr = function (d, S) {\n    if (d && aI.is(d, a7) && aI.is(d[0], "object")) {\n      for (var b = 0, R = d[s]; b < R; b++) {\n        this.items[b].attr(d[b]);\n      }\n    } else {\n      for (var e = 0, E = this.items[s]; e < E; e++) {\n        this.items[e].attr(d, S);\n      }\n    }\n\n    return this;\n  };\n\n  ah[bE].animate = function (d, b, S, bI) {\n    (aI.is(S, "function") || !S) && (bI = S || null);\n    var R = this.items[s],\n        e = R,\n        bJ,\n        bH = this,\n        E;\n    bI && (E = function E() {\n      ! --R && bI.call(bH);\n    });\n    S = aI.is(S, af) ? S : E;\n    bJ = this.items[--e].animate(d, b, S, E);\n\n    while (e--) {\n      this.items[e] && !this.items[e].removed && this.items[e].animateWith(bJ, d, b, S, E);\n    }\n\n    return this;\n  };\n\n  ah[bE].insertAfter = function (d) {\n    var b = this.items[s];\n\n    while (b--) {\n      this.items[b].insertAfter(d);\n    }\n\n    return this;\n  };\n\n  ah[bE].getBBox = function () {\n    var b = [],\n        S = [],\n        d = [],\n        E = [];\n\n    for (var e = this.items[s]; e--;) {\n      var R = this.items[e].getBBox();\n      b[k](R.x);\n      S[k](R.y);\n      d[k](R.x + R.width);\n      E[k](R.y + R.height);\n    }\n\n    b = bi[bB](0, b);\n    S = bi[bB](0, S);\n    return {\n      x: b,\n      y: S,\n      width: m[bB](0, d) - b,\n      height: m[bB](0, E) - S\n    };\n  };\n\n  ah[bE].clone = function (e) {\n    e = new ah();\n\n    for (var b = 0, d = this.items[s]; b < d; b++) {\n      e[k](this.items[b].clone());\n    }\n\n    return e;\n  };\n\n  aI.registerFont = function (d) {\n    if (!d.face) {\n      return d;\n    }\n\n    this.fonts = this.fonts || {};\n    var i = {\n      w: d.w,\n      face: {},\n      glyphs: {}\n    },\n        e = d.face["font-family"];\n\n    for (var S in d.face) {\n      if (d.face[ag](S)) {\n        i.face[S] = d.face[S];\n      }\n    }\n\n    if (this.fonts[e]) {\n      this.fonts[e][k](i);\n    } else {\n      this.fonts[e] = [i];\n    }\n\n    if (!d.svg) {\n      i.face["units-per-em"] = T(d.face["units-per-em"], 10);\n\n      for (var E in d.glyphs) {\n        if (d.glyphs[ag](E)) {\n          var R = d.glyphs[E];\n          i.glyphs[E] = {\n            w: R.w,\n            k: {},\n            d: R.d && "M" + R.d[bs](/[mlcxtrv]/g, function (bH) {\n              return {\n                l: "L",\n                c: "C",\n                x: "z",\n                t: "m",\n                r: "l",\n                v: "c"\n              }[bH] || "M";\n            }) + "z"\n          };\n\n          if (R.k) {\n            for (var b in R.k) {\n              if (R[ag](b)) {\n                i.glyphs[E].k[b] = R.k[b];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return d;\n  };\n\n  aZ.getFont = function (bI, bJ, d, E) {\n    E = E || "normal";\n    d = d || "normal";\n    bJ = +bJ || {\n      normal: 400,\n      bold: 700,\n      lighter: 300,\n      bolder: 800\n    }[bJ] || 400;\n\n    if (!aI.fonts) {\n      return;\n    }\n\n    var R = aI.fonts[bI];\n\n    if (!R) {\n      var e = new RegExp("(^|\\\\s)" + bI[bs](/[^\\w\\d\\s+!~.:_-]/g, aP) + "(\\\\s|$)", "i");\n\n      for (var b in aI.fonts) {\n        if (aI.fonts[ag](b)) {\n          if (e.test(b)) {\n            R = aI.fonts[b];\n            break;\n          }\n        }\n      }\n    }\n\n    var S;\n\n    if (R) {\n      for (var bH = 0, bK = R[s]; bH < bK; bH++) {\n        S = R[bH];\n\n        if (S.face["font-weight"] == bJ && (S.face["font-style"] == d || !S.face["font-style"]) && S.face["font-stretch"] == E) {\n          break;\n        }\n      }\n    }\n\n    return S;\n  };\n\n  aZ.print = function (R, E, b, bI, bJ, bS, d) {\n    bS = bS || "middle";\n    d = m(bi(d || 0, 1), -1);\n    var bO = this.set(),\n        bR = bC(b)[I](aP),\n        bP = 0,\n        bM = aP,\n        bT;\n    aI.is(bI, b) && (bI = this.getFont(bI));\n\n    if (bI) {\n      bT = (bJ || 16) / bI.face["units-per-em"];\n      var e = bI.face.bbox.split(a),\n          bH = +e[0],\n          bK = +e[1] + (bS == "baseline" ? e[3] - e[1] + +bI.face.descent : (e[3] - e[1]) / 2);\n\n      for (var bN = 0, S = bR[s]; bN < S; bN++) {\n        var bL = bN && bI.glyphs[bR[bN - 1]] || {},\n            bQ = bI.glyphs[bR[bN]];\n        bP += bN ? (bL.w || bI.w) + (bL.k && bL.k[bR[bN]] || 0) + bI.w * d : 0;\n        bQ && bQ.d && bO[k](this.path(bQ.d).attr({\n          fill: "#000",\n          stroke: "none",\n          translation: [bP, 0]\n        }));\n      }\n\n      bO.scale(bT, bT, bH, bK).translate(R - bH, E - bK);\n    }\n\n    return bO;\n  };\n\n  aI.format = function (d, e) {\n    var b = aI.is(e, a7) ? [0][bw](e) : arguments;\n    d && aI.is(d, af) && b[s] - 1 && (d = d[bs](bn, function (R, E) {\n      return b[++E] == null ? aP : b[E];\n    }));\n    return d || aP;\n  };\n\n  aI.ninja = function () {\n    r.was ? aQ.Raphael = r.is : Raphael = null;\n    return aI;\n  };\n\n  aI.el = bc;\n  aI.st = ah[bE];\n  console.log(r);\n  console.log(aQ);\n  r.was ? aQ.Raphael = aI : Raphael = aI;\n})();\n\nvar restoreCoordinates = function restoreCoordinates(regions) {\n  var joinCoordinates = function joinCoordinates(coord) {\n    coord.forEach(function (cord, index, ar) {\n      // console.log(cord.join(","));\n      ar[index] = cord.join(",");\n    });\n    return coord;\n  };\n\n  regions.forEach(function (currentRegion, i) {\n    if (currentRegion.paths.length) {\n      currentRegion.paths = joinCoordinates(currentRegion.paths);\n    }\n\n    if (currentRegion.polygons.length) {\n      currentRegion.polygons = joinCoordinates(currentRegion.polygons);\n    }\n  });\n  return regions;\n};\n\nfunction RussianMap(options, regions) {\n  var arrayRegions = restoreCoordinates(regions); // console.log(arrayRegions);\n  // дефолтовые атрибуты для контуров регионов\n\n  var defaultAttr = options.defaultAttr || {\n    fill: \'#d8d8d8\',\n    // цвет которым закрашивать\n    stroke: \'#ffffff\',\n    // цвет границы\n    \'stroke-width\': 1,\n    // ширина границы\n    \'stroke-linejoin\': \'round\' // скруглять углы\n\n  };\n  var mapId = options.mapId;\n  var width = options.width;\n  var height = options.height;\n  var viewPort = options.viewPort || \'0 0 1134 620\';\n  var viewSize = options.viewSize || \'700 700\'; // канва для рисования регионов\n\n  var R = Raphael(mapId, width, height, viewPort, viewSize);\n\n  var renderRegion = function renderRegion(region) {\n    // прорисовка многоугольников\n    var regionAttr = Object.assign({}, defaultAttr);\n    regionAttr.fill = region.colorMap;\n\n    if (region.paths !== undefined) {\n      for (var p in region.paths) {\n        //console.log(R);\n        var path = R.path(region.paths[p], region.ident).attr(regionAttr);\n        path.region = region; // path.mouseover(onMouseMove);\n        // path.mouseout(onMouseOut);\n        // path.click(onMouseClick);\n\n        region.paths[p] = path;\n      }\n    } // прорисовка полигнов: также через тег path, только конечная точка соединяется с начальной\n\n\n    if (region.polygons !== undefined) {\n      for (var p in region.polygons) {\n        var polygon = R.path(\'M\' + region.polygons[p], region.ident).attr(regionAttr);\n        polygon.region = region; // polygon.mouseover(onMouseMove);\n        // polygon.mouseout(onMouseOut);\n        // polygon.click(onMouseClick);\n\n        region.polygons[p] = polygon;\n      }\n    }\n  };\n\n  for (var i in arrayRegions) {\n    renderRegion(arrayRegions[i]);\n  }\n\n  this.regions = arrayRegions;\n}\n;\n;// CONCATENATED MODULE: ./frontend/src/scripts/views/mapView.js\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n // helper function to transform data\n\nvar getRegionsArray = function getRegionsArray(rawRegions) {\n  var regionsArray = [];\n\n  for (var regionId in rawRegions) {\n    if (regionId !== "overallInfo") {\n      regionsArray.push(rawRegions[regionId]);\n    }\n  }\n\n  return regionsArray;\n}; //helper functions that do some subtle changes in the DOM\n\n\nvar getRegionRowMarkup = function getRegionRowMarkup(_ref) {\n  var ident = _ref.ident,\n      name = _ref.name,\n      salary = _ref.salary,\n      employed = _ref.employed,\n      lockdownCost = _ref.lockdownCost;\n  return "<div class=\\"tr\\" id=\\"".concat(ident, "\\">\\n    <div class=\\"td\\">").concat(name, "</div>\\n    <div class=\\"td\\">").concat(salary, "</div>\\n    <div class=\\"td\\">").concat(employed, "</div>\\n    <div class=\\"td\\">").concat(lockdownCost, "</div>\\n    </div>");\n};\n\nvar getSizeMap = function getSizeMap() {\n  var mapWidth, mapHeight;\n\n  if (base_domElements.mapPage.map) {\n    if (window.innerWidth <= 800) {\n      mapWidth = base_domElements.mainContent.offsetWidth * 0.9;\n      mapHeight = mapWidth / 1.77;\n    } else {\n      mapWidth = base_domElements.mainContent.offsetWidth * 0.6;\n      mapHeight = base_domElements.mainContent.offsetHeight * 0.7;\n      var ratio = +(mapWidth / mapHeight).toFixed(2); //adjusting to the appropriate ratio\n\n      if (ratio > 1.8) {\n        mapHeight = mapWidth / 1.8;\n      }\n    }\n  } else {\n    mapWidth = base_domElements.mainContent.offsetWidth * 0.6;\n    mapHeight = mapWidth / 1.77;\n  }\n\n  return {\n    mapWidth: mapWidth,\n    mapHeight: mapHeight\n  };\n};\n\nvar updateRegionShare = function updateRegionShare() {\n  var shareValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return base_domElements.mapPage.regionCard.shareDisplay.textContent = (shareValue * 100).toFixed(2);\n};\n\nvar changeTooltipContent = function changeTooltipContent(_ref2) {\n  var name = _ref2.name,\n      imageURL = _ref2.imageURL,\n      salary = _ref2.salary,\n      employed = _ref2.employed,\n      lockdownCost = _ref2.lockdownCost;\n  base_domElements.mapPage.tooltip.name.textContent = name;\n  base_domElements.mapPage.tooltip.image.src = imageURL;\n  base_domElements.mapPage.tooltip.salaryHolder.textContent = salary;\n  base_domElements.mapPage.tooltip.employedHolder.textContent = employed;\n  base_domElements.mapPage.tooltip.lossesHolder.textContent = lockdownCost;\n};\n\nvar fillRegionWithColor = function fillRegionWithColor(_ref3, color) {\n  var paths = _ref3.paths,\n      polygons = _ref3.polygons;\n  var strokeSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var strokeColor = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : "#fff";\n  Array.prototype.forEach.call(paths, function (path) {\n    return path.node.setAttribute("fill", color) || (path.node.style.strokeWidth = "".concat(strokeSize, "px")) || path.node.setAttribute("stroke", strokeColor);\n  });\n  Array.prototype.forEach.call(polygons, function (path) {\n    return path.node.setAttribute("fill", color) || (path.node.style.strokeWidth = "".concat(strokeSize, "px")) || path.node.setAttribute("stroke", strokeColor);\n  });\n};\n\nvar reorderRegionsInTable = function reorderRegionsInTable(type, order, columnName, regions) {\n  var _domElements$mapPage$;\n\n  //helper functions\n  var compare = function compare(a, b) {\n    if (order === "down") {\n      var _ref4 = [a, b];\n      b = _ref4[0];\n      a = _ref4[1];\n    }\n\n    if (a > b) return 1;\n    if (a < b) return -1;\n    return 0;\n  }; //sorting the regions in the table based on the given column value and order\n\n\n  var regionRows = Array.from(document.querySelectorAll(".tr[id]"));\n  regionRows.sort(function (leftRegion, rightRegion) {\n    return compare(regions[leftRegion.id][columnName], regions[rightRegion.id][columnName]);\n  });\n  base_domElements.mapPage.regionTable.tbody.innerHTML = "";\n\n  (_domElements$mapPage$ = base_domElements.mapPage.regionTable.tbody).append.apply(_domElements$mapPage$, _toConsumableArray(regionRows));\n}; // exported functions to render the main elements of page with map\n\n\nvar buildRegionTable = function buildRegionTable(rawRegions) {\n  //filling table with data if empty\n  if (!base_domElements.mapPage.regionTable.tbody.innerHTML) {\n    //converting into array\n    var regions = getRegionsArray(rawRegions);\n    base_domElements.mapPage.regionTable.tbody.innerHTML = "";\n    regions.forEach(function (region) {\n      return base_domElements.mapPage.regionTable.tbody.insertAdjacentHTML("afterbegin", getRegionRowMarkup(region));\n    });\n  }\n};\nvar buildMap = function buildMap(_ref5) {\n  var rawRegions = _ref5.rawRegions,\n      viewport = _ref5.viewport,\n      mapWidth = _ref5.mapWidth,\n      mapHeight = _ref5.mapHeight,\n      mapWrapperId = _ref5.mapWrapperId;\n  //initializing map if not existed\n  base_domElements.mapPage.mapWrapper.style.display = "none"; //making the wrapper visible so that the library Raphael would be able to find that and insert map\n\n  base_domElements.mainContent.append(base_domElements.mapPage.mapWrapper);\n  var map;\n  var regionsArray = getRegionsArray(rawRegions);\n  map = new RussianMap({\n    viewPort: viewport,\n    mapId: mapWrapperId,\n    width: mapWidth,\n    height: mapHeight\n  }, regionsArray); //extracting the map itself\n\n  base_domElements.mapPage.map = base_domElements.mapPage.mapWrapper.querySelector("svg"); //removing aspect ratio property\n\n  base_domElements.mapPage.map.setAttribute("preserveAspectRatio", "none"); //removing mapWrapper from page\n\n  base_domElements.mapPage.mapWrapper.remove(); // domElements.mapPage.mapWrapper.style.display = \'\';\n};\nvar renderShareCard = function renderShareCard() {\n  domElements.mainContent.append(domElements.mapPage.regionCard.rootElement);\n};\nvar moveTooltip = function moveTooltip(_ref6) {\n  var x = _ref6.clientX,\n      y = _ref6.clientY;\n  base_domElements.mapPage.tooltip.rootElement.style.left = "".concat(x + 20, "px");\n\n  if (y + base_domElements.mapPage.tooltip.rootElement.offsetHeight >= base_domElements.mainContent.offsetHeight) {\n    base_domElements.mapPage.tooltip.rootElement.style.top = "".concat(y - base_domElements.mapPage.tooltip.rootElement.offsetHeight, "px");\n  } else {\n    base_domElements.mapPage.tooltip.rootElement.style.top = "".concat(y, "px");\n  }\n};\nvar handleMapHover = function handleMapHover(event, regionsObject) {\n  var target = event.target;\n  var targetedRegionId = target.matches("[data-region-id]") ? target.dataset.regionId : "";\n\n  if (targetedRegionId) {\n    var currentRegion = regionsObject[targetedRegionId];\n    var currentTableRow = document.getElementById(targetedRegionId);\n\n    if (event.type == "mouseout") {\n      base_domElements.mapPage.tooltip.rootElement.remove();\n      currentTableRow.classList.remove("trow-selected");\n      updateRegionShare();\n    } else {\n      document.body.insertAdjacentElement("afterbegin", base_domElements.mapPage.tooltip.rootElement);\n      currentTableRow.scrollIntoView({\n        block: "center"\n      });\n      currentTableRow.classList.add("trow-selected");\n      updateRegionShare(currentRegion.lockdownCost / regionsObject.overallInfo.sumLosses);\n    }\n\n    changeTooltipContent(currentRegion);\n    moveTooltip(event);\n    fillRegionWithColor(currentRegion, event.type == "mouseout" ? currentRegion.colorMap : "rgb(133, 9, 9)");\n  }\n};\nvar handleRegionTableHover = function handleRegionTableHover(_ref7, regionsObject) {\n  var target = _ref7.target,\n      type = _ref7.type;\n  target = target.closest(".tr[id]");\n\n  if (target) {\n    var currentRegion = regionsObject[target.id];\n\n    if (type == "mouseover") {\n      fillRegionWithColor(currentRegion, "#6f7070", 4, "black");\n      target.classList.add("trow-selected");\n      updateRegionShare(currentRegion.lockdownCost / regionsObject.overallInfo.sumLosses);\n    } else {\n      updateRegionShare();\n      fillRegionWithColor(currentRegion, currentRegion.colorMap);\n      target.classList.remove("trow-selected");\n    }\n  }\n};\nvar handleTapRegionTable = function handleTapRegionTable(_ref8, regionsObject) {\n  var target = _ref8.target;\n  target = target.closest(".tr[id]");\n\n  if (target) {\n    if (!target.classList.contains("trow-selected")) {\n      var currentRegion = regionsObject[target.id];\n      var previousRegionElement = base_domElements.mapPage.regionTable.tbody.querySelector(".trow-selected");\n\n      if (previousRegionElement) {\n        fillRegionWithColor(regionsObject[previousRegionElement.id], currentRegion.colorMap);\n        previousRegionElement.classList.remove("trow-selected");\n      }\n\n      fillRegionWithColor(currentRegion, "#6f7070", 4, "black");\n      target.classList.add("trow-selected");\n      updateRegionShare(currentRegion.lockdownCost / regionsObject.overallInfo.sumLosses);\n    }\n  }\n};\nvar filterRegionTable = function filterRegionTable(_ref9, regionsObject) {\n  var target = _ref9.target;\n\n  var getSortObject = function getSortObject(sortElement) {\n    return {\n      element: sortElement,\n      type: sortElement.dataset.typeSort,\n      order: sortElement.dataset.sortOrder,\n      colName: sortElement.dataset.column\n    };\n  };\n\n  if (target.matches(".regions-map-filter")) {\n    var newSortObject = getSortObject(target);\n    var activeSortObject;\n    var activeSortElement = base_domElements.mapPage.regionTable.rootElement.querySelector(\'[data-sort-state="active"]\');\n\n    if (activeSortElement) {\n      activeSortObject = getSortObject(activeSortElement);\n    } //when active sort filet has been pressed\n\n\n    if (JSON.stringify(activeSortObject) === JSON.stringify(newSortObject)) {\n      //changing the order of the current filter\n      activeSortObject.element.classList.remove("fa-sort-".concat(activeSortObject.type, "-").concat(activeSortObject.order));\n      activeSortObject.order = activeSortObject.order === "up" ? "down" : "up";\n      activeSortObject.element.setAttribute("data-sort-order", activeSortObject.order);\n      activeSortObject.element.classList.add("fa-sort-".concat(activeSortObject.type, "-").concat(activeSortObject.order)); // reorderRegionsInTable(activeSortObject.type, activeSortObject.order);\n\n      reorderRegionsInTable(activeSortObject.type, activeSortObject.order, activeSortObject.colName, regionsObject);\n    } else {\n      //disabling the previous sort\n      if (activeSortObject) {\n        activeSortObject.element.classList.remove("fa-sort-".concat(activeSortObject.type, "-").concat(activeSortObject.order));\n        activeSortObject.element.classList.add("fa-sort");\n        activeSortObject.element.dataset.sortState = "disabled";\n      } //activating new sort element\n\n\n      newSortObject.element.classList.remove("fa-sort");\n      newSortObject.order = "down";\n      newSortObject.element.setAttribute("data-sort-order", "down");\n      newSortObject.element.setAttribute("data-sort-state", "active");\n      newSortObject.element.classList.add("fa-sort-".concat(newSortObject.type, "-").concat(newSortObject.order));\n      reorderRegionsInTable(newSortObject.type, newSortObject.order, newSortObject.colName, regionsObject);\n    }\n\n    base_domElements.mapPage.regionTable.tbody.scrollTop = 0;\n  }\n};\nvar renderMapPage = function renderMapPage() {\n  base_domElements.mainContent.dataset.currentPage = "map";\n  base_domElements.header.headerText.textContent = "Стоимость локдауна в РФ в 2020 году";\n  base_domElements.mapPage.mapWrapper.style.display = "";\n  base_domElements.mainContent.append(base_domElements.mapPage.mapWrapper, base_domElements.mapPage.regionTable.rootElement, base_domElements.mapPage.regionCard.rootElement);\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/views/thesisView.js\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || thesisView_unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"]; if (!it) { if (Array.isArray(o) || (it = thesisView_unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }\n\nfunction thesisView_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return thesisView_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return thesisView_arrayLikeToArray(o, minLen); }\n\nfunction thesisView_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\nvar fillDocSwitcher = function fillDocSwitcher(docOptions) {\n  var _iterator = _createForOfIteratorHelper(docOptions),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n          fileName = _step$value[0],\n          fileDesc = _step$value[1];\n\n      base_domElements.thesisPage.docSwitcher.switcher.insertAdjacentHTML("beforeend", "<li class=\\"document-switcher-item ".concat(fileName === "thesis.pdf" ? "document-item-selected" : "", "\\" data-pdf-source=\\"").concat(fileName, "\\">").concat(fileDesc, "</li>"));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n};\nvar toggleLoaderReader = function toggleLoaderReader(actionType) {\n  if (actionType === "remove") {\n    base_domElements.thesisPage.pdfReader.loadBackground.remove();\n  } else {\n    base_domElements.thesisPage.pdfReader.pdfWrapper.insertAdjacentElement("afterbegin", base_domElements.thesisPage.pdfReader.loadBackground);\n  }\n};\nvar renderPageContent = function renderPageContent() {\n  base_domElements.mainContent.dataset.currentPage = "thesis";\n  base_domElements.header.headerText.textContent = "Материалы ВКР";\n  base_domElements.mainContent.append(base_domElements.thesisPage.pdfReader.pdfWrapper, base_domElements.thesisPage.docSwitcher.wrapperSwitcher);\n};\nvar openFilePdf = function openFilePdf() {\n  window.open(base_domElements.thesisPage.pdfReader.pdfIframe.src);\n};\n;// CONCATENATED MODULE: ./frontend/src/scripts/panel.js\nfunction panel_toConsumableArray(arr) { return panel_arrayWithoutHoles(arr) || panel_iterableToArray(arr) || panel_unsupportedIterableToArray(arr) || panel_nonIterableSpread(); }\n\nfunction panel_nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\n\nfunction panel_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return panel_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return panel_arrayLikeToArray(o, minLen); }\n\nfunction panel_iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }\n\nfunction panel_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return panel_arrayLikeToArray(arr); }\n\nfunction panel_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction panel_asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction panel_asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { panel_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { panel_asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar state = {};\n\nvar buildMapPage = /*#__PURE__*/function () {\n  var _ref = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _mapView$getSizeMap, mapWidth, mapHeight;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            //loading data from server\n            state.mapData = new Map_Map();\n            _context.next = 4;\n            return state.mapData.getRegions();\n\n          case 4:\n            //building table\n            buildRegionTable(state.mapData.regionsObject); //building map\n\n            _mapView$getSizeMap = getSizeMap(), mapWidth = _mapView$getSizeMap.mapWidth, mapHeight = _mapView$getSizeMap.mapHeight;\n            buildMap({\n              viewport: state.mapData.regionsObject.overallInfo.viewport,\n              mapWidth: mapWidth,\n              mapHeight: mapHeight,\n              mapWrapperId: base_domElements.mapPage.mapWrapper.id,\n              rawRegions: state.mapData.regionsObject\n            }); //setting up event listeners for map hover\n\n            if (detectMobileDevice()) {\n              base_domElements.mapPage.regionTable.tbody.addEventListener("pointerdown", forwardFunction(handleTapRegionTable, base_domElements.mapPage.regionTable.rootElement, state.mapData.regionsObject));\n            } else {\n              base_domElements.mapPage.mapWrapper.addEventListener("mouseover", forwardFunction(handleMapHover, base_domElements.mapPage.mapWrapper, state.mapData.regionsObject));\n              base_domElements.mapPage.mapWrapper.addEventListener("mouseout", forwardFunction(handleMapHover, base_domElements.mapPage.mapWrapper, state.mapData.regionsObject));\n              base_domElements.mapPage.mapWrapper.addEventListener("mousemove", moveTooltip); //setting up event listeners for regions table hover and click\n\n              base_domElements.mapPage.regionTable.rootElement.addEventListener("mouseover", forwardFunction(handleRegionTableHover, base_domElements.mapPage.regionTable.rootElement, state.mapData.regionsObject));\n              base_domElements.mapPage.regionTable.rootElement.addEventListener("mouseout", forwardFunction(handleRegionTableHover, base_domElements.mapPage.regionTable.rootElement, state.mapData.regionsObject));\n            }\n\n            base_domElements.mapPage.regionTable.rootElement.addEventListener("click", forwardFunction(filterRegionTable, base_domElements.mapPage.regionTable.rootElement, state.mapData.regionsObject));\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context["catch"](0);\n            state.mapData = null;\n            throw _context.t0;\n\n          case 15:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 11]]);\n  }));\n\n  return function buildMapPage() {\n    return _ref.apply(this, arguments);\n  };\n}(); //new sector renderer\n\n\nvar renderChosenSector = /*#__PURE__*/function () {\n  var _ref2 = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(regionsObject) {\n    var nameSector, sectorData;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log({\n              fromRende: regionsObject\n            });\n            nameSector = base_domElements.sectorPage.sectorList.itemsHolder.querySelector(".selected-item").textContent;\n            _context2.prev = 2;\n\n            if (regionsObject.sectors[nameSector]) {\n              _context2.next = 10;\n              break;\n            }\n\n            insertMainLoader();\n            _context2.next = 7;\n            return regionsObject.getSectorData(nameSector);\n\n          case 7:\n            sectorData = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 10:\n            sectorData = regionsObject.sectors[nameSector];\n\n          case 11:\n            //inserting loader\n            //updating dom elements at sector page\n            setTimeout(removeMainLoader, 200);\n            updateSectorChart(sectorData);\n            updateSectorTable(sectorData.summaryData.tbody);\n            updateSectorReportCard(sectorData.summaryData);\n            _context2.next = 21;\n            break;\n\n          case 17:\n            _context2.prev = 17;\n            _context2.t0 = _context2["catch"](2);\n            renderRetryBoxOnLoader();\n            throw _context2.t0;\n\n          case 21:\n          case "end":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[2, 17]]);\n  }));\n\n  return function renderChosenSector(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar buildSectorPage = /*#__PURE__*/function () {\n  var _ref3 = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var firstSectorName, currentSector;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            insertMainLoader();\n            state.sectorsObject = new Sector();\n            _context4.next = 5;\n            return state.sectorsObject.getSectorsObject();\n\n          case 5:\n            firstSectorName = _context4.sent;\n            _context4.next = 8;\n            return state.sectorsObject.getSectorData(firstSectorName);\n\n          case 8:\n            currentSector = _context4.sent;\n            initializeSectorList(Object.keys(state.sectorsObject.sectors));\n            generateSectorChart(currentSector);\n            updateSectorTable(currentSector.summaryData.tbody);\n            updateSectorReportCard(currentSector.summaryData); //settinng up event listeners\n            //select sector on click\n\n            base_domElements.sectorPage.sectorList.itemsHolder.addEventListener("click", function (_ref4) {\n              var target = _ref4.target;\n              if (target.classList.contains("sector-item")) selectSectorItem(target);\n            }); //render new sector on click\n\n            base_domElements.sectorPage.sectorList.sectorBtn.addEventListener("click", /*#__PURE__*/panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _context3.next = 2;\n                      return renderChosenSector(state.sectorsObject);\n\n                    case 2:\n                    case "end":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3);\n            })));\n            removeMainLoader();\n            _context4.next = 23;\n            break;\n\n          case 18:\n            _context4.prev = 18;\n            _context4.t0 = _context4["catch"](0);\n            state.sectorsObject = null;\n            renderRetryBoxOnLoader();\n            throw _context4.t0;\n\n          case 23:\n          case "end":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 18]]);\n  }));\n\n  return function buildSectorPage() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar changeSrcPdfReader = function changeSrcPdfReader(_ref6) {\n  var target = _ref6.target;\n\n  if (target.matches(".document-switcher-item")) {\n    //clearing up the previous option\n    var selectedDoc = base_domElements.thesisPage.docSwitcher.switcher.querySelector(".document-item-selected");\n    if (selectedDoc) selectedDoc.classList.remove("document-item-selected"); //picking the new option\n\n    target.classList.add("document-item-selected");\n    base_domElements.thesisPage.pdfReader.pdfIframe.src = base_domElements.thesisPage.docSwitcher.relativePath + target.dataset.pdfSource;\n  }\n};\n\nvar buildThesisPage = function buildThesisPage() {\n  state.thesisObject = {};\n  state.thesisObject.options = new Thesis().documents; //filling document switcher with data\n\n  fillDocSwitcher(state.thesisObject.options); //setting up event listener to catch the load state\n\n  state.thesisObject.loadObserver = new MutationObserver(function () {\n    return toggleLoaderReader("insert");\n  });\n  state.thesisObject.loadObserver.observe(base_domElements.thesisPage.pdfReader.pdfIframe, {\n    attributes: true,\n    attributeFilter: ["src"]\n  });\n  base_domElements.thesisPage.pdfReader.pdfIframe.addEventListener("load", function () {\n    return setTimeout(toggleLoaderReader, 500, "remove");\n  }); //setting up source for the pdf reader\n\n  base_domElements.thesisPage.pdfReader.pdfIframe.src = base_domElements.thesisPage.docSwitcher.relativePath + panel_toConsumableArray(state.thesisObject.options)[0][0]; //setting up event listener for switcher\n\n  base_domElements.thesisPage.docSwitcher.switcher.addEventListener("click", function (e) {\n    return changeSrcPdfReader(e);\n  });\n  base_domElements.thesisPage.docSwitcher.iframeBtn.addEventListener("click", openFilePdf);\n};\n\nvar switchPage = /*#__PURE__*/function () {\n  var _ref8 = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref7) {\n    var target, pickedPageElement, pickedPage, previousPage;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            target = _ref7.target;\n            pickedPageElement = target.closest(".menu-item");\n\n            if (!pickedPageElement) {\n              _context5.next = 25;\n              break;\n            }\n\n            pickedPage = pickedPageElement.dataset.toPage;\n            previousPage = base_domElements.mainContent.dataset.currentPage;\n\n            if (!(pickedPage === previousPage)) {\n              _context5.next = 8;\n              break;\n            }\n\n            base_domElements.sidebar.rootElement.classList.remove("sidebar-expanded");\n            return _context5.abrupt("return");\n\n          case 8:\n            selectNavItem(previousPage, pickedPage);\n            base_domElements.mainContent.innerHTML = "";\n\n            if (!(pickedPage === "thesis")) {\n              _context5.next = 15;\n              break;\n            }\n\n            if (!state.thesisObject) {\n              buildThesisPage();\n            } //rendering thesis page content\n\n\n            renderPageContent();\n            _context5.next = 24;\n            break;\n\n          case 15:\n            if (!(pickedPage === "map")) {\n              _context5.next = 19;\n              break;\n            }\n\n            renderMapPage();\n            _context5.next = 24;\n            break;\n\n          case 19:\n            if (!(pickedPage === "sector")) {\n              _context5.next = 24;\n              break;\n            }\n\n            if (state.sectorsObject) {\n              _context5.next = 23;\n              break;\n            }\n\n            _context5.next = 23;\n            return buildSectorPage();\n\n          case 23:\n            renderSectorPage();\n\n          case 24:\n            base_domElements.sidebar.rootElement.classList.remove("sidebar-expanded");\n\n          case 25:\n          case "end":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n\n  return function switchPage(_x2) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nvar buildFrame = function buildFrame(_ref9) {\n  var sidebar = _ref9.sidebar,\n      header = _ref9.header,\n      mainContent = _ref9.mainContent,\n      backgroundBlurer = _ref9.backgroundBlurer;\n  //inserting sidebar and header as well as main content\n  document.body.append(sidebar.rootElement, header.rootElement, mainContent, backgroundBlurer); //setting up event listener to toggle the sidebar\n\n  sidebar.toggler.addEventListener("click", toggleSidebar); //setting up evet listener to change the page\n\n  sidebar.navigation.addEventListener("click", switchPage);\n};\n\nvar startApp = /*#__PURE__*/function () {\n  var _ref10 = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            //clearing  up the whole page\n            clearUpPage(); //displaying loading state\n\n            insertMainLoader(); //attaching event listener to the retry button\n\n            base_domElements.mainLoader.retryBtn.addEventListener("click", rerenderPage); //building main frame of the app\n\n            buildFrame(base_domElements); //loading the map page;\n\n            _context6.prev = 4;\n            _context6.next = 7;\n            return buildMapPage();\n\n          case 7:\n            //rendering map page\n            renderMapPage(); //removing main loader\n\n            removeMainLoader();\n            _context6.next = 14;\n            break;\n\n          case 11:\n            _context6.prev = 11;\n            _context6.t0 = _context6["catch"](4);\n            renderRetryBoxOnLoader();\n\n          case 14:\n          case "end":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[4, 11]]);\n  }));\n\n  return function startApp() {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nvar rerenderPage = /*#__PURE__*/function () {\n  var _ref11 = panel_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            //if map page has not been loaded\n            removeMainLoader();\n            console.log({\n              fromReRende: state\n            });\n\n            if (state.mapData) {\n              _context7.next = 7;\n              break;\n            }\n\n            startApp();\n            return _context7.abrupt("return");\n\n          case 7:\n            if (state.sectorsObject) {\n              _context7.next = 13;\n              break;\n            }\n\n            buildSectorPage();\n            renderSectorPage();\n            return _context7.abrupt("return");\n\n          case 13:\n            renderChosenSector(state.sectorsObject);\n            return _context7.abrupt("return");\n\n          case 15:\n          case "end":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n\n  return function rerenderPage() {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\nstartApp(); //functions for responsive layout\n\nwindow.onresize = function (e) {\n  var _mapView$getSizeMap2 = getSizeMap(),\n      mapWidth = _mapView$getSizeMap2.mapWidth,\n      mapHeight = _mapView$getSizeMap2.mapHeight;\n\n  base_domElements.mapPage.map.setAttribute("width", "".concat(mapWidth));\n  base_domElements.mapPage.map.setAttribute("height", "".concat(mapHeight));\n};\n\n//# sourceURL=webpack://thesis/./frontend/src/scripts/panel.js_+_14_modules?')}},__webpack_module_cache__={},deferred;function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](t,t.exports,__webpack_require__),t.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(n,e,t,r)=>{if(!e){var a=1/0;for(s=0;s<deferred.length;s++){for(var[e,t,r]=deferred[s],b=!0,i=0;i<e.length;i++)(!1&r||a>=r)&&Object.keys(__webpack_require__.O).every((n=>__webpack_require__.O[n](e[i])))?e.splice(i--,1):(b=!1,r<a&&(a=r));if(b){deferred.splice(s--,1);var o=t();void 0!==o&&(n=o)}}return n}r=r||0;for(var s=deferred.length;s>0&&deferred[s-1][2]>r;s--)deferred[s]=deferred[s-1];deferred[s]=[e,t,r]},__webpack_require__.d=(n,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={401:0};__webpack_require__.O.j=e=>0===n[e];var webpackJsonpCallback=(e,t)=>{var r,a,[b,i,o]=t,s=0;if(b.some((e=>0!==n[e]))){for(r in i)__webpack_require__.o(i,r)&&(__webpack_require__.m[r]=i[r]);if(o)var c=o(__webpack_require__)}for(e&&e(t);s<b.length;s++)a=b[s],__webpack_require__.o(n,a)&&n[a]&&n[a][0](),n[b[s]]=0;return __webpack_require__.O(c)},e=self.webpackChunkthesis=self.webpackChunkthesis||[];e.forEach(webpackJsonpCallback.bind(null,0)),e.push=webpackJsonpCallback.bind(null,e.push.bind(e))})();var __webpack_exports__=__webpack_require__.O(void 0,[666,181],(()=>__webpack_require__(6)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();